{"ast":null,"code":"var _jsxFileName = \"D:\\\\Belezza\\\\restaurant-chain-app\\\\src\\\\components\\\\AdminMenuSection.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AdminMenuSection({\n  restaurant,\n  supabase\n}) {\n  _s();\n  const [categories, setCategories] = useState([]);\n  const [menuItems, setMenuItems] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showForm, setShowForm] = useState(false);\n  const [formData, setFormData] = useState({\n    name: '',\n    description: '',\n    price: '',\n    category_id: '',\n    is_available: true,\n    image_url: '',\n    allergens: '',\n    recommended: false\n  });\n  const [showCategoryForm, setShowCategoryForm] = useState(false);\n  const [categoryFormData, setCategoryFormData] = useState({\n    name: '',\n    order: 0\n  });\n  const [editingId, setEditingId] = useState(null);\n  const [editingCategoryId, setEditingCategoryId] = useState(null);\n  const [selectedCategory, setSelectedCategory] = useState('all');\n  const [isUploading, setIsUploading] = useState(false);\n  const [uploadProgress, setUploadProgress] = useState(0);\n  const fileInputRef = useRef(null);\n  useEffect(() => {\n    if (!restaurant) return;\n    fetchMenuData();\n  }, [restaurant, selectedCategory, supabase]);\n  const fetchMenuData = async () => {\n    try {\n      setLoading(true);\n\n      // Зареждане на категории\n      const {\n        data: categoriesData,\n        error: categoriesError\n      } = await supabase.from('menu_categories').select('*').eq('restaurant_id', restaurant.id).order('order', {\n        ascending: true\n      });\n      if (categoriesError) throw categoriesError;\n      setCategories(categoriesData || []);\n\n      // Зареждане на продукти от менюто\n      let query = supabase.from('menu_items').select(`\n          *,\n          menu_categories:category_id (id, name)\n        `).eq('restaurant_id', restaurant.id);\n      if (selectedCategory !== 'all') {\n        query = query.eq('category_id', selectedCategory);\n      }\n      const {\n        data: menuData,\n        error: menuError\n      } = await query.order('name', {\n        ascending: true\n      });\n      if (menuError) throw menuError;\n      setMenuItems(menuData || []);\n    } catch (error) {\n      console.error('Error fetching menu data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleInputChange = e => {\n    const {\n      name,\n      value,\n      type,\n      checked\n    } = e.target;\n    setFormData({\n      ...formData,\n      [name]: type === 'checkbox' ? checked : type === 'number' ? parseFloat(value) : value\n    });\n  };\n  const handleCategoryInputChange = e => {\n    const {\n      name,\n      value,\n      type,\n      checked\n    } = e.target;\n    setCategoryFormData({\n      ...categoryFormData,\n      [name]: type === 'checkbox' ? checked : name === 'order' ? parseInt(value, 10) : value\n    });\n  };\n  const resetForm = () => {\n    setFormData({\n      name: '',\n      description: '',\n      price: '',\n      category_id: '',\n      is_available: true,\n      image_url: '',\n      allergens: '',\n      recommended: false\n    });\n    setEditingId(null);\n    if (fileInputRef.current) {\n      fileInputRef.current.value = '';\n    }\n  };\n  const resetCategoryForm = () => {\n    setCategoryFormData({\n      name: '',\n      order: categories.length > 0 ? Math.max(...categories.map(c => c.order)) + 1 : 0\n    });\n    setEditingCategoryId(null);\n  };\n  const handleFileChange = async e => {\n    const file = e.target.files[0];\n    if (!file) return;\n\n    // Проверка на типа файл\n    if (!['image/jpeg', 'image/png', 'image/webp', 'image/gif'].includes(file.type)) {\n      alert('Моля, качете изображение (JPEG, PNG, WEBP, GIF)');\n      if (fileInputRef.current) {\n        fileInputRef.current.value = '';\n      }\n      return;\n    }\n\n    // Проверка на размера (максимум 5MB)\n    if (file.size > 5 * 1024 * 1024) {\n      alert('Размерът на файла не може да надвишава 5MB');\n      if (fileInputRef.current) {\n        fileInputRef.current.value = '';\n      }\n      return;\n    }\n    try {\n      setIsUploading(true);\n      setUploadProgress(0);\n\n      // Генериране на уникално име на файла\n      const fileExt = file.name.split('.').pop();\n      const fileName = `${restaurant.id}/menu/${Date.now()}.${fileExt}`;\n\n      // Качване на файла в Supabase Storage\n      const {\n        data,\n        error\n      } = await supabase.storage.from('menu_images').upload(fileName, file, {\n        cacheControl: '3600',\n        upsert: false,\n        onUploadProgress: progress => {\n          setUploadProgress(Math.round(progress.loaded / progress.total * 100));\n        }\n      });\n      if (error) throw error;\n\n      // Получаване на публичен URL на качения файл\n      const {\n        data: urlData\n      } = supabase.storage.from('menu_images').getPublicUrl(data.path);\n\n      // Актуализиране на формата с URL-а на изображението\n      setFormData({\n        ...formData,\n        image_url: urlData.publicUrl\n      });\n      setIsUploading(false);\n    } catch (error) {\n      console.error('Error uploading image:', error);\n      alert('Възникна грешка при качване на изображението');\n      setIsUploading(false);\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      const fullData = {\n        ...formData,\n        restaurant_id: restaurant.id,\n        price: parseFloat(formData.price)\n      };\n      let result;\n      if (editingId) {\n        const {\n          data,\n          error\n        } = await supabase.from('menu_items').update(fullData).eq('id', editingId).select();\n        if (error) throw error;\n        result = data[0];\n\n        // Актуализиране на локалния списък\n        setMenuItems(menuItems.map(item => item.id === editingId ? {\n          ...item,\n          ...result\n        } : item));\n      } else {\n        const {\n          data,\n          error\n        } = await supabase.from('menu_items').insert([fullData]).select();\n        if (error) throw error;\n        result = data[0];\n\n        // Добавяне към локалния списък\n        setMenuItems([...menuItems, result]);\n      }\n      resetForm();\n      setShowForm(false);\n    } catch (error) {\n      console.error('Error saving menu item:', error);\n      alert('Възникна грешка при запазване на продукта');\n    }\n  };\n  const handleCategorySubmit = async e => {\n    e.preventDefault();\n    try {\n      const fullData = {\n        ...categoryFormData,\n        restaurant_id: restaurant.id\n      };\n      let result;\n      if (editingCategoryId) {\n        const {\n          data,\n          error\n        } = await supabase.from('menu_categories').update(fullData).eq('id', editingCategoryId).select();\n        if (error) throw error;\n        result = data[0];\n\n        // Актуализиране на локалния списък\n        setCategories(categories.map(cat => cat.id === editingCategoryId ? {\n          ...cat,\n          ...result\n        } : cat));\n      } else {\n        const {\n          data,\n          error\n        } = await supabase.from('menu_categories').insert([fullData]).select();\n        if (error) throw error;\n        result = data[0];\n\n        // Добавяне към локалния списък\n        setCategories([...categories, result]);\n      }\n      resetCategoryForm();\n      setShowCategoryForm(false);\n    } catch (error) {\n      console.error('Error saving category:', error);\n      alert('Възникна грешка при запазване на категорията');\n    }\n  };\n  const handleEdit = item => {\n    setFormData({\n      name: item.name,\n      description: item.description || '',\n      price: item.price.toString(),\n      category_id: item.category_id,\n      is_available: item.is_available,\n      image_url: item.image_url || '',\n      allergens: item.allergens || '',\n      recommended: item.recommended || false\n    });\n    setEditingId(item.id);\n    setShowForm(true);\n  };\n  const handleEditCategory = category => {\n    setCategoryFormData({\n      name: category.name,\n      order: category.order\n    });\n    setEditingCategoryId(category.id);\n    setShowCategoryForm(true);\n  };\n  const handleDelete = async id => {\n    if (!window.confirm(\"Сигурни ли сте, че искате да изтриете този продукт?\")) {\n      return;\n    }\n    try {\n      const {\n        error\n      } = await supabase.from('menu_items').delete().eq('id', id);\n      if (error) throw error;\n\n      // Премахване от локалния списък\n      setMenuItems(menuItems.filter(item => item.id !== id));\n    } catch (error) {\n      console.error('Error deleting menu item:', error);\n      alert('Възникна грешка при изтриване на продукта');\n    }\n  };\n  const handleDeleteCategory = async id => {\n    // Проверка дали категорията се използва в продукти\n    const itemsInCategory = menuItems.filter(item => item.category_id === id);\n    if (itemsInCategory.length > 0) {\n      alert(`Не можете да изтриете тази категория, защото има ${itemsInCategory.length} продукта в нея.`);\n      return;\n    }\n    if (!window.confirm(\"Сигурни ли сте, че искате да изтриете тази категория?\")) {\n      return;\n    }\n    try {\n      const {\n        error\n      } = await supabase.from('menu_categories').delete().eq('id', id);\n      if (error) throw error;\n\n      // Премахване от локалния списък\n      setCategories(categories.filter(cat => cat.id !== id));\n\n      // Ако текущо избраната категория е изтрита, връщаме се към \"всички\"\n      if (selectedCategory === id) {\n        setSelectedCategory('all');\n      }\n    } catch (error) {\n      console.error('Error deleting category:', error);\n      alert('Възникна грешка при изтриване на категорията');\n    }\n  };\n  const handleCategoryChange = categoryId => {\n    setSelectedCategory(categoryId);\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"\\u0417\\u0430\\u0440\\u0435\\u0436\\u0434\\u0430\\u043D\\u0435 \\u043D\\u0430 \\u043C\\u0435\\u043D\\u044E...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"\\u041C\\u0435\\u043D\\u044E: \", restaurant === null || restaurant === void 0 ? void 0 : restaurant.name]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-controls menu-controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-filter-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u0424\\u0438\\u043B\\u0442\\u0440\\u0438\\u0440\\u0430\\u043D\\u0435 \\u043F\\u043E \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"category-filters\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: `admin-filter-btn ${selectedCategory === 'all' ? 'active' : ''}`,\n            onClick: () => handleCategoryChange('all'),\n            children: \"\\u0412\\u0441\\u0438\\u0447\\u043A\\u0438 \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 13\n          }, this), categories.map(category => /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `admin-filter-btn ${selectedCategory === category.id ? 'active' : ''}`,\n            onClick: () => handleCategoryChange(category.id),\n            children: category.name\n          }, category.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-button-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"admin-add-btn\",\n          onClick: () => {\n            resetCategoryForm();\n            setShowCategoryForm(!showCategoryForm);\n            if (showForm) setShowForm(false);\n          },\n          children: showCategoryForm ? 'Отказ' : 'Добави категория'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"admin-add-btn\",\n          onClick: () => {\n            resetForm();\n            setShowForm(!showForm);\n            if (showCategoryForm) setShowCategoryForm(false);\n          },\n          children: showForm ? 'Отказ' : 'Добави продукт'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 363,\n      columnNumber: 7\n    }, this), showCategoryForm && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-form-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: editingCategoryId ? 'Редактиране на категория' : 'Нова категория'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleCategorySubmit,\n        className: \"admin-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u0418\\u043C\\u0435 \\u043D\\u0430 \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"name\",\n            value: categoryFormData.name,\n            onChange: handleCategoryInputChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 417,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u0420\\u0435\\u0434 \\u043D\\u0430 \\u043F\\u043E\\u043A\\u0430\\u0437\\u0432\\u0430\\u043D\\u0435\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"order\",\n            value: categoryFormData.order,\n            onChange: handleCategoryInputChange,\n            required: true,\n            min: \"0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 428,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"admin-cancel-btn\",\n            onClick: () => setShowCategoryForm(false),\n            children: \"\\u041E\\u0442\\u043A\\u0430\\u0437\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 439,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"admin-submit-btn\",\n            children: editingCategoryId ? 'Запази промените' : 'Добави категория'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 414,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-categories-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\u0423\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u043D\\u0430 \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u0438\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 452,\n        columnNumber: 9\n      }, this), categories.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-no-data\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u041D\\u044F\\u043C\\u0430 \\u0434\\u043E\\u0431\\u0430\\u0432\\u0435\\u043D\\u0438 \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u0438. \\u0414\\u043E\\u0431\\u0430\\u0432\\u0435\\u0442\\u0435 \\u043F\\u044A\\u0440\\u0432\\u0430\\u0442\\u0430 \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 455,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"admin-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0418\\u043C\\u0435\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 461,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0420\\u0435\\u0434\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0411\\u0440\\u043E\\u0439 \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\\u0438\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 464,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 460,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: categories.map(category => {\n            const itemCount = menuItems.filter(item => item.category_id === category.id).length;\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: category.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 472,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: category.order\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 473,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: itemCount\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 474,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"admin-action-btn edit\",\n                  onClick: () => handleEditCategory(category),\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-edit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 480,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 476,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"admin-action-btn delete\",\n                  onClick: () => handleDeleteCategory(category.id),\n                  disabled: itemCount > 0,\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-trash\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 487,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 482,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 475,\n                columnNumber: 21\n              }, this)]\n            }, category.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 471,\n              columnNumber: 19\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 458,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 451,\n      columnNumber: 7\n    }, this), showForm && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-form-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: editingId ? 'Редактиране на продукт' : 'Нов продукт'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 501,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"admin-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u0418\\u043C\\u0435 \\u043D\\u0430 \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 504,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"name\",\n            value: formData.name,\n            onChange: handleInputChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 505,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 503,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u041A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 515,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"category_id\",\n            value: formData.category_id,\n            onChange: handleInputChange,\n            required: true,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"\\u0418\\u0437\\u0431\\u0435\\u0440\\u0435\\u0442\\u0435 \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 522,\n              columnNumber: 17\n            }, this), categories.map(category => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: category.id,\n              children: category.name\n            }, category.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 524,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 516,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 514,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u0426\\u0435\\u043D\\u0430 (\\u0432 \\u043B\\u0432.)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 532,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"price\",\n            value: formData.price,\n            onChange: handleInputChange,\n            required: true,\n            min: \"0\",\n            step: \"0.01\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 533,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 531,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 545,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            name: \"description\",\n            value: formData.description,\n            onChange: handleInputChange,\n            placeholder: \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435 \\u043D\\u0430 \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\\u0430\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 546,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 544,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u0418\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 555,\n            columnNumber: 15\n          }, this), formData.image_url ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"image-preview\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: formData.image_url,\n              alt: \"\\u041F\\u0440\\u0435\\u0434\\u0432\\u0430\\u0440\\u0438\\u0442\\u0435\\u043B\\u0435\\u043D \\u043F\\u0440\\u0435\\u0433\\u043B\\u0435\\u0434\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 558,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => setFormData({\n                ...formData,\n                image_url: ''\n              }),\n              className: \"remove-image-btn\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-times\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 564,\n                columnNumber: 21\n              }, this), \" \\u041F\\u0440\\u0435\\u043C\\u0430\\u0445\\u043D\\u0438\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 559,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 557,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"upload-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              accept: \"image/*\",\n              onChange: handleFileChange,\n              disabled: isUploading,\n              ref: fileInputRef\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 569,\n              columnNumber: 19\n            }, this), isUploading && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"upload-progress\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"progress-bar\",\n                style: {\n                  width: `${uploadProgress}%`\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 578,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [uploadProgress, \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 582,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 577,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"upload-separator\",\n              children: \"\\u0438\\u043B\\u0438\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 585,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"url\",\n              name: \"image_url\",\n              value: formData.image_url,\n              onChange: handleInputChange,\n              placeholder: \"\\u0412\\u044A\\u0432\\u0435\\u0434\\u0435\\u0442\\u0435 URL \\u043D\\u0430 \\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435\",\n              disabled: isUploading\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 586,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 568,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 554,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u0410\\u043B\\u0435\\u0440\\u0433\\u0435\\u043D\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 599,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"allergens\",\n            value: formData.allergens,\n            onChange: handleInputChange,\n            placeholder: \"\\u041D\\u0430\\u043F\\u0440.: \\u0433\\u043B\\u0443\\u0442\\u0435\\u043D, \\u043C\\u043B\\u0435\\u0447\\u043D\\u0438 \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\\u0438, \\u044F\\u0434\\u043A\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 600,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 598,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group checkbox-group\",\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              name: \"is_available\",\n              checked: formData.is_available,\n              onChange: handleInputChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 611,\n              columnNumber: 17\n            }, this), \"\\u041D\\u0430\\u043B\\u0438\\u0447\\u0435\\u043D \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 610,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 609,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group checkbox-group\",\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              name: \"recommended\",\n              checked: formData.recommended,\n              onChange: handleInputChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 623,\n              columnNumber: 17\n            }, this), \"\\u041F\\u0440\\u0435\\u043F\\u043E\\u0440\\u044A\\u0447\\u0430\\u043D \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 622,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 621,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"admin-cancel-btn\",\n            onClick: () => setShowForm(false),\n            children: \"\\u041E\\u0442\\u043A\\u0430\\u0437\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 634,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"admin-submit-btn\",\n            disabled: isUploading,\n            children: editingId ? 'Запази промените' : 'Добави продукт'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 637,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 633,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 502,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 500,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-table-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\u041F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\\u0438 \\u0432 \\u043C\\u0435\\u043D\\u044E\\u0442\\u043E\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 651,\n        columnNumber: 9\n      }, this), menuItems.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-no-data\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u041D\\u044F\\u043C\\u0430 \\u0434\\u043E\\u0431\\u0430\\u0432\\u0435\\u043D\\u0438 \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\\u0438 \\u0432 \\u043C\\u0435\\u043D\\u044E\\u0442\\u043E.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 654,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 653,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"admin-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0418\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 660,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0418\\u043C\\u0435\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 661,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u041A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 662,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0426\\u0435\\u043D\\u0430\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 663,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 664,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u041F\\u0440\\u0435\\u043F\\u043E\\u0440\\u044A\\u0447\\u0430\\u043D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 665,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 666,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 659,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 658,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: menuItems.map(item => {\n            var _item$menu_categories, _item$price;\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.image_url ? /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: item.image_url,\n                  alt: item.name,\n                  className: \"menu-item-thumbnail\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 674,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"menu-item-no-image\",\n                  children: \"\\u041D\\u044F\\u043C\\u0430 \\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 676,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 672,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: item.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 680,\n                  columnNumber: 21\n                }, this), item.description && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"menu-item-description\",\n                  children: item.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 681,\n                  columnNumber: 42\n                }, this), item.allergens && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"menu-item-allergens\",\n                  children: [\"\\u0410\\u043B\\u0435\\u0440\\u0433\\u0435\\u043D\\u0438: \", item.allergens]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 682,\n                  columnNumber: 40\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 679,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: ((_item$menu_categories = item.menu_categories) === null || _item$menu_categories === void 0 ? void 0 : _item$menu_categories.name) || 'Без категория'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 684,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [(_item$price = item.price) === null || _item$price === void 0 ? void 0 : _item$price.toFixed(2), \" \\u043B\\u0432.\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 685,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `status-badge ${item.is_available ? 'active' : 'inactive'}`,\n                  children: item.is_available ? 'Наличен' : 'Неналичен'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 687,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 686,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.recommended ? /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-star recommended-star\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 692,\n                  columnNumber: 41\n                }, this) : '-'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 691,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"admin-action-btn edit\",\n                  onClick: () => handleEdit(item),\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-edit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 699,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 695,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"admin-action-btn delete\",\n                  onClick: () => handleDelete(item.id),\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-trash\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 705,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 701,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 694,\n                columnNumber: 19\n              }, this)]\n            }, item.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 671,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 669,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 657,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 650,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 360,\n    columnNumber: 5\n  }, this);\n}\n_s(AdminMenuSection, \"oTYbClQGwFiLVcs0aWdf7XrBnLM=\");\n_c = AdminMenuSection;\nexport default AdminMenuSection;\nvar _c;\n$RefreshReg$(_c, \"AdminMenuSection\");","map":{"version":3,"names":["React","useState","useEffect","useRef","jsxDEV","_jsxDEV","AdminMenuSection","restaurant","supabase","_s","categories","setCategories","menuItems","setMenuItems","loading","setLoading","showForm","setShowForm","formData","setFormData","name","description","price","category_id","is_available","image_url","allergens","recommended","showCategoryForm","setShowCategoryForm","categoryFormData","setCategoryFormData","order","editingId","setEditingId","editingCategoryId","setEditingCategoryId","selectedCategory","setSelectedCategory","isUploading","setIsUploading","uploadProgress","setUploadProgress","fileInputRef","fetchMenuData","data","categoriesData","error","categoriesError","from","select","eq","id","ascending","query","menuData","menuError","console","handleInputChange","e","value","type","checked","target","parseFloat","handleCategoryInputChange","parseInt","resetForm","current","resetCategoryForm","length","Math","max","map","c","handleFileChange","file","files","includes","alert","size","fileExt","split","pop","fileName","Date","now","storage","upload","cacheControl","upsert","onUploadProgress","progress","round","loaded","total","urlData","getPublicUrl","path","publicUrl","handleSubmit","preventDefault","fullData","restaurant_id","result","update","item","insert","handleCategorySubmit","cat","handleEdit","toString","handleEditCategory","category","handleDelete","window","confirm","delete","filter","handleDeleteCategory","itemsInCategory","handleCategoryChange","categoryId","children","_jsxFileName","lineNumber","columnNumber","className","onClick","onSubmit","onChange","required","min","itemCount","disabled","step","placeholder","src","alt","accept","ref","style","width","_item$menu_categories","_item$price","menu_categories","toFixed","_c","$RefreshReg$"],"sources":["D:/Belezza/restaurant-chain-app/src/components/AdminMenuSection.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\n\r\nfunction AdminMenuSection({ restaurant, supabase }) {\r\n  const [categories, setCategories] = useState([]);\r\n  const [menuItems, setMenuItems] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    description: '',\r\n    price: '',\r\n    category_id: '',\r\n    is_available: true,\r\n    image_url: '',\r\n    allergens: '',\r\n    recommended: false\r\n  });\r\n  const [showCategoryForm, setShowCategoryForm] = useState(false);\r\n  const [categoryFormData, setCategoryFormData] = useState({\r\n    name: '',\r\n    order: 0\r\n  });\r\n  const [editingId, setEditingId] = useState(null);\r\n  const [editingCategoryId, setEditingCategoryId] = useState(null);\r\n  const [selectedCategory, setSelectedCategory] = useState('all');\r\n  const [isUploading, setIsUploading] = useState(false);\r\n  const [uploadProgress, setUploadProgress] = useState(0);\r\n  const fileInputRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (!restaurant) return;\r\n    fetchMenuData();\r\n  }, [restaurant, selectedCategory, supabase]);\r\n\r\n  const fetchMenuData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      \r\n      // Зареждане на категории\r\n      const { data: categoriesData, error: categoriesError } = await supabase\r\n        .from('menu_categories')\r\n        .select('*')\r\n        .eq('restaurant_id', restaurant.id)\r\n        .order('order', { ascending: true });\r\n      \r\n      if (categoriesError) throw categoriesError;\r\n      setCategories(categoriesData || []);\r\n      \r\n      // Зареждане на продукти от менюто\r\n      let query = supabase\r\n        .from('menu_items')\r\n        .select(`\r\n          *,\r\n          menu_categories:category_id (id, name)\r\n        `)\r\n        .eq('restaurant_id', restaurant.id);\r\n      \r\n      if (selectedCategory !== 'all') {\r\n        query = query.eq('category_id', selectedCategory);\r\n      }\r\n      \r\n      const { data: menuData, error: menuError } = await query\r\n        .order('name', { ascending: true });\r\n      \r\n      if (menuError) throw menuError;\r\n      setMenuItems(menuData || []);\r\n    } catch (error) {\r\n      console.error('Error fetching menu data:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value, type, checked } = e.target;\r\n    setFormData({\r\n      ...formData,\r\n      [name]: type === 'checkbox' ? checked : \r\n              type === 'number' ? parseFloat(value) : value\r\n    });\r\n  };\r\n\r\n  const handleCategoryInputChange = (e) => {\r\n    const { name, value, type, checked } = e.target;\r\n    setCategoryFormData({\r\n      ...categoryFormData,\r\n      [name]: type === 'checkbox' ? checked : \r\n              name === 'order' ? parseInt(value, 10) : value\r\n    });\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setFormData({\r\n      name: '',\r\n      description: '',\r\n      price: '',\r\n      category_id: '',\r\n      is_available: true,\r\n      image_url: '',\r\n      allergens: '',\r\n      recommended: false\r\n    });\r\n    setEditingId(null);\r\n    if (fileInputRef.current) {\r\n      fileInputRef.current.value = '';\r\n    }\r\n  };\r\n\r\n  const resetCategoryForm = () => {\r\n    setCategoryFormData({\r\n      name: '',\r\n      order: categories.length > 0 ? Math.max(...categories.map(c => c.order)) + 1 : 0\r\n    });\r\n    setEditingCategoryId(null);\r\n  };\r\n\r\n  const handleFileChange = async (e) => {\r\n    const file = e.target.files[0];\r\n    if (!file) return;\r\n    \r\n    // Проверка на типа файл\r\n    if (!['image/jpeg', 'image/png', 'image/webp', 'image/gif'].includes(file.type)) {\r\n      alert('Моля, качете изображение (JPEG, PNG, WEBP, GIF)');\r\n      if (fileInputRef.current) {\r\n        fileInputRef.current.value = '';\r\n      }\r\n      return;\r\n    }\r\n    \r\n    // Проверка на размера (максимум 5MB)\r\n    if (file.size > 5 * 1024 * 1024) {\r\n      alert('Размерът на файла не може да надвишава 5MB');\r\n      if (fileInputRef.current) {\r\n        fileInputRef.current.value = '';\r\n      }\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      setIsUploading(true);\r\n      setUploadProgress(0);\r\n      \r\n      // Генериране на уникално име на файла\r\n      const fileExt = file.name.split('.').pop();\r\n      const fileName = `${restaurant.id}/menu/${Date.now()}.${fileExt}`;\r\n      \r\n      // Качване на файла в Supabase Storage\r\n      const { data, error } = await supabase.storage\r\n        .from('menu_images')\r\n        .upload(fileName, file, {\r\n          cacheControl: '3600',\r\n          upsert: false,\r\n          onUploadProgress: (progress) => {\r\n            setUploadProgress(Math.round((progress.loaded / progress.total) * 100));\r\n          }\r\n        });\r\n      \r\n      if (error) throw error;\r\n      \r\n      // Получаване на публичен URL на качения файл\r\n      const { data: urlData } = supabase.storage\r\n        .from('menu_images')\r\n        .getPublicUrl(data.path);\r\n      \r\n      // Актуализиране на формата с URL-а на изображението\r\n      setFormData({\r\n        ...formData,\r\n        image_url: urlData.publicUrl\r\n      });\r\n      \r\n      setIsUploading(false);\r\n    } catch (error) {\r\n      console.error('Error uploading image:', error);\r\n      alert('Възникна грешка при качване на изображението');\r\n      setIsUploading(false);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    try {\r\n      const fullData = {\r\n        ...formData,\r\n        restaurant_id: restaurant.id,\r\n        price: parseFloat(formData.price)\r\n      };\r\n      \r\n      let result;\r\n      \r\n      if (editingId) {\r\n        const { data, error } = await supabase\r\n          .from('menu_items')\r\n          .update(fullData)\r\n          .eq('id', editingId)\r\n          .select();\r\n        \r\n        if (error) throw error;\r\n        result = data[0];\r\n        \r\n        // Актуализиране на локалния списък\r\n        setMenuItems(menuItems.map(item => \r\n          item.id === editingId ? { ...item, ...result } : item\r\n        ));\r\n      } else {\r\n        const { data, error } = await supabase\r\n          .from('menu_items')\r\n          .insert([fullData])\r\n          .select();\r\n        \r\n        if (error) throw error;\r\n        result = data[0];\r\n        \r\n        // Добавяне към локалния списък\r\n        setMenuItems([...menuItems, result]);\r\n      }\r\n      \r\n      resetForm();\r\n      setShowForm(false);\r\n    } catch (error) {\r\n      console.error('Error saving menu item:', error);\r\n      alert('Възникна грешка при запазване на продукта');\r\n    }\r\n  };\r\n\r\n  const handleCategorySubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    try {\r\n      const fullData = {\r\n        ...categoryFormData,\r\n        restaurant_id: restaurant.id\r\n      };\r\n      \r\n      let result;\r\n      \r\n      if (editingCategoryId) {\r\n        const { data, error } = await supabase\r\n          .from('menu_categories')\r\n          .update(fullData)\r\n          .eq('id', editingCategoryId)\r\n          .select();\r\n        \r\n        if (error) throw error;\r\n        result = data[0];\r\n        \r\n        // Актуализиране на локалния списък\r\n        setCategories(categories.map(cat => \r\n          cat.id === editingCategoryId ? { ...cat, ...result } : cat\r\n        ));\r\n      } else {\r\n        const { data, error } = await supabase\r\n          .from('menu_categories')\r\n          .insert([fullData])\r\n          .select();\r\n        \r\n        if (error) throw error;\r\n        result = data[0];\r\n        \r\n        // Добавяне към локалния списък\r\n        setCategories([...categories, result]);\r\n      }\r\n      \r\n      resetCategoryForm();\r\n      setShowCategoryForm(false);\r\n    } catch (error) {\r\n      console.error('Error saving category:', error);\r\n      alert('Възникна грешка при запазване на категорията');\r\n    }\r\n  };\r\n\r\n  const handleEdit = (item) => {\r\n    setFormData({\r\n      name: item.name,\r\n      description: item.description || '',\r\n      price: item.price.toString(),\r\n      category_id: item.category_id,\r\n      is_available: item.is_available,\r\n      image_url: item.image_url || '',\r\n      allergens: item.allergens || '',\r\n      recommended: item.recommended || false\r\n    });\r\n    setEditingId(item.id);\r\n    setShowForm(true);\r\n  };\r\n\r\n  const handleEditCategory = (category) => {\r\n    setCategoryFormData({\r\n      name: category.name,\r\n      order: category.order\r\n    });\r\n    setEditingCategoryId(category.id);\r\n    setShowCategoryForm(true);\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    if (!window.confirm(\"Сигурни ли сте, че искате да изтриете този продукт?\")) {\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      const { error } = await supabase\r\n        .from('menu_items')\r\n        .delete()\r\n        .eq('id', id);\r\n      \r\n      if (error) throw error;\r\n      \r\n      // Премахване от локалния списък\r\n      setMenuItems(menuItems.filter(item => item.id !== id));\r\n    } catch (error) {\r\n      console.error('Error deleting menu item:', error);\r\n      alert('Възникна грешка при изтриване на продукта');\r\n    }\r\n  };\r\n\r\n  const handleDeleteCategory = async (id) => {\r\n    // Проверка дали категорията се използва в продукти\r\n    const itemsInCategory = menuItems.filter(item => item.category_id === id);\r\n    \r\n    if (itemsInCategory.length > 0) {\r\n      alert(`Не можете да изтриете тази категория, защото има ${itemsInCategory.length} продукта в нея.`);\r\n      return;\r\n    }\r\n    \r\n    if (!window.confirm(\"Сигурни ли сте, че искате да изтриете тази категория?\")) {\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      const { error } = await supabase\r\n        .from('menu_categories')\r\n        .delete()\r\n        .eq('id', id);\r\n      \r\n      if (error) throw error;\r\n      \r\n      // Премахване от локалния списък\r\n      setCategories(categories.filter(cat => cat.id !== id));\r\n      \r\n      // Ако текущо избраната категория е изтрита, връщаме се към \"всички\"\r\n      if (selectedCategory === id) {\r\n        setSelectedCategory('all');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error deleting category:', error);\r\n      alert('Възникна грешка при изтриване на категорията');\r\n    }\r\n  };\r\n\r\n  const handleCategoryChange = (categoryId) => {\r\n    setSelectedCategory(categoryId);\r\n  };\r\n\r\n  if (loading) {\r\n    return <div>Зареждане на меню...</div>;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>Меню: {restaurant?.name}</h1>\r\n      \r\n      <div className=\"admin-controls menu-controls\">\r\n        <div className=\"admin-filter-container\">\r\n          <h3>Филтриране по категория:</h3>\r\n          <div className=\"category-filters\">\r\n            <button \r\n              className={`admin-filter-btn ${selectedCategory === 'all' ? 'active' : ''}`} \r\n              onClick={() => handleCategoryChange('all')}\r\n            >\r\n              Всички категории\r\n            </button>\r\n            {categories.map(category => (\r\n              <button \r\n                key={category.id} \r\n                className={`admin-filter-btn ${selectedCategory === category.id ? 'active' : ''}`}\r\n                onClick={() => handleCategoryChange(category.id)}\r\n              >\r\n                {category.name}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"admin-button-group\">\r\n          <button \r\n            className=\"admin-add-btn\"\r\n            onClick={() => {\r\n              resetCategoryForm();\r\n              setShowCategoryForm(!showCategoryForm);\r\n              if (showForm) setShowForm(false);\r\n            }}\r\n          >\r\n            {showCategoryForm ? 'Отказ' : 'Добави категория'}\r\n          </button>\r\n          \r\n          <button \r\n            className=\"admin-add-btn\"\r\n            onClick={() => {\r\n              resetForm();\r\n              setShowForm(!showForm);\r\n              if (showCategoryForm) setShowCategoryForm(false);\r\n            }}\r\n          >\r\n            {showForm ? 'Отказ' : 'Добави продукт'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Форма за категории */}\r\n      {showCategoryForm && (\r\n        <div className=\"admin-form-container\">\r\n          <h2>{editingCategoryId ? 'Редактиране на категория' : 'Нова категория'}</h2>\r\n          <form onSubmit={handleCategorySubmit} className=\"admin-form\">\r\n            <div className=\"form-group\">\r\n              <label>Име на категория</label>\r\n              <input \r\n                type=\"text\" \r\n                name=\"name\" \r\n                value={categoryFormData.name} \r\n                onChange={handleCategoryInputChange} \r\n                required \r\n              />\r\n            </div>\r\n            \r\n            <div className=\"form-group\">\r\n              <label>Ред на показване</label>\r\n              <input \r\n                type=\"number\" \r\n                name=\"order\" \r\n                value={categoryFormData.order} \r\n                onChange={handleCategoryInputChange} \r\n                required \r\n                min=\"0\"\r\n              />\r\n            </div>\r\n            \r\n            <div className=\"form-buttons\">\r\n              <button type=\"button\" className=\"admin-cancel-btn\" onClick={() => setShowCategoryForm(false)}>\r\n                Отказ\r\n              </button>\r\n              <button type=\"submit\" className=\"admin-submit-btn\">\r\n                {editingCategoryId ? 'Запази промените' : 'Добави категория'}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Управление на категории */}\r\n      <div className=\"admin-categories-section\">\r\n        <h2>Управление на категории</h2>\r\n        {categories.length === 0 ? (\r\n          <div className=\"admin-no-data\">\r\n            <p>Няма добавени категории. Добавете първата категория.</p>\r\n          </div>\r\n        ) : (\r\n          <table className=\"admin-table\">\r\n            <thead>\r\n              <tr>\r\n                <th>Име</th>\r\n                <th>Ред</th>\r\n                <th>Брой продукти</th>\r\n                <th>Действия</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {categories.map(category => {\r\n                const itemCount = menuItems.filter(item => item.category_id === category.id).length;\r\n                return (\r\n                  <tr key={category.id}>\r\n                    <td>{category.name}</td>\r\n                    <td>{category.order}</td>\r\n                    <td>{itemCount}</td>\r\n                    <td>\r\n                      <button \r\n                        className=\"admin-action-btn edit\"\r\n                        onClick={() => handleEditCategory(category)}\r\n                      >\r\n                        <i className=\"fas fa-edit\"></i>\r\n                      </button>\r\n                      <button \r\n                        className=\"admin-action-btn delete\"\r\n                        onClick={() => handleDeleteCategory(category.id)}\r\n                        disabled={itemCount > 0}\r\n                      >\r\n                        <i className=\"fas fa-trash\"></i>\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                );\r\n              })}\r\n            </tbody>\r\n          </table>\r\n        )}\r\n      </div>\r\n      \r\n      {/* Форма за добавяне/редактиране на продукт */}\r\n      {showForm && (\r\n        <div className=\"admin-form-container\">\r\n          <h2>{editingId ? 'Редактиране на продукт' : 'Нов продукт'}</h2>\r\n          <form onSubmit={handleSubmit} className=\"admin-form\">\r\n            <div className=\"form-group\">\r\n              <label>Име на продукт</label>\r\n              <input \r\n                type=\"text\" \r\n                name=\"name\" \r\n                value={formData.name} \r\n                onChange={handleInputChange} \r\n                required \r\n              />\r\n            </div>\r\n            \r\n            <div className=\"form-group\">\r\n              <label>Категория</label>\r\n              <select \r\n                name=\"category_id\" \r\n                value={formData.category_id} \r\n                onChange={handleInputChange} \r\n                required\r\n              >\r\n                <option value=\"\">Изберете категория</option>\r\n                {categories.map(category => (\r\n                  <option key={category.id} value={category.id}>\r\n                    {category.name}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n            \r\n            <div className=\"form-group\">\r\n              <label>Цена (в лв.)</label>\r\n              <input \r\n                type=\"number\" \r\n                name=\"price\" \r\n                value={formData.price} \r\n                onChange={handleInputChange} \r\n                required \r\n                min=\"0\"\r\n                step=\"0.01\"\r\n              />\r\n            </div>\r\n            \r\n            <div className=\"form-group\">\r\n              <label>Описание</label>\r\n              <textarea \r\n                name=\"description\" \r\n                value={formData.description} \r\n                onChange={handleInputChange} \r\n                placeholder=\"Описание на продукта\"\r\n              />\r\n            </div>\r\n            \r\n            <div className=\"form-group\">\r\n              <label>Изображение</label>\r\n              {formData.image_url ? (\r\n                <div className=\"image-preview\">\r\n                  <img src={formData.image_url} alt=\"Предварителен преглед\" />\r\n                  <button \r\n                    type=\"button\" \r\n                    onClick={() => setFormData({...formData, image_url: ''})}\r\n                    className=\"remove-image-btn\"\r\n                  >\r\n                    <i className=\"fas fa-times\"></i> Премахни\r\n                  </button>\r\n                </div>\r\n              ) : (\r\n                <div className=\"upload-container\">\r\n                  <input \r\n                    type=\"file\"\r\n                    accept=\"image/*\"\r\n                    onChange={handleFileChange}\r\n                    disabled={isUploading}\r\n                    ref={fileInputRef}\r\n                  />\r\n                  {isUploading && (\r\n                    <div className=\"upload-progress\">\r\n                      <div \r\n                        className=\"progress-bar\" \r\n                        style={{ width: `${uploadProgress}%` }}\r\n                      ></div>\r\n                      <span>{uploadProgress}%</span>\r\n                    </div>\r\n                  )}\r\n                  <div className=\"upload-separator\">или</div>\r\n                  <input \r\n                    type=\"url\" \r\n                    name=\"image_url\" \r\n                    value={formData.image_url} \r\n                    onChange={handleInputChange} \r\n                    placeholder=\"Въведете URL на изображение\"\r\n                    disabled={isUploading}\r\n                  />\r\n                </div>\r\n              )}\r\n            </div>\r\n            \r\n            <div className=\"form-group\">\r\n              <label>Алергени</label>\r\n              <input \r\n                type=\"text\" \r\n                name=\"allergens\" \r\n                value={formData.allergens} \r\n                onChange={handleInputChange} \r\n                placeholder=\"Напр.: глутен, млечни продукти, ядки\"\r\n              />\r\n            </div>\r\n            \r\n            <div className=\"form-group checkbox-group\">\r\n              <label>\r\n                <input \r\n                  type=\"checkbox\" \r\n                  name=\"is_available\" \r\n                  checked={formData.is_available} \r\n                  onChange={handleInputChange} \r\n                />\r\n                Наличен продукт\r\n              </label>\r\n            </div>\r\n            \r\n            <div className=\"form-group checkbox-group\">\r\n              <label>\r\n                <input \r\n                  type=\"checkbox\" \r\n                  name=\"recommended\" \r\n                  checked={formData.recommended} \r\n                  onChange={handleInputChange} \r\n                />\r\n                Препоръчан продукт\r\n              </label>\r\n            </div>\r\n            \r\n            <div className=\"form-buttons\">\r\n              <button type=\"button\" className=\"admin-cancel-btn\" onClick={() => setShowForm(false)}>\r\n                Отказ\r\n              </button>\r\n              <button \r\n                type=\"submit\" \r\n                className=\"admin-submit-btn\"\r\n                disabled={isUploading}\r\n              >\r\n                {editingId ? 'Запази промените' : 'Добави продукт'}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Списък с продукти */}\r\n      <div className=\"admin-table-container\">\r\n        <h2>Продукти в менюто</h2>\r\n        {menuItems.length === 0 ? (\r\n          <div className=\"admin-no-data\">\r\n            <p>Няма добавени продукти в менюто.</p>\r\n          </div>\r\n        ) : (\r\n          <table className=\"admin-table\">\r\n            <thead>\r\n              <tr>\r\n                <th>Изображение</th>\r\n                <th>Име</th>\r\n                <th>Категория</th>\r\n                <th>Цена</th>\r\n                <th>Статус</th>\r\n                <th>Препоръчан</th>\r\n                <th>Действия</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {menuItems.map(item => (\r\n                <tr key={item.id}>\r\n                  <td>\r\n                    {item.image_url ? (\r\n                      <img src={item.image_url} alt={item.name} className=\"menu-item-thumbnail\" />\r\n                    ) : (\r\n                      <div className=\"menu-item-no-image\">Няма изображение</div>\r\n                    )}\r\n                  </td>\r\n                  <td>\r\n                    <strong>{item.name}</strong>\r\n                    {item.description && <p className=\"menu-item-description\">{item.description}</p>}\r\n                    {item.allergens && <p className=\"menu-item-allergens\">Алергени: {item.allergens}</p>}\r\n                  </td>\r\n                  <td>{item.menu_categories?.name || 'Без категория'}</td>\r\n                  <td>{item.price?.toFixed(2)} лв.</td>\r\n                  <td>\r\n                    <span className={`status-badge ${item.is_available ? 'active' : 'inactive'}`}>\r\n                      {item.is_available ? 'Наличен' : 'Неналичен'}\r\n                    </span>\r\n                  </td>\r\n                  <td>\r\n                    {item.recommended ? <i className=\"fas fa-star recommended-star\"></i> : '-'}\r\n                  </td>\r\n                  <td>\r\n                    <button \r\n                      className=\"admin-action-btn edit\"\r\n                      onClick={() => handleEdit(item)}\r\n                    >\r\n                      <i className=\"fas fa-edit\"></i>\r\n                    </button>\r\n                    <button \r\n                      className=\"admin-action-btn delete\"\r\n                      onClick={() => handleDelete(item.id)}\r\n                    >\r\n                      <i className=\"fas fa-trash\"></i>\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AdminMenuSection;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}