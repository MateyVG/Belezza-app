{"ast":null,"code":"var _jsxFileName = \"D:\\\\Belezza\\\\restaurant-chain-app\\\\src\\\\pages\\\\Reservation.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { createClient } from '@supabase/supabase-js';\nimport './Reservation.css';\n\n// Използвайте същите настройки за Supabase\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst supabaseUrl = 'https://lnquyopfvuikhjbjsiqk.supabase.co';\nconst supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxucXV5b3BmdnVpa2hqYmpzaXFrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDU0ODA5MDEsImV4cCI6MjA2MTA1NjkwMX0.GmZ-5FzZkJyMorLGggF_Jegx2Atn0wRiNKCx4esecJw';\nconst supabase = createClient(supabaseUrl, supabaseKey);\nfunction Reservation() {\n  _s();\n  const {\n    id\n  } = useParams(); // Взима ID на ресторанта от URL\n  const navigate = useNavigate();\n\n  // Състояния за стъпките на резервацията\n  const [step, setStep] = useState(1);\n\n  // Състояния за данните на резервацията\n  const [restaurant, setRestaurant] = useState(null);\n  const [date, setDate] = useState('');\n  const [time, setTime] = useState('');\n  const [guests, setGuests] = useState(2);\n  const [tables, setTables] = useState([]);\n  const [selectedTable, setSelectedTable] = useState(null);\n  const [name, setName] = useState('');\n  const [phone, setPhone] = useState('');\n  const [email, setEmail] = useState('');\n\n  // Състояния за зареждане и грешки\n  const [loading, setLoading] = useState(true);\n  const [submitting, setSubmitting] = useState(false);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(false);\n\n  // Зареждане на данни за ресторанта\n  useEffect(() => {\n    async function fetchRestaurant() {\n      try {\n        const {\n          data,\n          error\n        } = await supabase.from('restaurants').select('*').eq('id', id).single();\n        if (error) throw error;\n        setRestaurant(data);\n      } catch (error) {\n        console.error(\"Грешка при зареждане на ресторанта:\", error);\n        setError(\"Не можахме да заредим информация за ресторанта\");\n      } finally {\n        setLoading(false);\n      }\n    }\n    fetchRestaurant();\n  }, [id]);\n\n  // Зареждане на свободни маси при избор на дата и час\n  useEffect(() => {\n    if (date && time && step === 2) {\n      async function fetchAvailableTables() {\n        try {\n          setLoading(true);\n\n          // Извличане на всички маси за този ресторант с подходящ капацитет\n          const {\n            data: allTables,\n            error: tablesError\n          } = await supabase.from('tables').select('*').eq('restaurant_id', id).gte('capacity', guests);\n          if (tablesError) throw tablesError;\n\n          // Извличане на резервирани маси за избраната дата и час\n          const {\n            data: reservations,\n            error: reservationsError\n          } = await supabase.from('reservations').select('table_id').eq('restaurant_id', id).eq('date', date).eq('time', time).in('status', ['confirmed', 'pending']);\n          if (reservationsError) throw reservationsError;\n\n          // Филтриране на свободните маси\n          const reservedTableIds = reservations.map(r => r.table_id);\n          const availableTables = allTables.filter(table => !reservedTableIds.includes(table.id));\n          setTables(availableTables);\n        } catch (error) {\n          console.error(\"Грешка при зареждане на масите:\", error);\n          setError(\"Не можахме да заредим свободните маси\");\n        } finally {\n          setLoading(false);\n        }\n      }\n      fetchAvailableTables();\n    }\n  }, [id, date, time, guests, step]);\n\n  // Преминаване към следваща стъпка\n  const nextStep = () => {\n    setStep(step + 1);\n  };\n\n  // Връщане към предишна стъпка\n  const prevStep = () => {\n    setStep(step - 1);\n  };\n\n  // Избор на маса\n  const handleTableSelect = table => {\n    setSelectedTable(table);\n  };\n\n  // Изпращане на резервацията\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!selectedTable) {\n      setError(\"Моля, изберете маса\");\n      return;\n    }\n    try {\n      setSubmitting(true);\n      const {\n        error\n      } = await supabase.from('reservations').insert([{\n        restaurant_id: id,\n        table_id: selectedTable.id,\n        date,\n        time,\n        name,\n        phone,\n        email,\n        guests_count: guests,\n        status: 'confirmed'\n      }]);\n      if (error) throw error;\n      setSuccess(true);\n\n      // След успешна резервация, връщаме към детайлната страница след 3 секунди\n      setTimeout(() => {\n        navigate(`/restaurant/${id}`);\n      }, 3000);\n    } catch (error) {\n      console.error(\"Грешка при създаване на резервация:\", error);\n      setError(\"Не успяхме да създадем резервацията. Моля, опитайте отново.\");\n    } finally {\n      setSubmitting(false);\n    }\n  };\n  if (loading && !restaurant) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading\",\n      children: \"\\u0417\\u0430\\u0440\\u0435\\u0436\\u0434\\u0430\\u043D\\u0435...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 12\n    }, this);\n  }\n  if (error && !restaurant) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"reservation-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"\\u0420\\u0435\\u0437\\u0435\\u0440\\u0432\\u0430\\u0446\\u0438\\u044F \\u0437\\u0430 \", restaurant === null || restaurant === void 0 ? void 0 : restaurant.name]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }, this), success ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"success-message\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\u0420\\u0435\\u0437\\u0435\\u0440\\u0432\\u0430\\u0446\\u0438\\u044F\\u0442\\u0430 \\u0435 \\u0443\\u0441\\u043F\\u0435\\u0448\\u043D\\u0430!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\u0411\\u043B\\u0430\\u0433\\u043E\\u0434\\u0430\\u0440\\u0438\\u043C \\u0432\\u0438 \\u0437\\u0430 \\u0432\\u0430\\u0448\\u0430\\u0442\\u0430 \\u0440\\u0435\\u0437\\u0435\\u0440\\u0432\\u0430\\u0446\\u0438\\u044F. \\u041E\\u0447\\u0430\\u043A\\u0432\\u0430\\u043C\\u0435 \\u0432\\u0438 \\u043D\\u0430 \", date, \" \\u0432 \", time, \".\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u0429\\u0435 \\u0431\\u044A\\u0434\\u0435\\u0442\\u0435 \\u043F\\u0440\\u0435\\u043D\\u0430\\u0441\\u043E\\u0447\\u0435\\u043D\\u0438 \\u043A\\u044A\\u043C \\u0441\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0430\\u0442\\u0430 \\u043D\\u0430 \\u0440\\u0435\\u0441\\u0442\\u043E\\u0440\\u0430\\u043D\\u0442\\u0430...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"reservation-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"steps-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `step ${step >= 1 ? 'active' : ''}`,\n          children: \"1. \\u0414\\u0430\\u0442\\u0430 \\u0438 \\u0447\\u0430\\u0441\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `step ${step >= 2 ? 'active' : ''}`,\n          children: \"2. \\u0418\\u0437\\u0431\\u043E\\u0440 \\u043D\\u0430 \\u043C\\u0430\\u0441\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `step ${step >= 3 ? 'active' : ''}`,\n          children: \"3. \\u0412\\u0430\\u0448\\u0438\\u0442\\u0435 \\u0434\\u0430\\u043D\\u043D\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 11\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-message\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 21\n      }, this), step === 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"step-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u0418\\u0437\\u0431\\u0435\\u0440\\u0435\\u0442\\u0435 \\u0434\\u0430\\u0442\\u0430, \\u0447\\u0430\\u0441 \\u0438 \\u0431\\u0440\\u043E\\u0439 \\u0433\\u043E\\u0441\\u0442\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"date\",\n            children: \"\\u0414\\u0430\\u0442\\u0430\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            id: \"date\",\n            value: date,\n            onChange: e => setDate(e.target.value),\n            min: new Date().toISOString().split('T')[0],\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"time\",\n            children: \"\\u0427\\u0430\\u0441\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"time\",\n            value: time,\n            onChange: e => setTime(e.target.value),\n            required: true,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"\\u0418\\u0437\\u0431\\u0435\\u0440\\u0435\\u0442\\u0435 \\u0447\\u0430\\u0441\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"12:00\",\n              children: \"12:00\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"12:30\",\n              children: \"12:30\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"13:00\",\n              children: \"13:00\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"13:30\",\n              children: \"13:30\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"14:00\",\n              children: \"14:00\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"14:30\",\n              children: \"14:30\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"15:00\",\n              children: \"15:00\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"15:30\",\n              children: \"15:30\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"16:00\",\n              children: \"16:00\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"16:30\",\n              children: \"16:30\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"17:00\",\n              children: \"17:00\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"17:30\",\n              children: \"17:30\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"18:00\",\n              children: \"18:00\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"18:30\",\n              children: \"18:30\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"19:00\",\n              children: \"19:00\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"19:30\",\n              children: \"19:30\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"20:00\",\n              children: \"20:00\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"20:30\",\n              children: \"20:30\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"21:00\",\n              children: \"21:00\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"guests\",\n            children: \"\\u0411\\u0440\\u043E\\u0439 \\u0433\\u043E\\u0441\\u0442\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"guests\",\n            value: guests,\n            onChange: e => setGuests(parseInt(e.target.value)),\n            required: true,\n            children: [...Array(8)].map((_, i) => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: i + 1,\n              children: [i + 1, \" \", i === 0 ? 'гост' : 'гости']\n            }, i + 1, true, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"button secondary\",\n            onClick: () => navigate(`/restaurant/${id}`),\n            children: \"\\u041E\\u0442\\u043A\\u0430\\u0437\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"button primary\",\n            onClick: nextStep,\n            disabled: !date || !time,\n            children: \"\\u041F\\u0440\\u043E\\u0434\\u044A\\u043B\\u0436\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 13\n      }, this), step === 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"step-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u0418\\u0437\\u0431\\u0435\\u0440\\u0435\\u0442\\u0435 \\u043C\\u0430\\u0441\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 15\n        }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading\",\n          children: \"\\u0417\\u0430\\u0440\\u0435\\u0436\\u0434\\u0430\\u043D\\u0435 \\u043D\\u0430 \\u0441\\u0432\\u043E\\u0431\\u043E\\u0434\\u043D\\u0438 \\u043C\\u0430\\u0441\\u0438...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 17\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [tables.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"no-tables\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u041D\\u044F\\u043C\\u0430 \\u0441\\u0432\\u043E\\u0431\\u043E\\u0434\\u043D\\u0438 \\u043C\\u0430\\u0441\\u0438 \\u0437\\u0430 \\u0438\\u0437\\u0431\\u0440\\u0430\\u043D\\u0430\\u0442\\u0430 \\u0434\\u0430\\u0442\\u0430 \\u0438 \\u0447\\u0430\\u0441.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u041C\\u043E\\u043B\\u044F, \\u0438\\u0437\\u0431\\u0435\\u0440\\u0435\\u0442\\u0435 \\u0434\\u0440\\u0443\\u0433\\u0430 \\u0434\\u0430\\u0442\\u0430 \\u0438\\u043B\\u0438 \\u0447\\u0430\\u0441.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 21\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"tables-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"restaurant-layout\",\n              children: tables.map(table => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `table ${(selectedTable === null || selectedTable === void 0 ? void 0 : selectedTable.id) === table.id ? 'selected' : ''}`,\n                style: {\n                  top: `${table.position_y}px`,\n                  left: `${table.position_x}px`,\n                  width: `${table.capacity > 2 ? 80 : 60}px`,\n                  height: `${table.capacity > 2 ? 80 : 60}px`\n                },\n                onClick: () => handleTableSelect(table),\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"table-number\",\n                  children: table.table_number\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 302,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"table-capacity\",\n                  children: [table.capacity, \" \\u043C\\u0435\\u0441\\u0442\\u0430\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 29\n                }, this)]\n              }, table.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 27\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"table-legend\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"legend-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"legend-color available\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 310,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\u0421\\u0432\\u043E\\u0431\\u043E\\u0434\\u043D\\u0430 \\u043C\\u0430\\u0441\\u0430\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 311,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"legend-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"legend-color selected\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 314,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\u0418\\u0437\\u0431\\u0440\\u0430\\u043D\\u0430 \\u043C\\u0430\\u0441\\u0430\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 315,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 313,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-buttons\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"button secondary\",\n              onClick: prevStep,\n              children: \"\\u041D\\u0430\\u0437\\u0430\\u0434\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"button primary\",\n              onClick: nextStep,\n              disabled: !selectedTable,\n              children: \"\\u041F\\u0440\\u043E\\u0434\\u044A\\u043B\\u0436\\u0438\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 13\n      }, this), step === 3 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"step-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u0412\\u0430\\u0448\\u0438\\u0442\\u0435 \\u0434\\u0430\\u043D\\u043D\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"name\",\n              children: \"\\u0418\\u043C\\u0435 \\u0438 \\u0444\\u0430\\u043C\\u0438\\u043B\\u0438\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"name\",\n              value: name,\n              onChange: e => setName(e.target.value),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"phone\",\n              children: \"\\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 360,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"tel\",\n              id: \"phone\",\n              value: phone,\n              onChange: e => setPhone(e.target.value),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"email\",\n              children: \"\\u0418\\u043C\\u0435\\u0439\\u043B\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              id: \"email\",\n              value: email,\n              onChange: e => setEmail(e.target.value),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"reservation-summary\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"\\u0414\\u0435\\u0442\\u0430\\u0439\\u043B\\u0438 \\u043D\\u0430 \\u0440\\u0435\\u0437\\u0435\\u0440\\u0432\\u0430\\u0446\\u0438\\u044F\\u0442\\u0430\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u0420\\u0435\\u0441\\u0442\\u043E\\u0440\\u0430\\u043D\\u0442:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 22\n              }, this), \" \", restaurant.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u0414\\u0430\\u0442\\u0430:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 384,\n                columnNumber: 22\n              }, this), \" \", date]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u0427\\u0430\\u0441:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 22\n              }, this), \" \", time]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u0411\\u0440\\u043E\\u0439 \\u0433\\u043E\\u0441\\u0442\\u0438:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 22\n              }, this), \" \", guests]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u041C\\u0430\\u0441\\u0430 \\u2116:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 387,\n                columnNumber: 22\n              }, this), \" \", selectedTable === null || selectedTable === void 0 ? void 0 : selectedTable.table_number]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-buttons\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"button secondary\",\n              onClick: prevStep,\n              children: \"\\u041D\\u0430\\u0437\\u0430\\u0434\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 391,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"button primary\",\n              disabled: submitting || !name || !phone || !email,\n              children: submitting ? 'Изпращане...' : 'Завърши резервацията'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 172,\n    columnNumber: 5\n  }, this);\n}\n_s(Reservation, \"cn7OszeFeswykUdh8NW2ArGEr50=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = Reservation;\nexport default Reservation;\nvar _c;\n$RefreshReg$(_c, \"Reservation\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","createClient","jsxDEV","_jsxDEV","Fragment","_Fragment","supabaseUrl","supabaseKey","supabase","Reservation","_s","id","navigate","step","setStep","restaurant","setRestaurant","date","setDate","time","setTime","guests","setGuests","tables","setTables","selectedTable","setSelectedTable","name","setName","phone","setPhone","email","setEmail","loading","setLoading","submitting","setSubmitting","error","setError","success","setSuccess","fetchRestaurant","data","from","select","eq","single","console","fetchAvailableTables","allTables","tablesError","gte","reservations","reservationsError","in","reservedTableIds","map","r","table_id","availableTables","filter","table","includes","nextStep","prevStep","handleTableSelect","handleSubmit","e","preventDefault","insert","restaurant_id","guests_count","status","setTimeout","className","children","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","type","value","onChange","target","min","Date","toISOString","split","required","parseInt","Array","_","i","onClick","disabled","length","style","top","position_y","left","position_x","width","capacity","height","table_number","onSubmit","_c","$RefreshReg$"],"sources":["D:/Belezza/restaurant-chain-app/src/pages/Reservation.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { createClient } from '@supabase/supabase-js';\r\nimport './Reservation.css';\r\n\r\n// Използвайте същите настройки за Supabase\r\nconst supabaseUrl = 'https://lnquyopfvuikhjbjsiqk.supabase.co';\r\nconst supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxucXV5b3BmdnVpa2hqYmpzaXFrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDU0ODA5MDEsImV4cCI6MjA2MTA1NjkwMX0.GmZ-5FzZkJyMorLGggF_Jegx2Atn0wRiNKCx4esecJw';\r\nconst supabase = createClient(supabaseUrl, supabaseKey);\r\n\r\nfunction Reservation() {\r\n  const { id } = useParams(); // Взима ID на ресторанта от URL\r\n  const navigate = useNavigate();\r\n  \r\n  // Състояния за стъпките на резервацията\r\n  const [step, setStep] = useState(1);\r\n  \r\n  // Състояния за данните на резервацията\r\n  const [restaurant, setRestaurant] = useState(null);\r\n  const [date, setDate] = useState('');\r\n  const [time, setTime] = useState('');\r\n  const [guests, setGuests] = useState(2);\r\n  const [tables, setTables] = useState([]);\r\n  const [selectedTable, setSelectedTable] = useState(null);\r\n  const [name, setName] = useState('');\r\n  const [phone, setPhone] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  \r\n  // Състояния за зареждане и грешки\r\n  const [loading, setLoading] = useState(true);\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [success, setSuccess] = useState(false);\r\n\r\n  // Зареждане на данни за ресторанта\r\n  useEffect(() => {\r\n    async function fetchRestaurant() {\r\n      try {\r\n        const { data, error } = await supabase\r\n          .from('restaurants')\r\n          .select('*')\r\n          .eq('id', id)\r\n          .single();\r\n        \r\n        if (error) throw error;\r\n        \r\n        setRestaurant(data);\r\n      } catch (error) {\r\n        console.error(\"Грешка при зареждане на ресторанта:\", error);\r\n        setError(\"Не можахме да заредим информация за ресторанта\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n    \r\n    fetchRestaurant();\r\n  }, [id]);\r\n\r\n  // Зареждане на свободни маси при избор на дата и час\r\n  useEffect(() => {\r\n    if (date && time && step === 2) {\r\n      async function fetchAvailableTables() {\r\n        try {\r\n          setLoading(true);\r\n          \r\n          // Извличане на всички маси за този ресторант с подходящ капацитет\r\n          const { data: allTables, error: tablesError } = await supabase\r\n            .from('tables')\r\n            .select('*')\r\n            .eq('restaurant_id', id)\r\n            .gte('capacity', guests);\r\n          \r\n          if (tablesError) throw tablesError;\r\n          \r\n          // Извличане на резервирани маси за избраната дата и час\r\n          const { data: reservations, error: reservationsError } = await supabase\r\n            .from('reservations')\r\n            .select('table_id')\r\n            .eq('restaurant_id', id)\r\n            .eq('date', date)\r\n            .eq('time', time)\r\n            .in('status', ['confirmed', 'pending']);\r\n          \r\n          if (reservationsError) throw reservationsError;\r\n          \r\n          // Филтриране на свободните маси\r\n          const reservedTableIds = reservations.map(r => r.table_id);\r\n          const availableTables = allTables.filter(table => !reservedTableIds.includes(table.id));\r\n          \r\n          setTables(availableTables);\r\n        } catch (error) {\r\n          console.error(\"Грешка при зареждане на масите:\", error);\r\n          setError(\"Не можахме да заредим свободните маси\");\r\n        } finally {\r\n          setLoading(false);\r\n        }\r\n      }\r\n      \r\n      fetchAvailableTables();\r\n    }\r\n  }, [id, date, time, guests, step]);\r\n\r\n  // Преминаване към следваща стъпка\r\n  const nextStep = () => {\r\n    setStep(step + 1);\r\n  };\r\n\r\n  // Връщане към предишна стъпка\r\n  const prevStep = () => {\r\n    setStep(step - 1);\r\n  };\r\n\r\n  // Избор на маса\r\n  const handleTableSelect = (table) => {\r\n    setSelectedTable(table);\r\n  };\r\n\r\n  // Изпращане на резервацията\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!selectedTable) {\r\n      setError(\"Моля, изберете маса\");\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      setSubmitting(true);\r\n      \r\n      const { error } = await supabase\r\n        .from('reservations')\r\n        .insert([\r\n          {\r\n            restaurant_id: id,\r\n            table_id: selectedTable.id,\r\n            date,\r\n            time,\r\n            name,\r\n            phone,\r\n            email,\r\n            guests_count: guests,\r\n            status: 'confirmed'\r\n          }\r\n        ]);\r\n      \r\n      if (error) throw error;\r\n      \r\n      setSuccess(true);\r\n      \r\n      // След успешна резервация, връщаме към детайлната страница след 3 секунди\r\n      setTimeout(() => {\r\n        navigate(`/restaurant/${id}`);\r\n      }, 3000);\r\n      \r\n    } catch (error) {\r\n      console.error(\"Грешка при създаване на резервация:\", error);\r\n      setError(\"Не успяхме да създадем резервацията. Моля, опитайте отново.\");\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  if (loading && !restaurant) {\r\n    return <div className=\"loading\">Зареждане...</div>;\r\n  }\r\n\r\n  if (error && !restaurant) {\r\n    return <div className=\"error\">{error}</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"reservation-container\">\r\n      <h1>Резервация за {restaurant?.name}</h1>\r\n      \r\n      {success ? (\r\n        <div className=\"success-message\">\r\n          <h2>Резервацията е успешна!</h2>\r\n          <p>Благодарим ви за вашата резервация. Очакваме ви на {date} в {time}.</p>\r\n          <p>Ще бъдете пренасочени към страницата на ресторанта...</p>\r\n        </div>\r\n      ) : (\r\n        <div className=\"reservation-form\">\r\n          <div className=\"steps-container\">\r\n            <div className={`step ${step >= 1 ? 'active' : ''}`}>1. Дата и час</div>\r\n            <div className={`step ${step >= 2 ? 'active' : ''}`}>2. Избор на маса</div>\r\n            <div className={`step ${step >= 3 ? 'active' : ''}`}>3. Вашите данни</div>\r\n          </div>\r\n          \r\n          {error && <div className=\"error-message\">{error}</div>}\r\n          \r\n          {step === 1 && (\r\n            <div className=\"step-content\">\r\n              <h2>Изберете дата, час и брой гости</h2>\r\n              \r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"date\">Дата</label>\r\n                <input \r\n                  type=\"date\" \r\n                  id=\"date\"\r\n                  value={date}\r\n                  onChange={(e) => setDate(e.target.value)}\r\n                  min={new Date().toISOString().split('T')[0]}\r\n                  required\r\n                />\r\n              </div>\r\n              \r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"time\">Час</label>\r\n                <select \r\n                  id=\"time\"\r\n                  value={time}\r\n                  onChange={(e) => setTime(e.target.value)}\r\n                  required\r\n                >\r\n                  <option value=\"\">Изберете час</option>\r\n                  <option value=\"12:00\">12:00</option>\r\n                  <option value=\"12:30\">12:30</option>\r\n                  <option value=\"13:00\">13:00</option>\r\n                  <option value=\"13:30\">13:30</option>\r\n                  <option value=\"14:00\">14:00</option>\r\n                  <option value=\"14:30\">14:30</option>\r\n                  <option value=\"15:00\">15:00</option>\r\n                  <option value=\"15:30\">15:30</option>\r\n                  <option value=\"16:00\">16:00</option>\r\n                  <option value=\"16:30\">16:30</option>\r\n                  <option value=\"17:00\">17:00</option>\r\n                  <option value=\"17:30\">17:30</option>\r\n                  <option value=\"18:00\">18:00</option>\r\n                  <option value=\"18:30\">18:30</option>\r\n                  <option value=\"19:00\">19:00</option>\r\n                  <option value=\"19:30\">19:30</option>\r\n                  <option value=\"20:00\">20:00</option>\r\n                  <option value=\"20:30\">20:30</option>\r\n                  <option value=\"21:00\">21:00</option>\r\n                </select>\r\n              </div>\r\n              \r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"guests\">Брой гости</label>\r\n                <select \r\n                  id=\"guests\"\r\n                  value={guests}\r\n                  onChange={(e) => setGuests(parseInt(e.target.value))}\r\n                  required\r\n                >\r\n                  {[...Array(8)].map((_, i) => (\r\n                    <option key={i + 1} value={i + 1}>\r\n                      {i + 1} {i === 0 ? 'гост' : 'гости'}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n              \r\n              <div className=\"form-buttons\">\r\n                <button \r\n                  type=\"button\" \r\n                  className=\"button secondary\"\r\n                  onClick={() => navigate(`/restaurant/${id}`)}\r\n                >\r\n                  Отказ\r\n                </button>\r\n                <button \r\n                  type=\"button\" \r\n                  className=\"button primary\"\r\n                  onClick={nextStep}\r\n                  disabled={!date || !time}\r\n                >\r\n                  Продължи\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n          \r\n          {step === 2 && (\r\n            <div className=\"step-content\">\r\n              <h2>Изберете маса</h2>\r\n              \r\n              {loading ? (\r\n                <div className=\"loading\">Зареждане на свободни маси...</div>\r\n              ) : (\r\n                <>\r\n                  {tables.length === 0 ? (\r\n                    <div className=\"no-tables\">\r\n                      <p>Няма свободни маси за избраната дата и час.</p>\r\n                      <p>Моля, изберете друга дата или час.</p>\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"tables-container\">\r\n                      <div className=\"restaurant-layout\">\r\n                        {tables.map(table => (\r\n                          <div\r\n                            key={table.id}\r\n                            className={`table ${selectedTable?.id === table.id ? 'selected' : ''}`}\r\n                            style={{\r\n                              top: `${table.position_y}px`,\r\n                              left: `${table.position_x}px`,\r\n                              width: `${table.capacity > 2 ? 80 : 60}px`,\r\n                              height: `${table.capacity > 2 ? 80 : 60}px`,\r\n                            }}\r\n                            onClick={() => handleTableSelect(table)}\r\n                          >\r\n                            <span className=\"table-number\">{table.table_number}</span>\r\n                            <span className=\"table-capacity\">{table.capacity} места</span>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                      \r\n                      <div className=\"table-legend\">\r\n                        <div className=\"legend-item\">\r\n                          <div className=\"legend-color available\"></div>\r\n                          <span>Свободна маса</span>\r\n                        </div>\r\n                        <div className=\"legend-item\">\r\n                          <div className=\"legend-color selected\"></div>\r\n                          <span>Избрана маса</span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                  \r\n                  <div className=\"form-buttons\">\r\n                    <button \r\n                      type=\"button\" \r\n                      className=\"button secondary\"\r\n                      onClick={prevStep}\r\n                    >\r\n                      Назад\r\n                    </button>\r\n                    <button \r\n                      type=\"button\" \r\n                      className=\"button primary\"\r\n                      onClick={nextStep}\r\n                      disabled={!selectedTable}\r\n                    >\r\n                      Продължи\r\n                    </button>\r\n                  </div>\r\n                </>\r\n              )}\r\n            </div>\r\n          )}\r\n          \r\n          {step === 3 && (\r\n            <div className=\"step-content\">\r\n              <h2>Вашите данни</h2>\r\n              \r\n              <form onSubmit={handleSubmit}>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"name\">Име и фамилия</label>\r\n                  <input \r\n                    type=\"text\" \r\n                    id=\"name\"\r\n                    value={name}\r\n                    onChange={(e) => setName(e.target.value)}\r\n                    required\r\n                  />\r\n                </div>\r\n                \r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"phone\">Телефон</label>\r\n                  <input \r\n                    type=\"tel\" \r\n                    id=\"phone\"\r\n                    value={phone}\r\n                    onChange={(e) => setPhone(e.target.value)}\r\n                    required\r\n                  />\r\n                </div>\r\n                \r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"email\">Имейл</label>\r\n                  <input \r\n                    type=\"email\" \r\n                    id=\"email\"\r\n                    value={email}\r\n                    onChange={(e) => setEmail(e.target.value)}\r\n                    required\r\n                  />\r\n                </div>\r\n                \r\n                <div className=\"reservation-summary\">\r\n                  <h3>Детайли на резервацията</h3>\r\n                  <p><strong>Ресторант:</strong> {restaurant.name}</p>\r\n                  <p><strong>Дата:</strong> {date}</p>\r\n                  <p><strong>Час:</strong> {time}</p>\r\n                  <p><strong>Брой гости:</strong> {guests}</p>\r\n                  <p><strong>Маса №:</strong> {selectedTable?.table_number}</p>\r\n                </div>\r\n                \r\n                <div className=\"form-buttons\">\r\n                  <button \r\n                    type=\"button\" \r\n                    className=\"button secondary\"\r\n                    onClick={prevStep}\r\n                  >\r\n                    Назад\r\n                  </button>\r\n                  <button \r\n                    type=\"submit\" \r\n                    className=\"button primary\"\r\n                    disabled={submitting || !name || !phone || !email}\r\n                  >\r\n                    {submitting ? 'Изпращане...' : 'Завърши резервацията'}\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Reservation;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,SAAS,EAAEC,WAAW,QAAQ,kBAAkB;AACzD,SAASC,YAAY,QAAQ,uBAAuB;AACpD,OAAO,mBAAmB;;AAE1B;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AACA,MAAMC,WAAW,GAAG,0CAA0C;AAC9D,MAAMC,WAAW,GAAG,kNAAkN;AACtO,MAAMC,QAAQ,GAAGP,YAAY,CAACK,WAAW,EAAEC,WAAW,CAAC;AAEvD,SAASE,WAAWA,CAAA,EAAG;EAAAC,EAAA;EACrB,MAAM;IAAEC;EAAG,CAAC,GAAGZ,SAAS,CAAC,CAAC,CAAC,CAAC;EAC5B,MAAMa,QAAQ,GAAGZ,WAAW,CAAC,CAAC;;EAE9B;EACA,MAAM,CAACa,IAAI,EAAEC,OAAO,CAAC,GAAGjB,QAAQ,CAAC,CAAC,CAAC;;EAEnC;EACA,MAAM,CAACkB,UAAU,EAAEC,aAAa,CAAC,GAAGnB,QAAQ,CAAC,IAAI,CAAC;EAClD,MAAM,CAACoB,IAAI,EAAEC,OAAO,CAAC,GAAGrB,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACsB,IAAI,EAAEC,OAAO,CAAC,GAAGvB,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACwB,MAAM,EAAEC,SAAS,CAAC,GAAGzB,QAAQ,CAAC,CAAC,CAAC;EACvC,MAAM,CAAC0B,MAAM,EAAEC,SAAS,CAAC,GAAG3B,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAAC4B,aAAa,EAAEC,gBAAgB,CAAC,GAAG7B,QAAQ,CAAC,IAAI,CAAC;EACxD,MAAM,CAAC8B,IAAI,EAAEC,OAAO,CAAC,GAAG/B,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACgC,KAAK,EAAEC,QAAQ,CAAC,GAAGjC,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACkC,KAAK,EAAEC,QAAQ,CAAC,GAAGnC,QAAQ,CAAC,EAAE,CAAC;;EAEtC;EACA,MAAM,CAACoC,OAAO,EAAEC,UAAU,CAAC,GAAGrC,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACsC,UAAU,EAAEC,aAAa,CAAC,GAAGvC,QAAQ,CAAC,KAAK,CAAC;EACnD,MAAM,CAACwC,KAAK,EAAEC,QAAQ,CAAC,GAAGzC,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAAC0C,OAAO,EAAEC,UAAU,CAAC,GAAG3C,QAAQ,CAAC,KAAK,CAAC;;EAE7C;EACAC,SAAS,CAAC,MAAM;IACd,eAAe2C,eAAeA,CAAA,EAAG;MAC/B,IAAI;QACF,MAAM;UAAEC,IAAI;UAAEL;QAAM,CAAC,GAAG,MAAM7B,QAAQ,CACnCmC,IAAI,CAAC,aAAa,CAAC,CACnBC,MAAM,CAAC,GAAG,CAAC,CACXC,EAAE,CAAC,IAAI,EAAElC,EAAE,CAAC,CACZmC,MAAM,CAAC,CAAC;QAEX,IAAIT,KAAK,EAAE,MAAMA,KAAK;QAEtBrB,aAAa,CAAC0B,IAAI,CAAC;MACrB,CAAC,CAAC,OAAOL,KAAK,EAAE;QACdU,OAAO,CAACV,KAAK,CAAC,qCAAqC,EAAEA,KAAK,CAAC;QAC3DC,QAAQ,CAAC,gDAAgD,CAAC;MAC5D,CAAC,SAAS;QACRJ,UAAU,CAAC,KAAK,CAAC;MACnB;IACF;IAEAO,eAAe,CAAC,CAAC;EACnB,CAAC,EAAE,CAAC9B,EAAE,CAAC,CAAC;;EAER;EACAb,SAAS,CAAC,MAAM;IACd,IAAImB,IAAI,IAAIE,IAAI,IAAIN,IAAI,KAAK,CAAC,EAAE;MAC9B,eAAemC,oBAAoBA,CAAA,EAAG;QACpC,IAAI;UACFd,UAAU,CAAC,IAAI,CAAC;;UAEhB;UACA,MAAM;YAAEQ,IAAI,EAAEO,SAAS;YAAEZ,KAAK,EAAEa;UAAY,CAAC,GAAG,MAAM1C,QAAQ,CAC3DmC,IAAI,CAAC,QAAQ,CAAC,CACdC,MAAM,CAAC,GAAG,CAAC,CACXC,EAAE,CAAC,eAAe,EAAElC,EAAE,CAAC,CACvBwC,GAAG,CAAC,UAAU,EAAE9B,MAAM,CAAC;UAE1B,IAAI6B,WAAW,EAAE,MAAMA,WAAW;;UAElC;UACA,MAAM;YAAER,IAAI,EAAEU,YAAY;YAAEf,KAAK,EAAEgB;UAAkB,CAAC,GAAG,MAAM7C,QAAQ,CACpEmC,IAAI,CAAC,cAAc,CAAC,CACpBC,MAAM,CAAC,UAAU,CAAC,CAClBC,EAAE,CAAC,eAAe,EAAElC,EAAE,CAAC,CACvBkC,EAAE,CAAC,MAAM,EAAE5B,IAAI,CAAC,CAChB4B,EAAE,CAAC,MAAM,EAAE1B,IAAI,CAAC,CAChBmC,EAAE,CAAC,QAAQ,EAAE,CAAC,WAAW,EAAE,SAAS,CAAC,CAAC;UAEzC,IAAID,iBAAiB,EAAE,MAAMA,iBAAiB;;UAE9C;UACA,MAAME,gBAAgB,GAAGH,YAAY,CAACI,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACC,QAAQ,CAAC;UAC1D,MAAMC,eAAe,GAAGV,SAAS,CAACW,MAAM,CAACC,KAAK,IAAI,CAACN,gBAAgB,CAACO,QAAQ,CAACD,KAAK,CAAClD,EAAE,CAAC,CAAC;UAEvFa,SAAS,CAACmC,eAAe,CAAC;QAC5B,CAAC,CAAC,OAAOtB,KAAK,EAAE;UACdU,OAAO,CAACV,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;UACvDC,QAAQ,CAAC,uCAAuC,CAAC;QACnD,CAAC,SAAS;UACRJ,UAAU,CAAC,KAAK,CAAC;QACnB;MACF;MAEAc,oBAAoB,CAAC,CAAC;IACxB;EACF,CAAC,EAAE,CAACrC,EAAE,EAAEM,IAAI,EAAEE,IAAI,EAAEE,MAAM,EAAER,IAAI,CAAC,CAAC;;EAElC;EACA,MAAMkD,QAAQ,GAAGA,CAAA,KAAM;IACrBjD,OAAO,CAACD,IAAI,GAAG,CAAC,CAAC;EACnB,CAAC;;EAED;EACA,MAAMmD,QAAQ,GAAGA,CAAA,KAAM;IACrBlD,OAAO,CAACD,IAAI,GAAG,CAAC,CAAC;EACnB,CAAC;;EAED;EACA,MAAMoD,iBAAiB,GAAIJ,KAAK,IAAK;IACnCnC,gBAAgB,CAACmC,KAAK,CAAC;EACzB,CAAC;;EAED;EACA,MAAMK,YAAY,GAAG,MAAOC,CAAC,IAAK;IAChCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAElB,IAAI,CAAC3C,aAAa,EAAE;MAClBa,QAAQ,CAAC,qBAAqB,CAAC;MAC/B;IACF;IAEA,IAAI;MACFF,aAAa,CAAC,IAAI,CAAC;MAEnB,MAAM;QAAEC;MAAM,CAAC,GAAG,MAAM7B,QAAQ,CAC7BmC,IAAI,CAAC,cAAc,CAAC,CACpB0B,MAAM,CAAC,CACN;QACEC,aAAa,EAAE3D,EAAE;QACjB+C,QAAQ,EAAEjC,aAAa,CAACd,EAAE;QAC1BM,IAAI;QACJE,IAAI;QACJQ,IAAI;QACJE,KAAK;QACLE,KAAK;QACLwC,YAAY,EAAElD,MAAM;QACpBmD,MAAM,EAAE;MACV,CAAC,CACF,CAAC;MAEJ,IAAInC,KAAK,EAAE,MAAMA,KAAK;MAEtBG,UAAU,CAAC,IAAI,CAAC;;MAEhB;MACAiC,UAAU,CAAC,MAAM;QACf7D,QAAQ,CAAC,eAAeD,EAAE,EAAE,CAAC;MAC/B,CAAC,EAAE,IAAI,CAAC;IAEV,CAAC,CAAC,OAAO0B,KAAK,EAAE;MACdU,OAAO,CAACV,KAAK,CAAC,qCAAqC,EAAEA,KAAK,CAAC;MAC3DC,QAAQ,CAAC,6DAA6D,CAAC;IACzE,CAAC,SAAS;MACRF,aAAa,CAAC,KAAK,CAAC;IACtB;EACF,CAAC;EAED,IAAIH,OAAO,IAAI,CAAClB,UAAU,EAAE;IAC1B,oBAAOZ,OAAA;MAAKuE,SAAS,EAAC,SAAS;MAAAC,QAAA,EAAC;IAAY;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EACpD;EAEA,IAAI1C,KAAK,IAAI,CAACtB,UAAU,EAAE;IACxB,oBAAOZ,OAAA;MAAKuE,SAAS,EAAC,OAAO;MAAAC,QAAA,EAAEtC;IAAK;MAAAuC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC;EAC7C;EAEA,oBACE5E,OAAA;IAAKuE,SAAS,EAAC,uBAAuB;IAAAC,QAAA,gBACpCxE,OAAA;MAAAwE,QAAA,GAAI,4EAAc,EAAC5D,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAEY,IAAI;IAAA;MAAAiD,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,EAExCxC,OAAO,gBACNpC,OAAA;MAAKuE,SAAS,EAAC,iBAAiB;MAAAC,QAAA,gBAC9BxE,OAAA;QAAAwE,QAAA,EAAI;MAAuB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAChC5E,OAAA;QAAAwE,QAAA,GAAG,uQAAmD,EAAC1D,IAAI,EAAC,UAAG,EAACE,IAAI,EAAC,GAAC;MAAA;QAAAyD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,eAC1E5E,OAAA;QAAAwE,QAAA,EAAG;MAAqD;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzD,CAAC,gBAEN5E,OAAA;MAAKuE,SAAS,EAAC,kBAAkB;MAAAC,QAAA,gBAC/BxE,OAAA;QAAKuE,SAAS,EAAC,iBAAiB;QAAAC,QAAA,gBAC9BxE,OAAA;UAAKuE,SAAS,EAAE,QAAQ7D,IAAI,IAAI,CAAC,GAAG,QAAQ,GAAG,EAAE,EAAG;UAAA8D,QAAA,EAAC;QAAa;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eACxE5E,OAAA;UAAKuE,SAAS,EAAE,QAAQ7D,IAAI,IAAI,CAAC,GAAG,QAAQ,GAAG,EAAE,EAAG;UAAA8D,QAAA,EAAC;QAAgB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eAC3E5E,OAAA;UAAKuE,SAAS,EAAE,QAAQ7D,IAAI,IAAI,CAAC,GAAG,QAAQ,GAAG,EAAE,EAAG;UAAA8D,QAAA,EAAC;QAAe;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACvE,CAAC,EAEL1C,KAAK,iBAAIlC,OAAA;QAAKuE,SAAS,EAAC,eAAe;QAAAC,QAAA,EAAEtC;MAAK;QAAAuC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,EAErDlE,IAAI,KAAK,CAAC,iBACTV,OAAA;QAAKuE,SAAS,EAAC,cAAc;QAAAC,QAAA,gBAC3BxE,OAAA;UAAAwE,QAAA,EAAI;QAA+B;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAExC5E,OAAA;UAAKuE,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzBxE,OAAA;YAAO6E,OAAO,EAAC,MAAM;YAAAL,QAAA,EAAC;UAAI;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAClC5E,OAAA;YACE8E,IAAI,EAAC,MAAM;YACXtE,EAAE,EAAC,MAAM;YACTuE,KAAK,EAAEjE,IAAK;YACZkE,QAAQ,EAAGhB,CAAC,IAAKjD,OAAO,CAACiD,CAAC,CAACiB,MAAM,CAACF,KAAK,CAAE;YACzCG,GAAG,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAE;YAC5CC,QAAQ;UAAA;YAAAb,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eAEN5E,OAAA;UAAKuE,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzBxE,OAAA;YAAO6E,OAAO,EAAC,MAAM;YAAAL,QAAA,EAAC;UAAG;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACjC5E,OAAA;YACEQ,EAAE,EAAC,MAAM;YACTuE,KAAK,EAAE/D,IAAK;YACZgE,QAAQ,EAAGhB,CAAC,IAAK/C,OAAO,CAAC+C,CAAC,CAACiB,MAAM,CAACF,KAAK,CAAE;YACzCO,QAAQ;YAAAd,QAAA,gBAERxE,OAAA;cAAQ+E,KAAK,EAAC,EAAE;cAAAP,QAAA,EAAC;YAAY;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACtC5E,OAAA;cAAQ+E,KAAK,EAAC,OAAO;cAAAP,QAAA,EAAC;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACpC5E,OAAA;cAAQ+E,KAAK,EAAC,OAAO;cAAAP,QAAA,EAAC;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACpC5E,OAAA;cAAQ+E,KAAK,EAAC,OAAO;cAAAP,QAAA,EAAC;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACpC5E,OAAA;cAAQ+E,KAAK,EAAC,OAAO;cAAAP,QAAA,EAAC;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACpC5E,OAAA;cAAQ+E,KAAK,EAAC,OAAO;cAAAP,QAAA,EAAC;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACpC5E,OAAA;cAAQ+E,KAAK,EAAC,OAAO;cAAAP,QAAA,EAAC;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACpC5E,OAAA;cAAQ+E,KAAK,EAAC,OAAO;cAAAP,QAAA,EAAC;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACpC5E,OAAA;cAAQ+E,KAAK,EAAC,OAAO;cAAAP,QAAA,EAAC;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACpC5E,OAAA;cAAQ+E,KAAK,EAAC,OAAO;cAAAP,QAAA,EAAC;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACpC5E,OAAA;cAAQ+E,KAAK,EAAC,OAAO;cAAAP,QAAA,EAAC;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACpC5E,OAAA;cAAQ+E,KAAK,EAAC,OAAO;cAAAP,QAAA,EAAC;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACpC5E,OAAA;cAAQ+E,KAAK,EAAC,OAAO;cAAAP,QAAA,EAAC;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACpC5E,OAAA;cAAQ+E,KAAK,EAAC,OAAO;cAAAP,QAAA,EAAC;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACpC5E,OAAA;cAAQ+E,KAAK,EAAC,OAAO;cAAAP,QAAA,EAAC;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACpC5E,OAAA;cAAQ+E,KAAK,EAAC,OAAO;cAAAP,QAAA,EAAC;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACpC5E,OAAA;cAAQ+E,KAAK,EAAC,OAAO;cAAAP,QAAA,EAAC;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACpC5E,OAAA;cAAQ+E,KAAK,EAAC,OAAO;cAAAP,QAAA,EAAC;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACpC5E,OAAA;cAAQ+E,KAAK,EAAC,OAAO;cAAAP,QAAA,EAAC;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACpC5E,OAAA;cAAQ+E,KAAK,EAAC,OAAO;cAAAP,QAAA,EAAC;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC9B,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,eAEN5E,OAAA;UAAKuE,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzBxE,OAAA;YAAO6E,OAAO,EAAC,QAAQ;YAAAL,QAAA,EAAC;UAAU;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAC1C5E,OAAA;YACEQ,EAAE,EAAC,QAAQ;YACXuE,KAAK,EAAE7D,MAAO;YACd8D,QAAQ,EAAGhB,CAAC,IAAK7C,SAAS,CAACoE,QAAQ,CAACvB,CAAC,CAACiB,MAAM,CAACF,KAAK,CAAC,CAAE;YACrDO,QAAQ;YAAAd,QAAA,EAEP,CAAC,GAAGgB,KAAK,CAAC,CAAC,CAAC,CAAC,CAACnC,GAAG,CAAC,CAACoC,CAAC,EAAEC,CAAC,kBACtB1F,OAAA;cAAoB+E,KAAK,EAAEW,CAAC,GAAG,CAAE;cAAAlB,QAAA,GAC9BkB,CAAC,GAAG,CAAC,EAAC,GAAC,EAACA,CAAC,KAAK,CAAC,GAAG,MAAM,GAAG,OAAO;YAAA,GADxBA,CAAC,GAAG,CAAC;cAAAjB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAEV,CACT;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,eAEN5E,OAAA;UAAKuE,SAAS,EAAC,cAAc;UAAAC,QAAA,gBAC3BxE,OAAA;YACE8E,IAAI,EAAC,QAAQ;YACbP,SAAS,EAAC,kBAAkB;YAC5BoB,OAAO,EAAEA,CAAA,KAAMlF,QAAQ,CAAC,eAAeD,EAAE,EAAE,CAAE;YAAAgE,QAAA,EAC9C;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACT5E,OAAA;YACE8E,IAAI,EAAC,QAAQ;YACbP,SAAS,EAAC,gBAAgB;YAC1BoB,OAAO,EAAE/B,QAAS;YAClBgC,QAAQ,EAAE,CAAC9E,IAAI,IAAI,CAACE,IAAK;YAAAwD,QAAA,EAC1B;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CACN,EAEAlE,IAAI,KAAK,CAAC,iBACTV,OAAA;QAAKuE,SAAS,EAAC,cAAc;QAAAC,QAAA,gBAC3BxE,OAAA;UAAAwE,QAAA,EAAI;QAAa;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,EAErB9C,OAAO,gBACN9B,OAAA;UAAKuE,SAAS,EAAC,SAAS;UAAAC,QAAA,EAAC;QAA6B;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,gBAE5D5E,OAAA,CAAAE,SAAA;UAAAsE,QAAA,GACGpD,MAAM,CAACyE,MAAM,KAAK,CAAC,gBAClB7F,OAAA;YAAKuE,SAAS,EAAC,WAAW;YAAAC,QAAA,gBACxBxE,OAAA;cAAAwE,QAAA,EAAG;YAA2C;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC,eAClD5E,OAAA;cAAAwE,QAAA,EAAG;YAAkC;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACtC,CAAC,gBAEN5E,OAAA;YAAKuE,SAAS,EAAC,kBAAkB;YAAAC,QAAA,gBAC/BxE,OAAA;cAAKuE,SAAS,EAAC,mBAAmB;cAAAC,QAAA,EAC/BpD,MAAM,CAACiC,GAAG,CAACK,KAAK,iBACf1D,OAAA;gBAEEuE,SAAS,EAAE,SAAS,CAAAjD,aAAa,aAAbA,aAAa,uBAAbA,aAAa,CAAEd,EAAE,MAAKkD,KAAK,CAAClD,EAAE,GAAG,UAAU,GAAG,EAAE,EAAG;gBACvEsF,KAAK,EAAE;kBACLC,GAAG,EAAE,GAAGrC,KAAK,CAACsC,UAAU,IAAI;kBAC5BC,IAAI,EAAE,GAAGvC,KAAK,CAACwC,UAAU,IAAI;kBAC7BC,KAAK,EAAE,GAAGzC,KAAK,CAAC0C,QAAQ,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI;kBAC1CC,MAAM,EAAE,GAAG3C,KAAK,CAAC0C,QAAQ,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE;gBACzC,CAAE;gBACFT,OAAO,EAAEA,CAAA,KAAM7B,iBAAiB,CAACJ,KAAK,CAAE;gBAAAc,QAAA,gBAExCxE,OAAA;kBAAMuE,SAAS,EAAC,cAAc;kBAAAC,QAAA,EAAEd,KAAK,CAAC4C;gBAAY;kBAAA7B,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,eAC1D5E,OAAA;kBAAMuE,SAAS,EAAC,gBAAgB;kBAAAC,QAAA,GAAEd,KAAK,CAAC0C,QAAQ,EAAC,iCAAM;gBAAA;kBAAA3B,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA,GAXzDlB,KAAK,CAAClD,EAAE;gBAAAiE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAYV,CACN;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC,eAEN5E,OAAA;cAAKuE,SAAS,EAAC,cAAc;cAAAC,QAAA,gBAC3BxE,OAAA;gBAAKuE,SAAS,EAAC,aAAa;gBAAAC,QAAA,gBAC1BxE,OAAA;kBAAKuE,SAAS,EAAC;gBAAwB;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eAC9C5E,OAAA;kBAAAwE,QAAA,EAAM;gBAAa;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACvB,CAAC,eACN5E,OAAA;gBAAKuE,SAAS,EAAC,aAAa;gBAAAC,QAAA,gBAC1BxE,OAAA;kBAAKuE,SAAS,EAAC;gBAAuB;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eAC7C5E,OAAA;kBAAAwE,QAAA,EAAM;gBAAY;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACtB,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CACN,eAED5E,OAAA;YAAKuE,SAAS,EAAC,cAAc;YAAAC,QAAA,gBAC3BxE,OAAA;cACE8E,IAAI,EAAC,QAAQ;cACbP,SAAS,EAAC,kBAAkB;cAC5BoB,OAAO,EAAE9B,QAAS;cAAAW,QAAA,EACnB;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACT5E,OAAA;cACE8E,IAAI,EAAC,QAAQ;cACbP,SAAS,EAAC,gBAAgB;cAC1BoB,OAAO,EAAE/B,QAAS;cAClBgC,QAAQ,EAAE,CAACtE,aAAc;cAAAkD,QAAA,EAC1B;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA,eACN,CACH;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CACN,EAEAlE,IAAI,KAAK,CAAC,iBACTV,OAAA;QAAKuE,SAAS,EAAC,cAAc;QAAAC,QAAA,gBAC3BxE,OAAA;UAAAwE,QAAA,EAAI;QAAY;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAErB5E,OAAA;UAAMuG,QAAQ,EAAExC,YAAa;UAAAS,QAAA,gBAC3BxE,OAAA;YAAKuE,SAAS,EAAC,YAAY;YAAAC,QAAA,gBACzBxE,OAAA;cAAO6E,OAAO,EAAC,MAAM;cAAAL,QAAA,EAAC;YAAa;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC3C5E,OAAA;cACE8E,IAAI,EAAC,MAAM;cACXtE,EAAE,EAAC,MAAM;cACTuE,KAAK,EAAEvD,IAAK;cACZwD,QAAQ,EAAGhB,CAAC,IAAKvC,OAAO,CAACuC,CAAC,CAACiB,MAAM,CAACF,KAAK,CAAE;cACzCO,QAAQ;YAAA;cAAAb,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACT,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eAEN5E,OAAA;YAAKuE,SAAS,EAAC,YAAY;YAAAC,QAAA,gBACzBxE,OAAA;cAAO6E,OAAO,EAAC,OAAO;cAAAL,QAAA,EAAC;YAAO;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACtC5E,OAAA;cACE8E,IAAI,EAAC,KAAK;cACVtE,EAAE,EAAC,OAAO;cACVuE,KAAK,EAAErD,KAAM;cACbsD,QAAQ,EAAGhB,CAAC,IAAKrC,QAAQ,CAACqC,CAAC,CAACiB,MAAM,CAACF,KAAK,CAAE;cAC1CO,QAAQ;YAAA;cAAAb,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACT,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eAEN5E,OAAA;YAAKuE,SAAS,EAAC,YAAY;YAAAC,QAAA,gBACzBxE,OAAA;cAAO6E,OAAO,EAAC,OAAO;cAAAL,QAAA,EAAC;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACpC5E,OAAA;cACE8E,IAAI,EAAC,OAAO;cACZtE,EAAE,EAAC,OAAO;cACVuE,KAAK,EAAEnD,KAAM;cACboD,QAAQ,EAAGhB,CAAC,IAAKnC,QAAQ,CAACmC,CAAC,CAACiB,MAAM,CAACF,KAAK,CAAE;cAC1CO,QAAQ;YAAA;cAAAb,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACT,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eAEN5E,OAAA;YAAKuE,SAAS,EAAC,qBAAqB;YAAAC,QAAA,gBAClCxE,OAAA;cAAAwE,QAAA,EAAI;YAAuB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAChC5E,OAAA;cAAAwE,QAAA,gBAAGxE,OAAA;gBAAAwE,QAAA,EAAQ;cAAU;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,KAAC,EAAChE,UAAU,CAACY,IAAI;YAAA;cAAAiD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACpD5E,OAAA;cAAAwE,QAAA,gBAAGxE,OAAA;gBAAAwE,QAAA,EAAQ;cAAK;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,KAAC,EAAC9D,IAAI;YAAA;cAAA2D,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACpC5E,OAAA;cAAAwE,QAAA,gBAAGxE,OAAA;gBAAAwE,QAAA,EAAQ;cAAI;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,KAAC,EAAC5D,IAAI;YAAA;cAAAyD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACnC5E,OAAA;cAAAwE,QAAA,gBAAGxE,OAAA;gBAAAwE,QAAA,EAAQ;cAAW;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,KAAC,EAAC1D,MAAM;YAAA;cAAAuD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC5C5E,OAAA;cAAAwE,QAAA,gBAAGxE,OAAA;gBAAAwE,QAAA,EAAQ;cAAO;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,KAAC,EAACtD,aAAa,aAAbA,aAAa,uBAAbA,aAAa,CAAEgF,YAAY;YAAA;cAAA7B,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC1D,CAAC,eAEN5E,OAAA;YAAKuE,SAAS,EAAC,cAAc;YAAAC,QAAA,gBAC3BxE,OAAA;cACE8E,IAAI,EAAC,QAAQ;cACbP,SAAS,EAAC,kBAAkB;cAC5BoB,OAAO,EAAE9B,QAAS;cAAAW,QAAA,EACnB;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACT5E,OAAA;cACE8E,IAAI,EAAC,QAAQ;cACbP,SAAS,EAAC,gBAAgB;cAC1BqB,QAAQ,EAAE5D,UAAU,IAAI,CAACR,IAAI,IAAI,CAACE,KAAK,IAAI,CAACE,KAAM;cAAA4C,QAAA,EAEjDxC,UAAU,GAAG,cAAc,GAAG;YAAsB;cAAAyC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC/C,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACF,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV;AAACrE,EAAA,CAlZQD,WAAW;EAAA,QACHV,SAAS,EACPC,WAAW;AAAA;AAAA2G,EAAA,GAFrBlG,WAAW;AAoZpB,eAAeA,WAAW;AAAC,IAAAkG,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}