{"ast":null,"code":"var _jsxFileName = \"D:\\\\Belezza\\\\restaurant-chain-app\\\\src\\\\pages\\\\AdminDashboard.jsx\",\n  _s = $RefreshSig$();\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n//Необходимо е добавяне на import на FontAwesome за иконите:\n//Добавете следния елемент в index.html:\n// <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\n\n// Секция за отчети и статистика (достъпна само за супер админи)\nfunction ReportsSection({\n  restaurants,\n  supabase\n}) {\n  _s();\n  const [selectedRestaurant, setSelectedRestaurant] = useState('all');\n  const [reportType, setReportType] = useState('reservations');\n  const [dateRange, setDateRange] = useState({\n    from: new Date(new Date().setDate(new Date().getDate() - 30)).toISOString().split('T')[0],\n    to: new Date().toISOString().split('T')[0]\n  });\n  const [reportData, setReportData] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [summary, setSummary] = useState({});\n  const handleDateChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setDateRange({\n      ...dateRange,\n      [name]: value\n    });\n  };\n  const generateReport = async () => {\n    setLoading(true);\n    try {\n      let query;\n      if (reportType === 'reservations') {\n        // Отчет за резервации\n        query = supabase.from('reservations').select(`\n            *,\n            restaurant:restaurant_id (name),\n            table:table_id (table_number, capacity)\n          `).gte('date', dateRange.from).lte('date', dateRange.to);\n\n        // Филтриране по ресторант, ако е избран\n        if (selectedRestaurant !== 'all') {\n          query = query.eq('restaurant_id', selectedRestaurant);\n        }\n        const {\n          data,\n          error\n        } = await query.order('date', {\n          ascending: false\n        });\n        if (error) throw error;\n        setReportData(data);\n\n        // Изчисляване на обобщение\n        const totalReservations = data.length;\n        const confirmedReservations = data.filter(r => r.status === 'confirmed').length;\n        const cancelledReservations = data.filter(r => r.status === 'cancelled').length;\n        const pendingReservations = data.filter(r => r.status === 'pending').length;\n        const totalGuests = data.reduce((sum, r) => sum + r.guests_count, 0);\n        setSummary({\n          totalReservations,\n          confirmedReservations,\n          cancelledReservations,\n          pendingReservations,\n          totalGuests\n        });\n      } else if (reportType === 'tables') {\n        // Отчет за заетост на масите\n        query = supabase.from('reservations').select(`\n            *,\n            restaurant:restaurant_id (name),\n            table:table_id (table_number, capacity)\n          `).gte('date', dateRange.from).lte('date', dateRange.to).eq('status', 'confirmed');\n\n        // Филтриране по ресторант, ако е избран\n        if (selectedRestaurant !== 'all') {\n          query = query.eq('restaurant_id', selectedRestaurant);\n        }\n        const {\n          data,\n          error\n        } = await query;\n        if (error) throw error;\n\n        // Групиране на данните по ресторант и маса\n        const tableUsage = {};\n        data.forEach(reservation => {\n          const restaurantId = reservation.restaurant_id;\n          const tableId = reservation.table_id;\n          const key = `${restaurantId}:${tableId}`;\n          if (!tableUsage[key]) {\n            tableUsage[key] = {\n              restaurant: reservation.restaurant.name,\n              table_number: reservation.table.table_number,\n              capacity: reservation.table.capacity,\n              usage_count: 0,\n              total_guests: 0\n            };\n          }\n          tableUsage[key].usage_count += 1;\n          tableUsage[key].total_guests += reservation.guests_count;\n        });\n        const tableReport = Object.values(tableUsage).sort((a, b) => b.usage_count - a.usage_count);\n        setReportData(tableReport);\n\n        // Изчисляване на обобщение\n        const totalTables = tableReport.length;\n        const totalUsages = tableReport.reduce((sum, t) => sum + t.usage_count, 0);\n        const totalGuests = tableReport.reduce((sum, t) => sum + t.total_guests, 0);\n        const mostUsedTable = tableReport.length > 0 ? tableReport[0] : null;\n        setSummary({\n          totalTables,\n          totalUsages,\n          totalGuests,\n          mostUsedTable\n        });\n      }\n    } catch (error) {\n      console.error('Error generating report:', error);\n      alert('Грешка при генериране на отчета');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Функция за експортиране на отчета в CSV формат\n  const exportToCSV = () => {\n    if (reportData.length === 0) return;\n    let csvContent = '';\n\n    // Заглавен ред\n    const headers = Object.keys(reportData[0]);\n    csvContent += headers.join(',') + '\\n';\n\n    // Данни\n    reportData.forEach(row => {\n      const values = headers.map(header => {\n        const value = row[header];\n\n        // Обработка на различни типове стойности\n        if (value === null || value === undefined) {\n          return '';\n        } else if (typeof value === 'object') {\n          return JSON.stringify(value).replace(/\"/g, '\"\"');\n        } else {\n          return String(value).replace(/\"/g, '\"\"');\n        }\n      });\n      csvContent += values.join(',') + '\\n';\n    });\n\n    // Създаване на Blob и генериране на URL\n    const blob = new Blob([csvContent], {\n      type: 'text/csv;charset=utf-8;'\n    });\n    const url = URL.createObjectURL(blob);\n\n    // Създаване на временен линк и симулиране на клик\n    const link = document.createElement('a');\n    link.href = url;\n    link.setAttribute('download', `${reportType}_report_${dateRange.from}_${dateRange.to}.csv`);\n    document.body.appendChild(link);\n    link.click();\n\n    // Почистване\n    document.body.removeChild(link);\n    URL.revokeObjectURL(url);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"\\u041E\\u0442\\u0447\\u0435\\u0442\\u0438 \\u0438 \\u0441\\u0442\\u0430\\u0442\\u0438\\u0441\\u0442\\u0438\\u043A\\u0430\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"report-filters\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"\\u0422\\u0438\\u043F \\u043E\\u0442\\u0447\\u0435\\u0442\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: reportType,\n          onChange: e => setReportType(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"reservations\",\n            children: \"\\u0420\\u0435\\u0437\\u0435\\u0440\\u0432\\u0430\\u0446\\u0438\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"tables\",\n            children: \"\\u0417\\u0430\\u0435\\u0442\\u043E\\u0441\\u0442 \\u043D\\u0430 \\u043C\\u0430\\u0441\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"\\u0420\\u0435\\u0441\\u0442\\u043E\\u0440\\u0430\\u043D\\u0442\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: selectedRestaurant,\n          onChange: e => setSelectedRestaurant(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"all\",\n            children: \"\\u0412\\u0441\\u0438\\u0447\\u043A\\u0438 \\u0440\\u0435\\u0441\\u0442\\u043E\\u0440\\u0430\\u043D\\u0442\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 13\n          }, this), restaurants.map(restaurant => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: restaurant.id,\n            children: restaurant.name\n          }, restaurant.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"\\u041E\\u0442 \\u0434\\u0430\\u0442\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          name: \"from\",\n          value: dateRange.from,\n          onChange: handleDateChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"\\u0414\\u043E \\u0434\\u0430\\u0442\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          name: \"to\",\n          value: dateRange.to,\n          onChange: handleDateChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"admin-action-btn\",\n        onClick: generateReport,\n        disabled: loading,\n        children: loading ? 'Генериране...' : 'Генерирай отчет'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }, this), reportData.length > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"admin-action-btn\",\n        onClick: exportToCSV,\n        children: \"\\u0415\\u043A\\u0441\\u043F\\u043E\\u0440\\u0442 \\u0432 CSV\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }, this), reportData.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"report-summary\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\u041E\\u0431\\u043E\\u0431\\u0449\\u0435\\u043D\\u0438\\u0435\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 11\n      }, this), reportType === 'reservations' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"summary-cards\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\u041E\\u0431\\u0449\\u043E \\u0440\\u0435\\u0437\\u0435\\u0440\\u0432\\u0430\\u0446\\u0438\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: summary.totalReservations\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\u041F\\u043E\\u0442\\u0432\\u044A\\u0440\\u0434\\u0435\\u043D\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: summary.confirmedReservations\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\u041E\\u0442\\u043A\\u0430\\u0437\\u0430\\u043D\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: summary.cancelledReservations\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\u0427\\u0430\\u043A\\u0430\\u0449\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: summary.pendingReservations\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\u041E\\u0431\\u0449\\u043E \\u0433\\u043E\\u0441\\u0442\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: summary.totalGuests\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 13\n      }, this), reportType === 'tables' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"summary-cards\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\u041E\\u0431\\u0449\\u043E \\u043C\\u0430\\u0441\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: summary.totalTables\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\u041E\\u0431\\u0449\\u043E \\u0438\\u0437\\u043F\\u043E\\u043B\\u0437\\u0432\\u0430\\u043D\\u0438\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: summary.totalUsages\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\u041E\\u0431\\u0449\\u043E \\u0433\\u043E\\u0441\\u0442\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: summary.totalGuests\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 15\n        }, this), summary.mostUsedTable && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\u041D\\u0430\\u0439-\\u0438\\u0437\\u043F\\u043E\\u043B\\u0437\\u0432\\u0430\\u043D\\u0430 \\u043C\\u0430\\u0441\\u0430\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [summary.mostUsedTable.restaurant, \", \\u041C\\u0430\\u0441\\u0430 \", summary.mostUsedTable.table_number, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 98\n            }, this), summary.mostUsedTable.usage_count, \" \\u0438\\u0437\\u043F\\u043E\\u043B\\u0437\\u0432\\u0430\\u043D\\u0438\\u044F\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 9\n    }, this), reportData.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-table-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\u0414\\u0435\\u0442\\u0430\\u0439\\u043B\\u0438\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 11\n      }, this), reportType === 'reservations' && /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"admin-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0420\\u0435\\u0441\\u0442\\u043E\\u0440\\u0430\\u043D\\u0442\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0414\\u0430\\u0442\\u0430\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0427\\u0430\\u0441\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u041C\\u0430\\u0441\\u0430\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u041A\\u043B\\u0438\\u0435\\u043D\\u0442\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0413\\u043E\\u0441\\u0442\\u0438\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: reportData.map((reservation, index) => {\n            var _reservation$restaura, _reservation$table;\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: `status-${reservation.status}`,\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: (_reservation$restaura = reservation.restaurant) === null || _reservation$restaura === void 0 ? void 0 : _reservation$restaura.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: reservation.date\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: reservation.time\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [\"\\u041C\\u0430\\u0441\\u0430 \", (_reservation$table = reservation.table) === null || _reservation$table === void 0 ? void 0 : _reservation$table.table_number]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: reservation.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: reservation.guests_count\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `status-badge ${reservation.status}`,\n                  children: reservation.status === 'confirmed' ? 'Потвърдена' : reservation.status === 'pending' ? 'Чакаща' : 'Отказана'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 332,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 21\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 19\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 13\n      }, this), reportType === 'tables' && /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"admin-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0420\\u0435\\u0441\\u0442\\u043E\\u0440\\u0430\\u043D\\u0442\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u041C\\u0430\\u0441\\u0430\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u041A\\u0430\\u043F\\u0430\\u0446\\u0438\\u0442\\u0435\\u0442\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0411\\u0440\\u043E\\u0439 \\u0438\\u0437\\u043F\\u043E\\u043B\\u0437\\u0432\\u0430\\u043D\\u0438\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u041E\\u0431\\u0449\\u043E \\u0433\\u043E\\u0441\\u0442\\u0438\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0421\\u0440\\u0435\\u0434\\u043D\\u043E \\u0433\\u043E\\u0441\\u0442\\u0438\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: reportData.map((table, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: table.restaurant\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [\"\\u041C\\u0430\\u0441\\u0430 \", table.table_number]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: table.capacity\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 360,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: table.usage_count\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: table.total_guests\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: (table.total_guests / table.usage_count).toFixed(2)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 21\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 182,\n    columnNumber: 5\n  }, this);\n}\n_s(ReportsSection, \"1dzgEP4yaLB03ZRb2wk8Zb4xJPQ=\");\n_c = ReportsSection;\nexport default AdminDashboard;\nvar _c;\n$RefreshReg$(_c, \"ReportsSection\");","map":{"version":3,"names":["ReportsSection","restaurants","supabase","_s","selectedRestaurant","setSelectedRestaurant","useState","reportType","setReportType","dateRange","setDateRange","from","Date","setDate","getDate","toISOString","split","to","reportData","setReportData","loading","setLoading","summary","setSummary","handleDateChange","e","name","value","target","generateReport","query","select","gte","lte","eq","data","error","order","ascending","totalReservations","length","confirmedReservations","filter","r","status","cancelledReservations","pendingReservations","totalGuests","reduce","sum","guests_count","tableUsage","forEach","reservation","restaurantId","restaurant_id","tableId","table_id","key","restaurant","table_number","table","capacity","usage_count","total_guests","tableReport","Object","values","sort","a","b","totalTables","totalUsages","t","mostUsedTable","console","alert","exportToCSV","csvContent","headers","keys","join","row","map","header","undefined","JSON","stringify","replace","String","blob","Blob","type","url","URL","createObjectURL","link","document","createElement","href","setAttribute","body","appendChild","click","removeChild","revokeObjectURL","_jsxDEV","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onChange","id","onClick","disabled","index","_reservation$restaura","_reservation$table","date","time","toFixed","_c","AdminDashboard","$RefreshReg$"],"sources":["D:/Belezza/restaurant-chain-app/src/pages/AdminDashboard.jsx"],"sourcesContent":["//Необходимо е добавяне на import на FontAwesome за иконите:\r\n//Добавете следния елемент в index.html:\r\n// <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\r\n\r\n// Секция за отчети и статистика (достъпна само за супер админи)\r\nfunction ReportsSection({ restaurants, supabase }) {\r\n  const [selectedRestaurant, setSelectedRestaurant] = useState('all');\r\n  const [reportType, setReportType] = useState('reservations');\r\n  const [dateRange, setDateRange] = useState({\r\n    from: new Date(new Date().setDate(new Date().getDate() - 30)).toISOString().split('T')[0],\r\n    to: new Date().toISOString().split('T')[0]\r\n  });\r\n  const [reportData, setReportData] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [summary, setSummary] = useState({});\r\n\r\n  const handleDateChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setDateRange({\r\n      ...dateRange,\r\n      [name]: value\r\n    });\r\n  };\r\n\r\n  const generateReport = async () => {\r\n    setLoading(true);\r\n    \r\n    try {\r\n      let query;\r\n      \r\n      if (reportType === 'reservations') {\r\n        // Отчет за резервации\r\n        query = supabase\r\n          .from('reservations')\r\n          .select(`\r\n            *,\r\n            restaurant:restaurant_id (name),\r\n            table:table_id (table_number, capacity)\r\n          `)\r\n          .gte('date', dateRange.from)\r\n          .lte('date', dateRange.to);\r\n        \r\n        // Филтриране по ресторант, ако е избран\r\n        if (selectedRestaurant !== 'all') {\r\n          query = query.eq('restaurant_id', selectedRestaurant);\r\n        }\r\n        \r\n        const { data, error } = await query.order('date', { ascending: false });\r\n        \r\n        if (error) throw error;\r\n        \r\n        setReportData(data);\r\n        \r\n        // Изчисляване на обобщение\r\n        const totalReservations = data.length;\r\n        const confirmedReservations = data.filter(r => r.status === 'confirmed').length;\r\n        const cancelledReservations = data.filter(r => r.status === 'cancelled').length;\r\n        const pendingReservations = data.filter(r => r.status === 'pending').length;\r\n        const totalGuests = data.reduce((sum, r) => sum + r.guests_count, 0);\r\n        \r\n        setSummary({\r\n          totalReservations,\r\n          confirmedReservations,\r\n          cancelledReservations,\r\n          pendingReservations,\r\n          totalGuests\r\n        });\r\n      } else if (reportType === 'tables') {\r\n        // Отчет за заетост на масите\r\n        query = supabase\r\n          .from('reservations')\r\n          .select(`\r\n            *,\r\n            restaurant:restaurant_id (name),\r\n            table:table_id (table_number, capacity)\r\n          `)\r\n          .gte('date', dateRange.from)\r\n          .lte('date', dateRange.to)\r\n          .eq('status', 'confirmed');\r\n        \r\n        // Филтриране по ресторант, ако е избран\r\n        if (selectedRestaurant !== 'all') {\r\n          query = query.eq('restaurant_id', selectedRestaurant);\r\n        }\r\n        \r\n        const { data, error } = await query;\r\n        \r\n        if (error) throw error;\r\n        \r\n        // Групиране на данните по ресторант и маса\r\n        const tableUsage = {};\r\n        \r\n        data.forEach(reservation => {\r\n          const restaurantId = reservation.restaurant_id;\r\n          const tableId = reservation.table_id;\r\n          const key = `${restaurantId}:${tableId}`;\r\n          \r\n          if (!tableUsage[key]) {\r\n            tableUsage[key] = {\r\n              restaurant: reservation.restaurant.name,\r\n              table_number: reservation.table.table_number,\r\n              capacity: reservation.table.capacity,\r\n              usage_count: 0,\r\n              total_guests: 0\r\n            };\r\n          }\r\n          \r\n          tableUsage[key].usage_count += 1;\r\n          tableUsage[key].total_guests += reservation.guests_count;\r\n        });\r\n        \r\n        const tableReport = Object.values(tableUsage).sort((a, b) => b.usage_count - a.usage_count);\r\n        \r\n        setReportData(tableReport);\r\n        \r\n        // Изчисляване на обобщение\r\n        const totalTables = tableReport.length;\r\n        const totalUsages = tableReport.reduce((sum, t) => sum + t.usage_count, 0);\r\n        const totalGuests = tableReport.reduce((sum, t) => sum + t.total_guests, 0);\r\n        const mostUsedTable = tableReport.length > 0 ? tableReport[0] : null;\r\n        \r\n        setSummary({\r\n          totalTables,\r\n          totalUsages,\r\n          totalGuests,\r\n          mostUsedTable\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error('Error generating report:', error);\r\n      alert('Грешка при генериране на отчета');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Функция за експортиране на отчета в CSV формат\r\n  const exportToCSV = () => {\r\n    if (reportData.length === 0) return;\r\n    \r\n    let csvContent = '';\r\n    \r\n    // Заглавен ред\r\n    const headers = Object.keys(reportData[0]);\r\n    csvContent += headers.join(',') + '\\n';\r\n    \r\n    // Данни\r\n    reportData.forEach(row => {\r\n      const values = headers.map(header => {\r\n        const value = row[header];\r\n        \r\n        // Обработка на различни типове стойности\r\n        if (value === null || value === undefined) {\r\n          return '';\r\n        } else if (typeof value === 'object') {\r\n          return JSON.stringify(value).replace(/\"/g, '\"\"');\r\n        } else {\r\n          return String(value).replace(/\"/g, '\"\"');\r\n        }\r\n      });\r\n      \r\n      csvContent += values.join(',') + '\\n';\r\n    });\r\n    \r\n    // Създаване на Blob и генериране на URL\r\n    const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\r\n    const url = URL.createObjectURL(blob);\r\n    \r\n    // Създаване на временен линк и симулиране на клик\r\n    const link = document.createElement('a');\r\n    link.href = url;\r\n    link.setAttribute('download', `${reportType}_report_${dateRange.from}_${dateRange.to}.csv`);\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    \r\n    // Почистване\r\n    document.body.removeChild(link);\r\n    URL.revokeObjectURL(url);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Отчети и статистика</h1>\r\n      \r\n      <div className=\"report-filters\">\r\n        <div className=\"form-group\">\r\n          <label>Тип отчет</label>\r\n          <select \r\n            value={reportType} \r\n            onChange={(e) => setReportType(e.target.value)}\r\n          >\r\n            <option value=\"reservations\">Резервации</option>\r\n            <option value=\"tables\">Заетост на маси</option>\r\n          </select>\r\n        </div>\r\n        \r\n        <div className=\"form-group\">\r\n          <label>Ресторант</label>\r\n          <select \r\n            value={selectedRestaurant} \r\n            onChange={(e) => setSelectedRestaurant(e.target.value)}\r\n          >\r\n            <option value=\"all\">Всички ресторанти</option>\r\n            {restaurants.map(restaurant => (\r\n              <option key={restaurant.id} value={restaurant.id}>\r\n                {restaurant.name}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        \r\n        <div className=\"form-group\">\r\n          <label>От дата</label>\r\n          <input \r\n            type=\"date\" \r\n            name=\"from\" \r\n            value={dateRange.from} \r\n            onChange={handleDateChange} \r\n          />\r\n        </div>\r\n        \r\n        <div className=\"form-group\">\r\n          <label>До дата</label>\r\n          <input \r\n            type=\"date\" \r\n            name=\"to\" \r\n            value={dateRange.to} \r\n            onChange={handleDateChange} \r\n          />\r\n        </div>\r\n        \r\n        <button \r\n          className=\"admin-action-btn\"\r\n          onClick={generateReport}\r\n          disabled={loading}\r\n        >\r\n          {loading ? 'Генериране...' : 'Генерирай отчет'}\r\n        </button>\r\n        \r\n        {reportData.length > 0 && (\r\n          <button \r\n            className=\"admin-action-btn\"\r\n            onClick={exportToCSV}\r\n          >\r\n            Експорт в CSV\r\n          </button>\r\n        )}\r\n      </div>\r\n      \r\n      {reportData.length > 0 && (\r\n        <div className=\"report-summary\">\r\n          <h2>Обобщение</h2>\r\n          {reportType === 'reservations' && (\r\n            <div className=\"summary-cards\">\r\n              <div className=\"summary-card\">\r\n                <h3>Общо резервации</h3>\r\n                <p>{summary.totalReservations}</p>\r\n              </div>\r\n              <div className=\"summary-card\">\r\n                <h3>Потвърдени</h3>\r\n                <p>{summary.confirmedReservations}</p>\r\n              </div>\r\n              <div className=\"summary-card\">\r\n                <h3>Отказани</h3>\r\n                <p>{summary.cancelledReservations}</p>\r\n              </div>\r\n              <div className=\"summary-card\">\r\n                <h3>Чакащи</h3>\r\n                <p>{summary.pendingReservations}</p>\r\n              </div>\r\n              <div className=\"summary-card\">\r\n                <h3>Общо гости</h3>\r\n                <p>{summary.totalGuests}</p>\r\n              </div>\r\n            </div>\r\n          )}\r\n          \r\n          {reportType === 'tables' && (\r\n            <div className=\"summary-cards\">\r\n              <div className=\"summary-card\">\r\n                <h3>Общо маси</h3>\r\n                <p>{summary.totalTables}</p>\r\n              </div>\r\n              <div className=\"summary-card\">\r\n                <h3>Общо използвания</h3>\r\n                <p>{summary.totalUsages}</p>\r\n              </div>\r\n              <div className=\"summary-card\">\r\n                <h3>Общо гости</h3>\r\n                <p>{summary.totalGuests}</p>\r\n              </div>\r\n              {summary.mostUsedTable && (\r\n                <div className=\"summary-card\">\r\n                  <h3>Най-използвана маса</h3>\r\n                  <p>\r\n                    {summary.mostUsedTable.restaurant}, Маса {summary.mostUsedTable.table_number}<br />\r\n                    {summary.mostUsedTable.usage_count} използвания\r\n                  </p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n      \r\n      {reportData.length > 0 && (\r\n        <div className=\"admin-table-container\">\r\n          <h2>Детайли</h2>\r\n          {reportType === 'reservations' && (\r\n            <table className=\"admin-table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Ресторант</th>\r\n                  <th>Дата</th>\r\n                  <th>Час</th>\r\n                  <th>Маса</th>\r\n                  <th>Клиент</th>\r\n                  <th>Гости</th>\r\n                  <th>Статус</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {reportData.map((reservation, index) => (\r\n                  <tr key={index} className={`status-${reservation.status}`}>\r\n                    <td>{reservation.restaurant?.name}</td>\r\n                    <td>{reservation.date}</td>\r\n                    <td>{reservation.time}</td>\r\n                    <td>Маса {reservation.table?.table_number}</td>\r\n                    <td>{reservation.name}</td>\r\n                    <td>{reservation.guests_count}</td>\r\n                    <td>\r\n                      <span className={`status-badge ${reservation.status}`}>\r\n                        {reservation.status === 'confirmed' ? 'Потвърдена' : \r\n                         reservation.status === 'pending' ? 'Чакаща' : 'Отказана'}\r\n                      </span>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          )}\r\n          \r\n          {reportType === 'tables' && (\r\n            <table className=\"admin-table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Ресторант</th>\r\n                  <th>Маса</th>\r\n                  <th>Капацитет</th>\r\n                  <th>Брой използвания</th>\r\n                  <th>Общо гости</th>\r\n                  <th>Средно гости</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {reportData.map((table, index) => (\r\n                  <tr key={index}>\r\n                    <td>{table.restaurant}</td>\r\n                    <td>Маса {table.table_number}</td>\r\n                    <td>{table.capacity}</td>\r\n                    <td>{table.usage_count}</td>\r\n                    <td>{table.total_guests}</td>\r\n                    <td>{(table.total_guests / table.usage_count).toFixed(2)}</td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AdminDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}