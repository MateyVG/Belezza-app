{"ast":null,"code":"import React from'react';import{Link,useNavigate}from'react-router-dom';import{useAuth}from'../context/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function TestAdmin(){const{user,userRole,isSuperAdmin,isRestaurantAdmin,signOut}=useAuth();const navigate=useNavigate();const handleSignOut=async()=>{try{await signOut();navigate('/login');}catch(error){console.error(\"Error signing out:\",error);}};return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px',maxWidth:'1200px',margin:'0 auto'},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u041E\\u043F\\u0440\\u043E\\u0441\\u0442\\u0435\\u043D \\u0430\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u0438\\u0432\\u0435\\u043D \\u043F\\u0430\\u043D\\u0435\\u043B\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',marginBottom:'20px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{width:'250px',padding:'15px',background:'#f1f1f1',borderRadius:'5px',marginRight:'20px'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u041C\\u0435\\u043D\\u044E\"}),/*#__PURE__*/_jsxs(\"ul\",{style:{listStyle:'none',padding:0},children:[/*#__PURE__*/_jsx(\"li\",{style:{marginBottom:'10px'},children:/*#__PURE__*/_jsx(Link,{to:\"/admin/dashboard\",children:\"\\u0422\\u0430\\u0431\\u043B\\u043E\"})}),/*#__PURE__*/_jsx(\"li\",{style:{marginBottom:'10px'},children:/*#__PURE__*/_jsx(Link,{to:\"/admin/reservations\",children:\"\\u0420\\u0435\\u0437\\u0435\\u0440\\u0432\\u0430\\u0446\\u0438\\u0438\"})}),/*#__PURE__*/_jsx(\"li\",{style:{marginBottom:'10px'},children:/*#__PURE__*/_jsx(Link,{to:\"/admin/menu\",children:\"\\u041C\\u0435\\u043D\\u044E\"})}),/*#__PURE__*/_jsx(\"li\",{style:{marginBottom:'10px'},children:/*#__PURE__*/_jsx(Link,{to:\"/admin/events\",children:\"\\u0421\\u044A\\u0431\\u0438\\u0442\\u0438\\u044F\"})}),/*#__PURE__*/_jsx(\"li\",{style:{marginBottom:'10px'},children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"\\u041A\\u044A\\u043C \\u0441\\u0430\\u0439\\u0442\\u0430\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:handleSignOut,style:{padding:'5px 10px',cursor:'pointer'},children:\"\\u0418\\u0437\\u0445\\u043E\\u0434\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,padding:'15px',background:'#f9f9f9',borderRadius:'5px'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u0418\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044F\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u041F\\u043E\\u0442\\u0440\\u0435\\u0431\\u0438\\u0442\\u0435\\u043B:\"}),\" \",(user===null||user===void 0?void 0:user.email)||'Неизвестен']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0420\\u043E\\u043B\\u044F:\"}),\" \",(userRole===null||userRole===void 0?void 0:userRole.role)||'Няма роля']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0422\\u0438\\u043F \\u0430\\u0434\\u043C\\u0438\\u043D:\"}),\" \",typeof isSuperAdmin==='function'&&isSuperAdmin()?'Супер администратор':typeof isRestaurantAdmin==='function'&&isRestaurantAdmin()?'Ресторантски администратор':'Няма административни права']}),(userRole===null||userRole===void 0?void 0:userRole.restaurant_id)&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0420\\u0435\\u0441\\u0442\\u043E\\u0440\\u0430\\u043D\\u0442 ID:\"}),\" \",userRole.restaurant_id]})]})]})]});}export default TestAdmin;","map":{"version":3,"names":["React","Link","useNavigate","useAuth","jsx","_jsx","jsxs","_jsxs","TestAdmin","user","userRole","isSuperAdmin","isRestaurantAdmin","signOut","navigate","handleSignOut","error","console","style","padding","maxWidth","margin","children","display","marginBottom","width","background","borderRadius","marginRight","listStyle","to","onClick","cursor","flex","email","role","restaurant_id"],"sources":["D:/Belezza/restaurant-chain-app/src/pages/TestAdmin.jsx"],"sourcesContent":["import React from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../context/AuthContext';\r\n\r\nfunction TestAdmin() {\r\n  const { user, userRole, isSuperAdmin, isRestaurantAdmin, signOut } = useAuth();\r\n  const navigate = useNavigate();\r\n  \r\n  const handleSignOut = async () => {\r\n    try {\r\n      await signOut();\r\n      navigate('/login');\r\n    } catch (error) {\r\n      console.error(\"Error signing out:\", error);\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <div style={{ padding: '20px', maxWidth: '1200px', margin: '0 auto' }}>\r\n      <h1>Опростен административен панел</h1>\r\n      \r\n      <div style={{ display: 'flex', marginBottom: '20px' }}>\r\n        <div style={{ width: '250px', padding: '15px', background: '#f1f1f1', borderRadius: '5px', marginRight: '20px' }}>\r\n          <h2>Меню</h2>\r\n          <ul style={{ listStyle: 'none', padding: 0 }}>\r\n            {/* Използвайте Link вместо <a> */}\r\n            <li style={{ marginBottom: '10px' }}><Link to=\"/admin/dashboard\">Табло</Link></li>\r\n            <li style={{ marginBottom: '10px' }}><Link to=\"/admin/reservations\">Резервации</Link></li>\r\n            <li style={{ marginBottom: '10px' }}><Link to=\"/admin/menu\">Меню</Link></li>\r\n            <li style={{ marginBottom: '10px' }}><Link to=\"/admin/events\">Събития</Link></li>\r\n            <li style={{ marginBottom: '10px' }}><Link to=\"/\">Към сайта</Link></li>\r\n            <li><button onClick={handleSignOut} style={{ padding: '5px 10px', cursor: 'pointer' }}>Изход</button></li>\r\n          </ul>\r\n        </div>\r\n        \r\n        <div style={{ flex: 1, padding: '15px', background: '#f9f9f9', borderRadius: '5px' }}>\r\n          <h2>Информация</h2>\r\n          <p><strong>Потребител:</strong> {user?.email || 'Неизвестен'}</p>\r\n          <p><strong>Роля:</strong> {userRole?.role || 'Няма роля'}</p>\r\n          <p><strong>Тип админ:</strong> {\r\n            typeof isSuperAdmin === 'function' && isSuperAdmin() ? 'Супер администратор' :\r\n            typeof isRestaurantAdmin === 'function' && isRestaurantAdmin() ? 'Ресторантски администратор' :\r\n            'Няма административни права'\r\n          }</p>\r\n          \r\n          {userRole?.restaurant_id && (\r\n            <p><strong>Ресторант ID:</strong> {userRole.restaurant_id}</p>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TestAdmin;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,OAASC,OAAO,KAAQ,wBAAwB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEjD,QAAS,CAAAC,SAASA,CAAA,CAAG,CACnB,KAAM,CAAEC,IAAI,CAAEC,QAAQ,CAAEC,YAAY,CAAEC,iBAAiB,CAAEC,OAAQ,CAAC,CAAGV,OAAO,CAAC,CAAC,CAC9E,KAAM,CAAAW,QAAQ,CAAGZ,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAa,aAAa,CAAG,KAAAA,CAAA,GAAY,CAChC,GAAI,CACF,KAAM,CAAAF,OAAO,CAAC,CAAC,CACfC,QAAQ,CAAC,QAAQ,CAAC,CACpB,CAAE,MAAOE,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,oBAAoB,CAAEA,KAAK,CAAC,CAC5C,CACF,CAAC,CAED,mBACET,KAAA,QAAKW,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEC,QAAQ,CAAE,QAAQ,CAAEC,MAAM,CAAE,QAAS,CAAE,CAAAC,QAAA,eACpEjB,IAAA,OAAAiB,QAAA,CAAI,4KAA8B,CAAI,CAAC,cAEvCf,KAAA,QAAKW,KAAK,CAAE,CAAEK,OAAO,CAAE,MAAM,CAAEC,YAAY,CAAE,MAAO,CAAE,CAAAF,QAAA,eACpDf,KAAA,QAAKW,KAAK,CAAE,CAAEO,KAAK,CAAE,OAAO,CAAEN,OAAO,CAAE,MAAM,CAAEO,UAAU,CAAE,SAAS,CAAEC,YAAY,CAAE,KAAK,CAAEC,WAAW,CAAE,MAAO,CAAE,CAAAN,QAAA,eAC/GjB,IAAA,OAAAiB,QAAA,CAAI,0BAAI,CAAI,CAAC,cACbf,KAAA,OAAIW,KAAK,CAAE,CAAEW,SAAS,CAAE,MAAM,CAAEV,OAAO,CAAE,CAAE,CAAE,CAAAG,QAAA,eAE3CjB,IAAA,OAAIa,KAAK,CAAE,CAAEM,YAAY,CAAE,MAAO,CAAE,CAAAF,QAAA,cAACjB,IAAA,CAACJ,IAAI,EAAC6B,EAAE,CAAC,kBAAkB,CAAAR,QAAA,CAAC,gCAAK,CAAM,CAAC,CAAI,CAAC,cAClFjB,IAAA,OAAIa,KAAK,CAAE,CAAEM,YAAY,CAAE,MAAO,CAAE,CAAAF,QAAA,cAACjB,IAAA,CAACJ,IAAI,EAAC6B,EAAE,CAAC,qBAAqB,CAAAR,QAAA,CAAC,8DAAU,CAAM,CAAC,CAAI,CAAC,cAC1FjB,IAAA,OAAIa,KAAK,CAAE,CAAEM,YAAY,CAAE,MAAO,CAAE,CAAAF,QAAA,cAACjB,IAAA,CAACJ,IAAI,EAAC6B,EAAE,CAAC,aAAa,CAAAR,QAAA,CAAC,0BAAI,CAAM,CAAC,CAAI,CAAC,cAC5EjB,IAAA,OAAIa,KAAK,CAAE,CAAEM,YAAY,CAAE,MAAO,CAAE,CAAAF,QAAA,cAACjB,IAAA,CAACJ,IAAI,EAAC6B,EAAE,CAAC,eAAe,CAAAR,QAAA,CAAC,4CAAO,CAAM,CAAC,CAAI,CAAC,cACjFjB,IAAA,OAAIa,KAAK,CAAE,CAAEM,YAAY,CAAE,MAAO,CAAE,CAAAF,QAAA,cAACjB,IAAA,CAACJ,IAAI,EAAC6B,EAAE,CAAC,GAAG,CAAAR,QAAA,CAAC,mDAAS,CAAM,CAAC,CAAI,CAAC,cACvEjB,IAAA,OAAAiB,QAAA,cAAIjB,IAAA,WAAQ0B,OAAO,CAAEhB,aAAc,CAACG,KAAK,CAAE,CAAEC,OAAO,CAAE,UAAU,CAAEa,MAAM,CAAE,SAAU,CAAE,CAAAV,QAAA,CAAC,gCAAK,CAAQ,CAAC,CAAI,CAAC,EACxG,CAAC,EACF,CAAC,cAENf,KAAA,QAAKW,KAAK,CAAE,CAAEe,IAAI,CAAE,CAAC,CAAEd,OAAO,CAAE,MAAM,CAAEO,UAAU,CAAE,SAAS,CAAEC,YAAY,CAAE,KAAM,CAAE,CAAAL,QAAA,eACnFjB,IAAA,OAAAiB,QAAA,CAAI,8DAAU,CAAI,CAAC,cACnBf,KAAA,MAAAe,QAAA,eAAGjB,IAAA,WAAAiB,QAAA,CAAQ,+DAAW,CAAQ,CAAC,IAAC,CAAC,CAAAb,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEyB,KAAK,GAAI,YAAY,EAAI,CAAC,cACjE3B,KAAA,MAAAe,QAAA,eAAGjB,IAAA,WAAAiB,QAAA,CAAQ,2BAAK,CAAQ,CAAC,IAAC,CAAC,CAAAZ,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAEyB,IAAI,GAAI,WAAW,EAAI,CAAC,cAC7D5B,KAAA,MAAAe,QAAA,eAAGjB,IAAA,WAAAiB,QAAA,CAAQ,oDAAU,CAAQ,CAAC,IAAC,CAC7B,MAAO,CAAAX,YAAY,GAAK,UAAU,EAAIA,YAAY,CAAC,CAAC,CAAG,qBAAqB,CAC5E,MAAO,CAAAC,iBAAiB,GAAK,UAAU,EAAIA,iBAAiB,CAAC,CAAC,CAAG,4BAA4B,CAC7F,4BAA4B,EAC1B,CAAC,CAEJ,CAAAF,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAE0B,aAAa,gBACtB7B,KAAA,MAAAe,QAAA,eAAGjB,IAAA,WAAAiB,QAAA,CAAQ,4DAAa,CAAQ,CAAC,IAAC,CAACZ,QAAQ,CAAC0B,aAAa,EAAI,CAC9D,EACE,CAAC,EACH,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAA5B,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}