{"ast":null,"code":"import React,{useState,useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function AddEditSpecialOffer(_ref){let{restaurant,supabase,offer=null,menuItems=[],menuCategories=[],onSave,onCancel}=_ref;const[formData,setFormData]=useState({title:'',description:'',discount_type:'percentage',discount_value:'',start_date:'',end_date:'',days_of_week:[],start_time:'',end_time:'',min_order:'',max_uses:'',image_url:'',active:true,applies_to:'all',applies_to_id:''});const[loading,setLoading]=useState(false);const[error,setError]=useState(null);// Инициализиране на формата с данни за редактиране, ако е предоставено предложение\nuseEffect(()=>{if(offer){setFormData({title:offer.title||'',description:offer.description||'',discount_type:offer.discount_type||'percentage',discount_value:offer.discount_value!==null?offer.discount_value.toString():'',start_date:offer.start_date||'',end_date:offer.end_date||'',days_of_week:offer.days_of_week||[],start_time:offer.start_time||'',end_time:offer.end_time||'',min_order:offer.min_order!==null?offer.min_order.toString():'',max_uses:offer.max_uses!==null?offer.max_uses.toString():'',image_url:offer.image_url||'',active:offer.active!==false,applies_to:offer.applies_to||'all',applies_to_id:offer.applies_to_id||''});}},[offer]);const handleInputChange=e=>{const{name,value,type,checked}=e.target;setFormData({...formData,[name]:type==='checkbox'?checked:value});};const handleDaysOfWeekChange=day=>{const updatedDays=[...formData.days_of_week];const index=updatedDays.indexOf(day);if(index>-1){updatedDays.splice(index,1);}else{updatedDays.push(day);}setFormData({...formData,days_of_week:updatedDays});};const handleSubmit=async e=>{e.preventDefault();setLoading(true);setError(null);try{// Валидация\nif(formData.discount_type!=='free_item'&&(formData.discount_value===''||parseFloat(formData.discount_value)<=0)){throw new Error('Моля, въведете валидна стойност на отстъпката');}if(formData.discount_type==='percentage'&&parseFloat(formData.discount_value)>100){throw new Error('Процентната отстъпка не може да бъде по-голяма от 100%');}if(formData.start_date&&formData.end_date&&formData.start_date>formData.end_date){throw new Error('Крайната дата трябва да бъде след началната дата');}if(formData.applies_to!=='all'&&!formData.applies_to_id){throw new Error('Моля, изберете за какво се отнася специалното предложение');}// Подготовка на данните\nconst offerData={...formData,restaurant_id:restaurant.id,discount_value:formData.discount_value===''?null:formData.discount_type==='percentage'?parseInt(formData.discount_value,10):parseFloat(formData.discount_value),min_order:formData.min_order===''?null:parseFloat(formData.min_order),max_uses:formData.max_uses===''?null:parseInt(formData.max_uses,10)};// Конвертиране на празни стрингове към null\nfor(const key in offerData){if(offerData[key]===''){offerData[key]=null;}}let result;if(offer){// Редактиране на съществуващо предложение\nconst{data,error:updateError}=await supabase.from('special_offers').update(offerData).eq('id',offer.id).select();if(updateError)throw updateError;result=data[0];}else{// Създаване на ново предложение\nconst{data,error:insertError}=await supabase.from('special_offers').insert([offerData]).select();if(insertError)throw insertError;result=data[0];}onSave(result);}catch(error){console.error('Error saving special offer:',error);setError(error.message);}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"admin-form-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:offer?'Редактиране на специално предложение':'Ново специално предложение'}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",style:{padding:'10px',backgroundColor:'#f8d7da',color:'#721c24',borderRadius:'4px',marginBottom:'15px'},children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"admin-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u0417\\u0430\\u0433\\u043B\\u0430\\u0432\\u0438\\u0435\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"title\",value:formData.title,onChange:handleInputChange,required:true,placeholder:\"\\u041D\\u0430\\u043F\\u0440.: \\u0429\\u0430\\u0441\\u0442\\u043B\\u0438\\u0432 \\u0447\\u0430\\u0441, 2+1 \\u0431\\u0435\\u0437\\u043F\\u043B\\u0430\\u0442\\u043D\\u043E \\u0438 \\u0442.\\u043D.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",value:formData.description,onChange:handleInputChange,rows:\"3\",placeholder:\"\\u041F\\u043E\\u0434\\u0440\\u043E\\u0431\\u043D\\u043E \\u043E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435 \\u043D\\u0430 \\u0441\\u043F\\u0435\\u0446\\u0438\\u0430\\u043B\\u043D\\u043E\\u0442\\u043E \\u043F\\u0440\\u0435\\u0434\\u043B\\u043E\\u0436\\u0435\\u043D\\u0438\\u0435\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u0422\\u0438\\u043F \\u043E\\u0442\\u0441\\u0442\\u044A\\u043F\\u043A\\u0430\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"discount_type\",value:formData.discount_type,onChange:handleInputChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"percentage\",children:\"\\u041F\\u0440\\u043E\\u0446\\u0435\\u043D\\u0442 (%)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"fixed\",children:\"\\u0424\\u0438\\u043A\\u0441\\u0438\\u0440\\u0430\\u043D\\u0430 \\u0441\\u0443\\u043C\\u0430 (\\u043B\\u0432.)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"free_item\",children:\"\\u0411\\u0435\\u0437\\u043F\\u043B\\u0430\\u0442\\u0435\\u043D \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\"})]})]}),formData.discount_type!=='free_item'&&/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u0421\\u0442\\u043E\\u0439\\u043D\\u043E\\u0441\\u0442 \\u043D\\u0430 \\u043E\\u0442\\u0441\\u0442\\u044A\\u043F\\u043A\\u0430\\u0442\\u0430\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"discount_value\",value:formData.discount_value,onChange:handleInputChange,min:formData.discount_type==='percentage'?1:0.01,max:formData.discount_type==='percentage'?100:undefined,step:formData.discount_type==='percentage'?1:0.01,required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u041D\\u0430\\u0447\\u0430\\u043B\\u043D\\u0430 \\u0434\\u0430\\u0442\\u0430\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"start_date\",value:formData.start_date,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u041A\\u0440\\u0430\\u0439\\u043D\\u0430 \\u0434\\u0430\\u0442\\u0430\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"end_date\",value:formData.end_date,onChange:handleInputChange})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u0412 \\u043A\\u043E\\u0438 \\u0434\\u043D\\u0438 \\u043E\\u0442 \\u0441\\u0435\\u0434\\u043C\\u0438\\u0446\\u0430\\u0442\\u0430 \\u0432\\u0430\\u0436\\u0438\"}),/*#__PURE__*/_jsx(\"div\",{className:\"days-of-week-container\",children:['monday','tuesday','wednesday','thursday','friday','saturday','sunday'].map(day=>/*#__PURE__*/_jsxs(\"label\",{className:\"day-checkbox\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:formData.days_of_week.includes(day),onChange:()=>handleDaysOfWeekChange(day)}),day==='monday'?'Пн':day==='tuesday'?'Вт':day==='wednesday'?'Ср':day==='thursday'?'Чт':day==='friday'?'Пт':day==='saturday'?'Сб':'Нд']},day))}),/*#__PURE__*/_jsx(\"small\",{children:\"\\u041E\\u0441\\u0442\\u0430\\u0432\\u0435\\u0442\\u0435 \\u0432\\u0441\\u0438\\u0447\\u043A\\u0438 \\u043F\\u0440\\u0430\\u0437\\u043D\\u0438, \\u0437\\u0430 \\u0434\\u0430 \\u0432\\u0430\\u0436\\u0438 \\u0432\\u0441\\u0435\\u043A\\u0438 \\u0434\\u0435\\u043D\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u041D\\u0430\\u0447\\u0430\\u043B\\u0435\\u043D \\u0447\\u0430\\u0441\"}),/*#__PURE__*/_jsx(\"input\",{type:\"time\",name:\"start_time\",value:formData.start_time,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u041A\\u0440\\u0430\\u0435\\u043D \\u0447\\u0430\\u0441\"}),/*#__PURE__*/_jsx(\"input\",{type:\"time\",name:\"end_time\",value:formData.end_time,onChange:handleInputChange})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u041C\\u0438\\u043D\\u0438\\u043C\\u0430\\u043B\\u043D\\u0430 \\u043F\\u043E\\u0440\\u044A\\u0447\\u043A\\u0430 (\\u043B\\u0432.)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"min_order\",value:formData.min_order,onChange:handleInputChange,min:\"0\",step:\"0.01\",placeholder:\"\\u041E\\u0441\\u0442\\u0430\\u0432\\u0435\\u0442\\u0435 \\u043F\\u0440\\u0430\\u0437\\u043D\\u043E, \\u0430\\u043A\\u043E \\u043D\\u044F\\u043C\\u0430\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u041C\\u0430\\u043A\\u0441\\u0438\\u043C\\u0430\\u043B\\u0435\\u043D \\u0431\\u0440\\u043E\\u0439 \\u0438\\u0437\\u043F\\u043E\\u043B\\u0437\\u0432\\u0430\\u043D\\u0438\\u044F\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"max_uses\",value:formData.max_uses,onChange:handleInputChange,min:\"1\",placeholder:\"\\u041E\\u0441\\u0442\\u0430\\u0432\\u0435\\u0442\\u0435 \\u043F\\u0440\\u0430\\u0437\\u043D\\u043E, \\u0430\\u043A\\u043E \\u043D\\u044F\\u043C\\u0430 \\u043B\\u0438\\u043C\\u0438\\u0442\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"URL \\u043D\\u0430 \\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435\"}),/*#__PURE__*/_jsx(\"input\",{type:\"url\",name:\"image_url\",value:formData.image_url,onChange:handleInputChange,placeholder:\"http://example.com/image.jpg\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u0417\\u0430 \\u043A\\u0430\\u043A\\u0432\\u043E \\u0441\\u0435 \\u043E\\u0442\\u043D\\u0430\\u0441\\u044F\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"applies_to\",value:formData.applies_to,onChange:handleInputChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"\\u0412\\u0441\\u0438\\u0447\\u043A\\u0438 \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\\u0438\"}),/*#__PURE__*/_jsx(\"option\",{value:\"category\",children:\"\\u041A\\u043E\\u043D\\u043A\\u0440\\u0435\\u0442\\u043D\\u0430 \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"}),/*#__PURE__*/_jsx(\"option\",{value:\"item\",children:\"\\u041A\\u043E\\u043D\\u043A\\u0440\\u0435\\u0442\\u0435\\u043D \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\"})]})]}),formData.applies_to==='category'&&/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u0418\\u0437\\u0431\\u0435\\u0440\\u0435\\u0442\\u0435 \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"applies_to_id\",value:formData.applies_to_id,onChange:handleInputChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u0418\\u0437\\u0431\\u0435\\u0440\\u0435\\u0442\\u0435 \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"}),menuCategories.map(category=>/*#__PURE__*/_jsx(\"option\",{value:category.id,children:category.name},category.id))]})]}),formData.applies_to==='item'&&/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u0418\\u0437\\u0431\\u0435\\u0440\\u0435\\u0442\\u0435 \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"applies_to_id\",value:formData.applies_to_id,onChange:handleInputChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u0418\\u0437\\u0431\\u0435\\u0440\\u0435\\u0442\\u0435 \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\"}),menuItems.map(item=>{var _item$menu_categories,_item$price;return/*#__PURE__*/_jsxs(\"option\",{value:item.id,children:[item.name,\" (\",((_item$menu_categories=item.menu_categories)===null||_item$menu_categories===void 0?void 0:_item$menu_categories.name)||'Без категория',\") - \",(_item$price=item.price)===null||_item$price===void 0?void 0:_item$price.toFixed(2),\" \\u043B\\u0432.\"]},item.id);})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group checkbox-group\",children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"active\",checked:formData.active,onChange:handleInputChange}),\"\\u0410\\u043A\\u0442\\u0438\\u0432\\u043D\\u043E\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"admin-cancel-btn\",onClick:onCancel,disabled:loading,children:\"\\u041E\\u0442\\u043A\\u0430\\u0437\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"admin-submit-btn\",disabled:loading,children:loading?'Запазване...':offer?'Запази промените':'Добави специално предложение'})]})]})]});}export default AddEditSpecialOffer;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","AddEditSpecialOffer","_ref","restaurant","supabase","offer","menuItems","menuCategories","onSave","onCancel","formData","setFormData","title","description","discount_type","discount_value","start_date","end_date","days_of_week","start_time","end_time","min_order","max_uses","image_url","active","applies_to","applies_to_id","loading","setLoading","error","setError","toString","handleInputChange","e","name","value","type","checked","target","handleDaysOfWeekChange","day","updatedDays","index","indexOf","splice","push","handleSubmit","preventDefault","parseFloat","Error","offerData","restaurant_id","id","parseInt","key","result","data","updateError","from","update","eq","select","insertError","insert","console","message","className","children","style","padding","backgroundColor","color","borderRadius","marginBottom","onSubmit","onChange","required","placeholder","rows","min","max","undefined","step","map","includes","category","item","_item$menu_categories","_item$price","menu_categories","price","toFixed","onClick","disabled"],"sources":["D:/Belezza/restaurant-chain-app/src/components/AddEditSpecialOffer.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nfunction AddEditSpecialOffer({ restaurant, supabase, offer = null, menuItems = [], menuCategories = [], onSave, onCancel }) {\r\n  const [formData, setFormData] = useState({\r\n    title: '',\r\n    description: '',\r\n    discount_type: 'percentage',\r\n    discount_value: '',\r\n    start_date: '',\r\n    end_date: '',\r\n    days_of_week: [],\r\n    start_time: '',\r\n    end_time: '',\r\n    min_order: '',\r\n    max_uses: '',\r\n    image_url: '',\r\n    active: true,\r\n    applies_to: 'all',\r\n    applies_to_id: ''\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  // Инициализиране на формата с данни за редактиране, ако е предоставено предложение\r\n  useEffect(() => {\r\n    if (offer) {\r\n      setFormData({\r\n        title: offer.title || '',\r\n        description: offer.description || '',\r\n        discount_type: offer.discount_type || 'percentage',\r\n        discount_value: offer.discount_value !== null ? offer.discount_value.toString() : '',\r\n        start_date: offer.start_date || '',\r\n        end_date: offer.end_date || '',\r\n        days_of_week: offer.days_of_week || [],\r\n        start_time: offer.start_time || '',\r\n        end_time: offer.end_time || '',\r\n        min_order: offer.min_order !== null ? offer.min_order.toString() : '',\r\n        max_uses: offer.max_uses !== null ? offer.max_uses.toString() : '',\r\n        image_url: offer.image_url || '',\r\n        active: offer.active !== false,\r\n        applies_to: offer.applies_to || 'all',\r\n        applies_to_id: offer.applies_to_id || ''\r\n      });\r\n    }\r\n  }, [offer]);\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value, type, checked } = e.target;\r\n    setFormData({\r\n      ...formData,\r\n      [name]: type === 'checkbox' ? checked : value\r\n    });\r\n  };\r\n\r\n  const handleDaysOfWeekChange = (day) => {\r\n    const updatedDays = [...formData.days_of_week];\r\n    const index = updatedDays.indexOf(day);\r\n    \r\n    if (index > -1) {\r\n      updatedDays.splice(index, 1);\r\n    } else {\r\n      updatedDays.push(day);\r\n    }\r\n    \r\n    setFormData({\r\n      ...formData,\r\n      days_of_week: updatedDays\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      // Валидация\r\n      if (formData.discount_type !== 'free_item' && \r\n          (formData.discount_value === '' || parseFloat(formData.discount_value) <= 0)) {\r\n        throw new Error('Моля, въведете валидна стойност на отстъпката');\r\n      }\r\n      \r\n      if (formData.discount_type === 'percentage' && parseFloat(formData.discount_value) > 100) {\r\n        throw new Error('Процентната отстъпка не може да бъде по-голяма от 100%');\r\n      }\r\n      \r\n      if (formData.start_date && formData.end_date && formData.start_date > formData.end_date) {\r\n        throw new Error('Крайната дата трябва да бъде след началната дата');\r\n      }\r\n      \r\n      if (formData.applies_to !== 'all' && !formData.applies_to_id) {\r\n        throw new Error('Моля, изберете за какво се отнася специалното предложение');\r\n      }\r\n      \r\n      // Подготовка на данните\r\n      const offerData = {\r\n        ...formData,\r\n        restaurant_id: restaurant.id,\r\n        discount_value: formData.discount_value === '' ? null : \r\n                        formData.discount_type === 'percentage' ? parseInt(formData.discount_value, 10) : \r\n                        parseFloat(formData.discount_value),\r\n        min_order: formData.min_order === '' ? null : parseFloat(formData.min_order),\r\n        max_uses: formData.max_uses === '' ? null : parseInt(formData.max_uses, 10)\r\n      };\r\n      \r\n      // Конвертиране на празни стрингове към null\r\n      for (const key in offerData) {\r\n        if (offerData[key] === '') {\r\n          offerData[key] = null;\r\n        }\r\n      }\r\n      \r\n      let result;\r\n      \r\n      if (offer) {\r\n        // Редактиране на съществуващо предложение\r\n        const { data, error: updateError } = await supabase\r\n          .from('special_offers')\r\n          .update(offerData)\r\n          .eq('id', offer.id)\r\n          .select();\r\n        \r\n        if (updateError) throw updateError;\r\n        result = data[0];\r\n      } else {\r\n        // Създаване на ново предложение\r\n        const { data, error: insertError } = await supabase\r\n          .from('special_offers')\r\n          .insert([offerData])\r\n          .select();\r\n        \r\n        if (insertError) throw insertError;\r\n        result = data[0];\r\n      }\r\n      \r\n      onSave(result);\r\n    } catch (error) {\r\n      console.error('Error saving special offer:', error);\r\n      setError(error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"admin-form-container\">\r\n      <h2>{offer ? 'Редактиране на специално предложение' : 'Ново специално предложение'}</h2>\r\n      \r\n      {error && (\r\n        <div className=\"error-message\" style={{padding: '10px', backgroundColor: '#f8d7da', color: '#721c24', borderRadius: '4px', marginBottom: '15px'}}>\r\n          {error}\r\n        </div>\r\n      )}\r\n      \r\n      <form onSubmit={handleSubmit} className=\"admin-form\">\r\n        <div className=\"form-group\">\r\n          <label>Заглавие</label>\r\n          <input \r\n            type=\"text\" \r\n            name=\"title\" \r\n            value={formData.title} \r\n            onChange={handleInputChange} \r\n            required \r\n            placeholder=\"Напр.: Щастлив час, 2+1 безплатно и т.н.\"\r\n          />\r\n        </div>\r\n        \r\n        <div className=\"form-group\">\r\n          <label>Описание</label>\r\n          <textarea \r\n            name=\"description\" \r\n            value={formData.description} \r\n            onChange={handleInputChange} \r\n            rows=\"3\"\r\n            placeholder=\"Подробно описание на специалното предложение\"\r\n          />\r\n        </div>\r\n        \r\n        <div className=\"form-row\">\r\n          <div className=\"form-group\">\r\n            <label>Тип отстъпка</label>\r\n            <select \r\n              name=\"discount_type\" \r\n              value={formData.discount_type} \r\n              onChange={handleInputChange} \r\n              required\r\n            >\r\n              <option value=\"percentage\">Процент (%)</option>\r\n              <option value=\"fixed\">Фиксирана сума (лв.)</option>\r\n              <option value=\"free_item\">Безплатен продукт</option>\r\n            </select>\r\n          </div>\r\n          \r\n          {formData.discount_type !== 'free_item' && (\r\n            <div className=\"form-group\">\r\n              <label>Стойност на отстъпката</label>\r\n              <input \r\n                type=\"number\" \r\n                name=\"discount_value\" \r\n                value={formData.discount_value} \r\n                onChange={handleInputChange} \r\n                min={formData.discount_type === 'percentage' ? 1 : 0.01}\r\n                max={formData.discount_type === 'percentage' ? 100 : undefined}\r\n                step={formData.discount_type === 'percentage' ? 1 : 0.01}\r\n                required\r\n              />\r\n            </div>\r\n          )}\r\n        </div>\r\n        \r\n        <div className=\"form-row\">\r\n          <div className=\"form-group\">\r\n            <label>Начална дата</label>\r\n            <input \r\n              type=\"date\" \r\n              name=\"start_date\" \r\n              value={formData.start_date} \r\n              onChange={handleInputChange} \r\n            />\r\n          </div>\r\n          \r\n          <div className=\"form-group\">\r\n            <label>Крайна дата</label>\r\n            <input \r\n              type=\"date\" \r\n              name=\"end_date\" \r\n              value={formData.end_date} \r\n              onChange={handleInputChange} \r\n            />\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"form-group\">\r\n          <label>В кои дни от седмицата важи</label>\r\n          <div className=\"days-of-week-container\">\r\n            {['monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday', 'sunday'].map(day => (\r\n              <label key={day} className=\"day-checkbox\">\r\n                <input \r\n                  type=\"checkbox\" \r\n                  checked={formData.days_of_week.includes(day)} \r\n                  onChange={() => handleDaysOfWeekChange(day)} \r\n                />\r\n                {day === 'monday' ? 'Пн' : \r\n                 day === 'tuesday' ? 'Вт' : \r\n                 day === 'wednesday' ? 'Ср' : \r\n                 day === 'thursday' ? 'Чт' : \r\n                 day === 'friday' ? 'Пт' : \r\n                 day === 'saturday' ? 'Сб' : 'Нд'}\r\n              </label>\r\n            ))}\r\n          </div>\r\n          <small>Оставете всички празни, за да важи всеки ден</small>\r\n        </div>\r\n        \r\n        <div className=\"form-row\">\r\n          <div className=\"form-group\">\r\n            <label>Начален час</label>\r\n            <input \r\n              type=\"time\" \r\n              name=\"start_time\" \r\n              value={formData.start_time} \r\n              onChange={handleInputChange} \r\n            />\r\n          </div>\r\n          \r\n          <div className=\"form-group\">\r\n            <label>Краен час</label>\r\n            <input \r\n              type=\"time\" \r\n              name=\"end_time\" \r\n              value={formData.end_time} \r\n              onChange={handleInputChange} \r\n            />\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"form-row\">\r\n          <div className=\"form-group\">\r\n            <label>Минимална поръчка (лв.)</label>\r\n            <input \r\n              type=\"number\" \r\n              name=\"min_order\" \r\n              value={formData.min_order} \r\n              onChange={handleInputChange} \r\n              min=\"0\"\r\n              step=\"0.01\"\r\n              placeholder=\"Оставете празно, ако няма\"\r\n            />\r\n          </div>\r\n          \r\n          <div className=\"form-group\">\r\n            <label>Максимален брой използвания</label>\r\n            <input \r\n              type=\"number\" \r\n              name=\"max_uses\" \r\n              value={formData.max_uses} \r\n              onChange={handleInputChange} \r\n              min=\"1\"\r\n              placeholder=\"Оставете празно, ако няма лимит\"\r\n            />\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"form-group\">\r\n          <label>URL на изображение</label>\r\n          <input \r\n            type=\"url\" \r\n            name=\"image_url\" \r\n            value={formData.image_url} \r\n            onChange={handleInputChange} \r\n            placeholder=\"http://example.com/image.jpg\"\r\n          />\r\n        </div>\r\n        \r\n        <div className=\"form-group\">\r\n          <label>За какво се отнася</label>\r\n          <select \r\n            name=\"applies_to\" \r\n            value={formData.applies_to} \r\n            onChange={handleInputChange} \r\n            required\r\n          >\r\n            <option value=\"all\">Всички продукти</option>\r\n            <option value=\"category\">Конкретна категория</option>\r\n            <option value=\"item\">Конкретен продукт</option>\r\n          </select>\r\n        </div>\r\n        \r\n        {formData.applies_to === 'category' && (\r\n          <div className=\"form-group\">\r\n            <label>Изберете категория</label>\r\n            <select \r\n              name=\"applies_to_id\" \r\n              value={formData.applies_to_id} \r\n              onChange={handleInputChange} \r\n              required\r\n            >\r\n              <option value=\"\">Изберете категория</option>\r\n              {menuCategories.map(category => (\r\n                <option key={category.id} value={category.id}>\r\n                  {category.name}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n        )}\r\n        \r\n        {formData.applies_to === 'item' && (\r\n          <div className=\"form-group\">\r\n            <label>Изберете продукт</label>\r\n            <select \r\n              name=\"applies_to_id\" \r\n              value={formData.applies_to_id} \r\n              onChange={handleInputChange} \r\n              required\r\n            >\r\n              <option value=\"\">Изберете продукт</option>\r\n              {menuItems.map(item => (\r\n                <option key={item.id} value={item.id}>\r\n                  {item.name} ({item.menu_categories?.name || 'Без категория'}) - {item.price?.toFixed(2)} лв.\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n        )}\r\n        \r\n        <div className=\"form-group checkbox-group\">\r\n          <label>\r\n            <input \r\n              type=\"checkbox\" \r\n              name=\"active\" \r\n              checked={formData.active} \r\n              onChange={handleInputChange} \r\n            />\r\n            Активно\r\n          </label>\r\n        </div>\r\n        \r\n        <div className=\"form-buttons\">\r\n          <button \r\n            type=\"button\" \r\n            className=\"admin-cancel-btn\" \r\n            onClick={onCancel}\r\n            disabled={loading}\r\n          >\r\n            Отказ\r\n          </button>\r\n          <button \r\n            type=\"submit\" \r\n            className=\"admin-submit-btn\"\r\n            disabled={loading}\r\n          >\r\n            {loading ? 'Запазване...' : (offer ? 'Запази промените' : 'Добави специално предложение')}\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AddEditSpecialOffer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}