{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import{createClient}from'@supabase/supabase-js';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const supabaseUrl='https://lnquyopfvuikhjbjsiqk.supabase.co';const supabaseKey='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxucXV5b3BmdnVpa2hqYmpzaXFrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDU0ODA5MDEsImV4cCI6MjA2MTA1NjkwMX0.GmZ-5FzZkJyMorLGggF_Jegx2Atn0wRiNKCx4esecJw';const supabase=createClient(supabaseUrl,supabaseKey);function RestaurantSpecialOffers(){const{id}=useParams();const navigate=useNavigate();const[restaurant,setRestaurant]=useState(null);const[specialOffers,setSpecialOffers]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{async function fetchRestaurantAndOffers(){try{setLoading(true);// Зареждане на ресторант\nconst{data:restaurantData,error:restaurantError}=await supabase.from('restaurants').select('*').eq('id',id).single();if(restaurantError)throw restaurantError;setRestaurant(restaurantData);// Получаване на днешната дата\nconst today=new Date().toISOString().split('T')[0];// Добавяме логове за отстраняване на грешки\nconsole.log('Изпълняваме заявка за активни предложения');console.log('restaurant_id:',id);console.log('today:',today);// Зареждане на активни специални предложения\nconst{data:offersData,error:offersError}=await supabase.from('special_offers').select('*').eq('restaurant_id',id).eq('active',true).lte('start_date',today).or(`end_date.gt.${today},end_date.is.null`);console.log('Резултати от заявката:',offersData);console.log('Грешка при заявката:',offersError);if(offersError)throw offersError;setSpecialOffers(offersData||[]);// Логове преди и след филтриране\nconsole.log('Предложения преди филтриране:',offersData);const validOffers=(offersData||[]).filter(isValidToday);console.log('Предложения след филтриране:',validOffers);}catch(error){console.error('Грешка при зареждане на специални предложения:',error);setError(error.message);}finally{setLoading(false);}}fetchRestaurantAndOffers();},[id]);const goBack=()=>{navigate(`/restaurant/${id}`);};const formatDate=dateStr=>{if(!dateStr)return'Няма крайна дата';const[year,month,day]=dateStr.split('-');return`${day}.${month}.${year}`;};// Опростена версия на функцията isValidToday\nconst isValidToday=offer=>{console.log('Проверка на предложение:',offer);const today=new Date().toISOString().split('T')[0];// Опростена проверка - само активност и дати\nreturn offer.active&&(!offer.start_date||offer.start_date<=today)&&(!offer.end_date||offer.end_date>=today);};const getDiscountText=offer=>{if(offer.discount_type==='percentage'){return`${offer.discount_value}% отстъпка`;}else if(offer.discount_type==='fixed'){return`${offer.discount_value.toFixed(2)} лв. отстъпка`;}else if(offer.discount_type==='free_item'){return'Безплатен продукт';}return'';};if(loading){return/*#__PURE__*/_jsx(\"div\",{style:{padding:'20px',textAlign:'center'},children:\"\\u0417\\u0430\\u0440\\u0435\\u0436\\u0434\\u0430\\u043D\\u0435 \\u043D\\u0430 \\u0441\\u043F\\u0435\\u0446\\u0438\\u0430\\u043B\\u043D\\u0438 \\u043F\\u0440\\u0435\\u0434\\u043B\\u043E\\u0436\\u0435\\u043D\\u0438\\u044F...\"});}if(error){return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px',textAlign:'center',color:'red'},children:[\"\\u0413\\u0440\\u0435\\u0448\\u043A\\u0430: \",error]});}if(!restaurant){return/*#__PURE__*/_jsx(\"div\",{style:{padding:'20px',textAlign:'center',color:'red'},children:\"\\u0420\\u0435\\u0441\\u0442\\u043E\\u0440\\u0430\\u043D\\u0442\\u044A\\u0442 \\u043D\\u0435 \\u0431\\u0435\\u0448\\u0435 \\u043D\\u0430\\u043C\\u0435\\u0440\\u0435\\u043D\"});}// Филтриране за валидни за днес предложения\nconst validOffers=specialOffers.filter(isValidToday);return/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'1200px',margin:'0 auto',padding:'20px',color:'#e0e0e0'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:goBack,style:{marginBottom:'20px',padding:'8px 16px',background:'#333',border:'none',color:'white',borderRadius:'4px',cursor:'pointer'},children:\"\\u2190 \\u041D\\u0430\\u0437\\u0430\\u0434 \\u043A\\u044A\\u043C \\u0440\\u0435\\u0441\\u0442\\u043E\\u0440\\u0430\\u043D\\u0442\\u0430\"}),/*#__PURE__*/_jsxs(\"h1\",{style:{marginBottom:'30px'},children:[restaurant.name,\" - \\u0421\\u043F\\u0435\\u0446\\u0438\\u0430\\u043B\\u043D\\u0438 \\u043F\\u0440\\u0435\\u0434\\u043B\\u043E\\u0436\\u0435\\u043D\\u0438\\u044F\"]}),validOffers.length===0?/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',padding:'30px',background:'#252525',borderRadius:'8px'},children:/*#__PURE__*/_jsx(\"p\",{children:\"\\u041D\\u044F\\u043C\\u0430 \\u0430\\u043A\\u0442\\u0438\\u0432\\u043D\\u0438 \\u0441\\u043F\\u0435\\u0446\\u0438\\u0430\\u043B\\u043D\\u0438 \\u043F\\u0440\\u0435\\u0434\\u043B\\u043E\\u0436\\u0435\\u043D\\u0438\\u044F \\u0437\\u0430 \\u0442\\u043E\\u0437\\u0438 \\u0440\\u0435\\u0441\\u0442\\u043E\\u0440\\u0430\\u043D\\u0442.\"})}):/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fill, minmax(300px, 1fr))',gap:'30px'},children:validOffers.map(offer=>/*#__PURE__*/_jsxs(\"div\",{style:{background:'#252525',borderRadius:'10px',overflow:'hidden'},children:[/*#__PURE__*/_jsx(\"div\",{style:{background:'#e74c3c',padding:'15px',position:'relative'},children:/*#__PURE__*/_jsx(\"h2\",{style:{margin:'0',color:'white'},children:offer.title})}),console.log('URL на изображението:',offer.image_url),offer.image_url&&offer.image_url.trim()!==''&&/*#__PURE__*/_jsx(\"div\",{style:{height:'200px',overflow:'hidden'},children:/*#__PURE__*/_jsx(\"img\",{src:offer.image_url,alt:offer.title,style:{width:'100%',height:'100%',objectFit:'cover',display:'block'// Добавяме display: block\n},onError:e=>{console.error('Грешка при зареждане на изображение:',e);e.target.style.display='none';// Скриваме изображението при грешка\n}})}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'24px',fontWeight:'bold',marginBottom:'15px',color:'#e74c3c'},children:getDiscountText(offer)}),offer.description&&/*#__PURE__*/_jsx(\"p\",{style:{marginBottom:'15px'},children:offer.description}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'20px',padding:'10px',background:'rgba(255, 255, 255, 0.05)',borderRadius:'5px'},children:[/*#__PURE__*/_jsxs(\"p\",{style:{margin:'0',fontSize:'14px'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0412\\u0430\\u043B\\u0438\\u0434\\u043D\\u043E \\u0434\\u043E:\"}),\" \",formatDate(offer.end_date)]}),offer.min_order>0&&/*#__PURE__*/_jsxs(\"p\",{style:{margin:'5px 0 0 0',fontSize:'14px'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u041C\\u0438\\u043D\\u0438\\u043C\\u0430\\u043B\\u043D\\u0430 \\u043F\\u043E\\u0440\\u044A\\u0447\\u043A\\u0430:\"}),\" \",offer.min_order.toFixed(2),\" \\u043B\\u0432.\"]}),offer.days_of_week&&offer.days_of_week.length>0&&/*#__PURE__*/_jsxs(\"p\",{style:{margin:'5px 0 0 0',fontSize:'14px'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0414\\u043D\\u0438:\"}),\" \",offer.days_of_week.map(day=>{const days={'monday':'Понеделник','tuesday':'Вторник','wednesday':'Сряда','thursday':'Четвъртък','friday':'Петък','saturday':'Събота','sunday':'Неделя'};return days[day];}).join(', ')]}),(offer.start_time||offer.end_time)&&/*#__PURE__*/_jsxs(\"p\",{style:{margin:'5px 0 0 0',fontSize:'14px'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0427\\u0430\\u0441\\u043E\\u0432\\u0435:\"}),\" \",offer.start_time||'00:00',\" - \",offer.end_time||'23:59']})]})]})]},offer.id))})]});}export default RestaurantSpecialOffers;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","createClient","jsx","_jsx","jsxs","_jsxs","supabaseUrl","supabaseKey","supabase","RestaurantSpecialOffers","id","navigate","restaurant","setRestaurant","specialOffers","setSpecialOffers","loading","setLoading","error","setError","fetchRestaurantAndOffers","data","restaurantData","restaurantError","from","select","eq","single","today","Date","toISOString","split","console","log","offersData","offersError","lte","or","validOffers","filter","isValidToday","message","goBack","formatDate","dateStr","year","month","day","offer","active","start_date","end_date","getDiscountText","discount_type","discount_value","toFixed","style","padding","textAlign","children","color","maxWidth","margin","onClick","marginBottom","background","border","borderRadius","cursor","name","length","display","gridTemplateColumns","gap","map","overflow","position","title","image_url","trim","height","src","alt","width","objectFit","onError","e","target","fontSize","fontWeight","description","marginTop","min_order","days_of_week","days","join","start_time","end_time"],"sources":["D:/Belezza/restaurant-chain-app/src/pages/RestaurantSpecialOffers.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { createClient } from '@supabase/supabase-js';\r\n\r\nconst supabaseUrl = 'https://lnquyopfvuikhjbjsiqk.supabase.co';\r\nconst supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxucXV5b3BmdnVpa2hqYmpzaXFrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDU0ODA5MDEsImV4cCI6MjA2MTA1NjkwMX0.GmZ-5FzZkJyMorLGggF_Jegx2Atn0wRiNKCx4esecJw';\r\nconst supabase = createClient(supabaseUrl, supabaseKey);\r\n\r\nfunction RestaurantSpecialOffers() {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const [restaurant, setRestaurant] = useState(null);\r\n  const [specialOffers, setSpecialOffers] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    async function fetchRestaurantAndOffers() {\r\n      try {\r\n        setLoading(true);\r\n        \r\n        // Зареждане на ресторант\r\n        const { data: restaurantData, error: restaurantError } = await supabase\r\n          .from('restaurants')\r\n          .select('*')\r\n          .eq('id', id)\r\n          .single();\r\n        \r\n        if (restaurantError) throw restaurantError;\r\n        setRestaurant(restaurantData);\r\n        \r\n        // Получаване на днешната дата\r\n        const today = new Date().toISOString().split('T')[0];\r\n        \r\n        // Добавяме логове за отстраняване на грешки\r\n        console.log('Изпълняваме заявка за активни предложения');\r\n        console.log('restaurant_id:', id);\r\n        console.log('today:', today);\r\n        \r\n        // Зареждане на активни специални предложения\r\n        const { data: offersData, error: offersError } = await supabase\r\n          .from('special_offers')\r\n          .select('*')\r\n          .eq('restaurant_id', id)\r\n          .eq('active', true)\r\n          .lte('start_date', today)\r\n          .or(`end_date.gt.${today},end_date.is.null`);\r\n        \r\n        console.log('Резултати от заявката:', offersData);\r\n        console.log('Грешка при заявката:', offersError);\r\n        \r\n        if (offersError) throw offersError;\r\n        setSpecialOffers(offersData || []);\r\n        \r\n        // Логове преди и след филтриране\r\n        console.log('Предложения преди филтриране:', offersData);\r\n        const validOffers = (offersData || []).filter(isValidToday);\r\n        console.log('Предложения след филтриране:', validOffers);\r\n        \r\n      } catch (error) {\r\n        console.error('Грешка при зареждане на специални предложения:', error);\r\n        setError(error.message);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n    \r\n    fetchRestaurantAndOffers();\r\n  }, [id]);\r\n\r\n  const goBack = () => {\r\n    navigate(`/restaurant/${id}`);\r\n  };\r\n\r\n  const formatDate = (dateStr) => {\r\n    if (!dateStr) return 'Няма крайна дата';\r\n    const [year, month, day] = dateStr.split('-');\r\n    return `${day}.${month}.${year}`;\r\n  };\r\n\r\n  // Опростена версия на функцията isValidToday\r\n  const isValidToday = (offer) => {\r\n    console.log('Проверка на предложение:', offer);\r\n    const today = new Date().toISOString().split('T')[0];\r\n    \r\n    // Опростена проверка - само активност и дати\r\n    return offer.active && \r\n           (!offer.start_date || offer.start_date <= today) && \r\n           (!offer.end_date || offer.end_date >= today);\r\n  };\r\n\r\n  const getDiscountText = (offer) => {\r\n    if (offer.discount_type === 'percentage') {\r\n      return `${offer.discount_value}% отстъпка`;\r\n    } else if (offer.discount_type === 'fixed') {\r\n      return `${offer.discount_value.toFixed(2)} лв. отстъпка`;\r\n    } else if (offer.discount_type === 'free_item') {\r\n      return 'Безплатен продукт';\r\n    }\r\n    return '';\r\n  };\r\n\r\n  if (loading) {\r\n    return <div style={{padding: '20px', textAlign: 'center'}}>Зареждане на специални предложения...</div>;\r\n  }\r\n\r\n  if (error) {\r\n    return <div style={{padding: '20px', textAlign: 'center', color: 'red'}}>Грешка: {error}</div>;\r\n  }\r\n\r\n  if (!restaurant) {\r\n    return <div style={{padding: '20px', textAlign: 'center', color: 'red'}}>Ресторантът не беше намерен</div>;\r\n  }\r\n\r\n  // Филтриране за валидни за днес предложения\r\n  const validOffers = specialOffers.filter(isValidToday);\r\n\r\n  return (\r\n    <div style={{maxWidth: '1200px', margin: '0 auto', padding: '20px', color: '#e0e0e0'}}>\r\n      <button \r\n        onClick={goBack} \r\n        style={{marginBottom: '20px', padding: '8px 16px', background: '#333', border: 'none', color: 'white', borderRadius: '4px', cursor: 'pointer'}}\r\n      >\r\n        &larr; Назад към ресторанта\r\n      </button>\r\n      \r\n      <h1 style={{marginBottom: '30px'}}>{restaurant.name} - Специални предложения</h1>\r\n      \r\n      {validOffers.length === 0 ? (\r\n        <div style={{textAlign: 'center', padding: '30px', background: '#252525', borderRadius: '8px'}}>\r\n          <p>Няма активни специални предложения за този ресторант.</p>\r\n        </div>\r\n      ) : (\r\n        <div style={{\r\n          display: 'grid',\r\n          gridTemplateColumns: 'repeat(auto-fill, minmax(300px, 1fr))',\r\n          gap: '30px'\r\n        }}>\r\n          {validOffers.map(offer => (\r\n            <div key={offer.id} style={{\r\n              background: '#252525',\r\n              borderRadius: '10px',\r\n              overflow: 'hidden'\r\n            }}>\r\n              {/* Заглавие и икона */}\r\n              <div style={{\r\n                background: '#e74c3c',\r\n                padding: '15px',\r\n                position: 'relative'\r\n              }}>\r\n                <h2 style={{margin: '0', color: 'white'}}>{offer.title}</h2>\r\n              </div>\r\n              \r\n              {/* Добавяме лог за URL на изображението */}\r\n              {console.log('URL на изображението:', offer.image_url)}\r\n              \r\n              {/* Показваме изображение само ако е налично */}\r\n              {offer.image_url && offer.image_url.trim() !== '' && (\r\n                <div style={{\r\n                  height: '200px',\r\n                  overflow: 'hidden'\r\n                }}>\r\n                  <img \r\n                    src={offer.image_url} \r\n                    alt={offer.title} \r\n                    style={{\r\n                      width: '100%', \r\n                      height: '100%', \r\n                      objectFit: 'cover',\r\n                      display: 'block'  // Добавяме display: block\r\n                    }}\r\n                    onError={(e) => {\r\n                      console.error('Грешка при зареждане на изображение:', e);\r\n                      e.target.style.display = 'none';  // Скриваме изображението при грешка\r\n                    }}\r\n                  />\r\n                </div>\r\n              )}\r\n              \r\n              <div style={{padding: '20px'}}>\r\n                {/* Отстъпка */}\r\n                <div style={{\r\n                  fontSize: '24px',\r\n                  fontWeight: 'bold',\r\n                  marginBottom: '15px',\r\n                  color: '#e74c3c'\r\n                }}>\r\n                  {getDiscountText(offer)}\r\n                </div>\r\n                \r\n                {/* Описание */}\r\n                {offer.description && (\r\n                  <p style={{marginBottom: '15px'}}>{offer.description}</p>\r\n                )}\r\n                \r\n                {/* Валидност */}\r\n                <div style={{\r\n                  marginTop: '20px',\r\n                  padding: '10px',\r\n                  background: 'rgba(255, 255, 255, 0.05)',\r\n                  borderRadius: '5px'\r\n                }}>\r\n                  <p style={{margin: '0', fontSize: '14px'}}>\r\n                    <strong>Валидно до:</strong> {formatDate(offer.end_date)}\r\n                  </p>\r\n                  \r\n                  {offer.min_order > 0 && (\r\n                    <p style={{margin: '5px 0 0 0', fontSize: '14px'}}>\r\n                      <strong>Минимална поръчка:</strong> {offer.min_order.toFixed(2)} лв.\r\n                    </p>\r\n                  )}\r\n                  \r\n                  {offer.days_of_week && offer.days_of_week.length > 0 && (\r\n                    <p style={{margin: '5px 0 0 0', fontSize: '14px'}}>\r\n                      <strong>Дни:</strong> {offer.days_of_week.map(day => {\r\n                        const days = {\r\n                          'monday': 'Понеделник',\r\n                          'tuesday': 'Вторник',\r\n                          'wednesday': 'Сряда',\r\n                          'thursday': 'Четвъртък',\r\n                          'friday': 'Петък',\r\n                          'saturday': 'Събота',\r\n                          'sunday': 'Неделя'\r\n                        };\r\n                        return days[day];\r\n                      }).join(', ')}\r\n                    </p>\r\n                  )}\r\n                  \r\n                  {(offer.start_time || offer.end_time) && (\r\n                    <p style={{margin: '5px 0 0 0', fontSize: '14px'}}>\r\n                      <strong>Часове:</strong> {offer.start_time || '00:00'} - {offer.end_time || '23:59'}\r\n                    </p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RestaurantSpecialOffers;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}