{"ast":null,"code":"var _jsxFileName = \"D:\\\\Belezza\\\\restaurant-chain-app\\\\src\\\\pages\\\\AdminDashboard.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$(),\n  _s6 = $RefreshSig$(),\n  _s7 = $RefreshSig$(),\n  _s8 = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\nimport '../styles/Admin.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction AdminDashboard() {\n  _s();\n  const {\n    user,\n    userRole,\n    isSuperAdmin,\n    isRestaurantAdmin,\n    supabase,\n    signOut\n  } = useAuth();\n  const [section, setSection] = useState('dashboard');\n  const [restaurants, setRestaurants] = useState([]);\n  const [selectedRestaurant, setSelectedRestaurant] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const navigate = useNavigate();\n  const {\n    section: urlSection,\n    restaurantId\n  } = useParams();\n\n  // Установяваме секцията от URL параметъра, ако е наличен\n  useEffect(() => {\n    if (urlSection) {\n      setSection(urlSection);\n    }\n  }, [urlSection]);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        if (!user) {\n          navigate('/login');\n          return;\n        }\n\n        // Проверка дали потребителят има админ права\n        if (!isSuperAdmin() && !isRestaurantAdmin()) {\n          navigate('/');\n          return;\n        }\n\n        // Зареждане на ресторантите\n        let restaurantsQuery = supabase.from('restaurants').select('*');\n\n        // Ако е ресторантски админ, филтрираме само за неговия ресторант\n        if (isRestaurantAdmin()) {\n          restaurantsQuery = restaurantsQuery.eq('id', userRole.restaurant_id);\n        }\n        const {\n          data: restaurantsData,\n          error: restaurantsError\n        } = await restaurantsQuery;\n        if (restaurantsError) throw restaurantsError;\n        setRestaurants(restaurantsData);\n\n        // Избиране на ресторант от URL параметъра или по подразбиране\n        if (restaurantId) {\n          const restaurant = restaurantsData.find(r => r.id === restaurantId);\n          if (restaurant) {\n            setSelectedRestaurant(restaurant);\n          } else if (restaurantsData.length > 0) {\n            // Ако не намерим ресторанта от URL, избираме първия наличен\n            setSelectedRestaurant(restaurantsData[0]);\n          }\n        } else if (restaurantsData.length > 0) {\n          if (isRestaurantAdmin()) {\n            setSelectedRestaurant(restaurantsData[0]);\n          } else if (isSuperAdmin()) {\n            setSelectedRestaurant(restaurantsData[0]);\n          }\n        }\n      } catch (error) {\n        console.error('Error loading admin data:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, [user, userRole, isSuperAdmin, isRestaurantAdmin, navigate, restaurantId, supabase]);\n  const handleSignOut = async () => {\n    await signOut();\n    navigate('/login');\n  };\n\n  // Функция за смяна на секцията и обновяване на URL\n  const changeSection = newSection => {\n    setSection(newSection);\n    if (selectedRestaurant) {\n      navigate(`/admin/restaurant/${selectedRestaurant.id}/${newSection}`);\n    } else {\n      navigate(`/admin/${newSection}`);\n    }\n  };\n\n  // Функция за смяна на избрания ресторант и обновяване на URL\n  const changeRestaurant = restaurantId => {\n    const selected = restaurants.find(r => r.id === restaurantId);\n    setSelectedRestaurant(selected);\n    navigate(`/admin/restaurant/${restaurantId}/${section}`);\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-loading\",\n      children: \"\\u0417\\u0430\\u0440\\u0435\\u0436\\u0434\\u0430\\u043D\\u0435 \\u043D\\u0430 \\u0430\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u043E\\u0440\\u0441\\u043A\\u0438 \\u043F\\u0430\\u043D\\u0435\\u043B...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-sidebar\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-sidebar-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u0410\\u0434\\u043C\\u0438\\u043D \\u043F\\u0430\\u043D\\u0435\\u043B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: isSuperAdmin() ? 'Главен администратор' : 'Ресторантски администратор'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this), isSuperAdmin() && restaurants.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"restaurant-selector\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u0418\\u0437\\u0431\\u0440\\u0430\\u043D \\u0440\\u0435\\u0441\\u0442\\u043E\\u0440\\u0430\\u043D\\u0442:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: (selectedRestaurant === null || selectedRestaurant === void 0 ? void 0 : selectedRestaurant.id) || '',\n            onChange: e => changeRestaurant(e.target.value),\n            children: restaurants.map(restaurant => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: restaurant.id,\n              children: restaurant.name\n            }, restaurant.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"admin-menu\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          className: section === 'dashboard' ? 'active' : '',\n          onClick: () => changeSection('dashboard'),\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-tachometer-alt\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this), \" \\u0422\\u0430\\u0431\\u043B\\u043E\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: section === 'reservations' ? 'active' : '',\n          onClick: () => changeSection('reservations'),\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-calendar-check\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 13\n          }, this), \" \\u0420\\u0435\\u0437\\u0435\\u0440\\u0432\\u0430\\u0446\\u0438\\u0438\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: section === 'menu' ? 'active' : '',\n          onClick: () => changeSection('menu'),\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-utensils\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this), \" \\u041C\\u0435\\u043D\\u044E\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: section === 'events' ? 'active' : '',\n          onClick: () => changeSection('events'),\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-calendar-alt\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 13\n          }, this), \" \\u0421\\u044A\\u0431\\u0438\\u0442\\u0438\\u044F\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: section === 'special_offers' ? 'active' : '',\n          onClick: () => changeSection('special_offers'),\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-percentage\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 13\n          }, this), \" \\u0421\\u043F\\u0435\\u0446\\u0438\\u0430\\u043B\\u043D\\u0438 \\u043F\\u0440\\u0435\\u0434\\u043B\\u043E\\u0436\\u0435\\u043D\\u0438\\u044F\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: section === 'tables' ? 'active' : '',\n          onClick: () => changeSection('tables'),\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-chair\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 13\n          }, this), \" \\u0423\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u043D\\u0430 \\u043C\\u0430\\u0441\\u0438\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: section === 'gallery' ? 'active' : '',\n          onClick: () => changeSection('gallery'),\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-images\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this), \" \\u0413\\u0430\\u043B\\u0435\\u0440\\u0438\\u044F \\u0438 \\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u044F\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 11\n        }, this), isSuperAdmin() && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            className: section === 'restaurants' ? 'active' : '',\n            onClick: () => changeSection('restaurants'),\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-store\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 17\n            }, this), \" \\u0423\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u043D\\u0430 \\u0440\\u0435\\u0441\\u0442\\u043E\\u0440\\u0430\\u043D\\u0442\\u0438\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: section === 'admins' ? 'active' : '',\n            onClick: () => changeSection('admins'),\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-users-cog\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 17\n            }, this), \" \\u0410\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u043E\\u0440\\u0438\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: section === 'reports' ? 'active' : '',\n            onClick: () => changeSection('reports'),\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-chart-bar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 17\n            }, this), \" \\u041E\\u0442\\u0447\\u0435\\u0442\\u0438 \\u0438 \\u0441\\u0442\\u0430\\u0442\\u0438\\u0441\\u0442\\u0438\\u043A\\u0430\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true), /*#__PURE__*/_jsxDEV(\"li\", {\n          onClick: handleSignOut,\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-sign-out-alt\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 13\n          }, this), \" \\u0418\\u0437\\u0445\\u043E\\u0434\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-content\",\n      children: [section === 'dashboard' && /*#__PURE__*/_jsxDEV(AdminDashboardSection, {\n        restaurant: selectedRestaurant,\n        supabase: supabase\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 11\n      }, this), section === 'reservations' && /*#__PURE__*/_jsxDEV(AdminReservationsSection, {\n        restaurant: selectedRestaurant,\n        supabase: supabase\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 11\n      }, this), section === 'menu' && /*#__PURE__*/_jsxDEV(AdminMenuSection, {\n        restaurant: selectedRestaurant,\n        supabase: supabase\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 11\n      }, this), section === 'events' && /*#__PURE__*/_jsxDEV(AdminEventsSection, {\n        restaurant: selectedRestaurant,\n        supabase: supabase\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 11\n      }, this), section === 'special_offers' && /*#__PURE__*/_jsxDEV(AdminSpecialOffersSection, {\n        restaurant: selectedRestaurant,\n        supabase: supabase\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 11\n      }, this), section === 'tables' && /*#__PURE__*/_jsxDEV(AdminTablesSection, {\n        restaurant: selectedRestaurant,\n        supabase: supabase\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 11\n      }, this), section === 'gallery' && /*#__PURE__*/_jsxDEV(AdminGallerySection, {\n        restaurant: selectedRestaurant,\n        supabase: supabase\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 11\n      }, this), section === 'restaurants' && isSuperAdmin() && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"\\u0423\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u043D\\u0430 \\u0440\\u0435\\u0441\\u0442\\u043E\\u0440\\u0430\\u043D\\u0442\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u0422\\u0443\\u043A \\u0449\\u0435 \\u0431\\u044A\\u0434\\u0435 \\u0441\\u0435\\u043A\\u0446\\u0438\\u044F\\u0442\\u0430 \\u0437\\u0430 \\u0443\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u043D\\u0430 \\u0440\\u0435\\u0441\\u0442\\u043E\\u0440\\u0430\\u043D\\u0442\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 11\n      }, this), section === 'admins' && isSuperAdmin() && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"\\u0423\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u043D\\u0430 \\u0430\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u043E\\u0440\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u0422\\u0443\\u043A \\u0449\\u0435 \\u0431\\u044A\\u0434\\u0435 \\u0441\\u0435\\u043A\\u0446\\u0438\\u044F\\u0442\\u0430 \\u0437\\u0430 \\u0443\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u043D\\u0430 \\u0430\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u043E\\u0440\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 11\n      }, this), section === 'reports' && isSuperAdmin() && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"\\u041E\\u0442\\u0447\\u0435\\u0442\\u0438 \\u0438 \\u0441\\u0442\\u0430\\u0442\\u0438\\u0441\\u0442\\u0438\\u043A\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u0422\\u0443\\u043A \\u0449\\u0435 \\u0431\\u044A\\u0434\\u0435 \\u0441\\u0435\\u043A\\u0446\\u0438\\u044F\\u0442\\u0430 \\u0437\\u0430 \\u043E\\u0442\\u0447\\u0435\\u0442\\u0438 \\u0438 \\u0441\\u0442\\u0430\\u0442\\u0438\\u0441\\u0442\\u0438\\u043A\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 5\n  }, this);\n}\n\n// Подсекция Табло\n_s(AdminDashboard, \"AY3gp1YQGE488XDH7JbLVmaIUUc=\", false, function () {\n  return [useAuth, useNavigate, useParams];\n});\n_c = AdminDashboard;\nfunction AdminDashboardSection({\n  restaurant,\n  supabase\n}) {\n  _s2();\n  const [stats, setStats] = useState({\n    reservationsToday: 0,\n    activeTables: 0,\n    totalTables: 0,\n    upcomingEvents: 0\n  });\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    if (!restaurant) return;\n    const fetchStats = async () => {\n      try {\n        setLoading(true);\n\n        // Получаване на днешната дата във формат YYYY-MM-DD\n        const today = new Date().toISOString().split('T')[0];\n\n        // Заявка за резервации днес\n        const {\n          data: reservations,\n          error: reservationsError\n        } = await supabase.from('reservations').select('*').eq('restaurant_id', restaurant.id).eq('date', today).in('status', ['confirmed', 'pending']);\n        if (reservationsError) throw reservationsError;\n\n        // Заявка за всички маси в ресторанта\n        const {\n          data: tables,\n          error: tablesError\n        } = await supabase.from('tables').select('*').eq('restaurant_id', restaurant.id);\n        if (tablesError) throw tablesError;\n\n        // Заявка за предстоящи събития\n        const {\n          data: events,\n          error: eventsError\n        } = await supabase.from('events').select('*').eq('restaurant_id', restaurant.id).gte('date', today);\n        if (eventsError) throw eventsError;\n\n        // Изчисляване на заетите маси\n        const reservedTableIds = reservations.map(r => r.table_id);\n        const activeTables = new Set(reservedTableIds).size;\n        setStats({\n          reservationsToday: reservations.length,\n          activeTables,\n          totalTables: tables.length,\n          upcomingEvents: events ? events.length : 0\n        });\n      } catch (error) {\n        console.error('Error fetching dashboard stats:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchStats();\n  }, [restaurant, supabase]);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"\\u0417\\u0430\\u0440\\u0435\\u0436\\u0434\\u0430\\u043D\\u0435 \\u043D\\u0430 \\u0441\\u0442\\u0430\\u0442\\u0438\\u0441\\u0442\\u0438\\u043A\\u0430...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"\\u0422\\u0430\\u0431\\u043B\\u043E: \", restaurant === null || restaurant === void 0 ? void 0 : restaurant.name]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-stats-grid\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-stat-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u0420\\u0435\\u0437\\u0435\\u0440\\u0432\\u0430\\u0446\\u0438\\u0438 \\u0434\\u043D\\u0435\\u0441\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"stat\",\n          children: stats.reservationsToday\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-stat-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u0410\\u043A\\u0442\\u0438\\u0432\\u043D\\u0438 \\u043C\\u0430\\u0441\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"stat\",\n          children: [stats.activeTables, \"/\", stats.totalTables]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-stat-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u041F\\u0440\\u0435\\u0434\\u0441\\u0442\\u043E\\u044F\\u0449\\u0438 \\u0441\\u044A\\u0431\\u0438\\u0442\\u0438\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"stat\",\n          children: stats.upcomingEvents\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"quick-actions\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\u0411\\u044A\\u0440\\u0437\\u0438 \\u0434\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-buttons-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"admin-action-btn\",\n          onClick: () => window.location.href = `/admin/restaurant/${restaurant === null || restaurant === void 0 ? void 0 : restaurant.id}/reservations`,\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-plus\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 13\n          }, this), \" \\u041D\\u043E\\u0432\\u0430 \\u0440\\u0435\\u0437\\u0435\\u0440\\u0432\\u0430\\u0446\\u0438\\u044F\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"admin-action-btn\",\n          onClick: () => window.location.href = `/admin/restaurant/${restaurant === null || restaurant === void 0 ? void 0 : restaurant.id}/events`,\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-calendar-plus\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 13\n          }, this), \" \\u0414\\u043E\\u0431\\u0430\\u0432\\u0438 \\u0441\\u044A\\u0431\\u0438\\u0442\\u0438\\u0435\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"admin-action-btn\",\n          onClick: () => window.location.href = `/admin/restaurant/${restaurant === null || restaurant === void 0 ? void 0 : restaurant.id}/menu`,\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-utensils\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 13\n          }, this), \" \\u0423\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u043D\\u0430 \\u043C\\u0435\\u043D\\u044E\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-info-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\u0418\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044F \\u0437\\u0430 \\u0440\\u0435\\u0441\\u0442\\u043E\\u0440\\u0430\\u043D\\u0442\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 9\n      }, this), restaurant ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"restaurant-details\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\u0418\\u043C\\u0435:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 16\n          }, this), \" \", restaurant.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\u0410\\u0434\\u0440\\u0435\\u0441:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 16\n          }, this), \" \", restaurant.address || 'Не е зададен']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 16\n          }, this), \" \", restaurant.phone || 'Не е зададен']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\u0420\\u0430\\u0431\\u043E\\u0442\\u043D\\u043E \\u0432\\u0440\\u0435\\u043C\\u0435:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 16\n          }, this), \" \", restaurant.hours || 'Не е зададено']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 13\n        }, this), restaurant.description && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 18\n          }, this), \" \", restaurant.description]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u041D\\u044F\\u043C\\u0430 \\u0438\\u0437\\u0431\\u0440\\u0430\\u043D \\u0440\\u0435\\u0441\\u0442\\u043E\\u0440\\u0430\\u043D\\u0442\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 333,\n    columnNumber: 5\n  }, this);\n}\n// Подсекция Резервации\n_s2(AdminDashboardSection, \"oy+FYYMmf0UR568QjRGG7rVpfr4=\");\n_c2 = AdminDashboardSection;\nfunction AdminReservationsSection({\n  restaurant,\n  supabase\n}) {\n  _s3();\n  const [reservations, setReservations] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [filter, setFilter] = useState('upcoming');\n  const [showForm, setShowForm] = useState(false);\n  const [formData, setFormData] = useState({\n    date: '',\n    time: '',\n    table_id: '',\n    name: '',\n    phone: '',\n    email: '',\n    guests_count: 2,\n    status: 'confirmed'\n  });\n  const [tables, setTables] = useState([]);\n  const [editingId, setEditingId] = useState(null);\n  useEffect(() => {\n    if (!restaurant) return;\n    const fetchReservations = async () => {\n      try {\n        setLoading(true);\n\n        // Получаване на днешната дата\n        const today = new Date().toISOString().split('T')[0];\n\n        // Съставяне на заявката според филтъра\n        let query = supabase.from('reservations').select(`\n              *,\n              tables:table_id (table_number, capacity)\n            `).eq('restaurant_id', restaurant.id);\n        if (filter === 'upcoming') {\n          query = query.gte('date', today);\n        } else if (filter === 'past') {\n          query = query.lt('date', today);\n        }\n\n        // Изпълнение на заявката\n        const {\n          data,\n          error\n        } = await query.order('date', {\n          ascending: true\n        });\n        if (error) throw error;\n        setReservations(data || []);\n\n        // Зареждане на масите за формата\n        const {\n          data: tablesData,\n          error: tablesError\n        } = await supabase.from('tables').select('*').eq('restaurant_id', restaurant.id);\n        if (tablesError) throw tablesError;\n        setTables(tablesData || []);\n      } catch (error) {\n        console.error('Error fetching reservations:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchReservations();\n  }, [restaurant, filter, supabase]);\n  const handleFilterChange = newFilter => {\n    setFilter(newFilter);\n  };\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData({\n      ...formData,\n      [name]: value\n    });\n  };\n  const resetForm = () => {\n    setFormData({\n      date: '',\n      time: '',\n      table_id: '',\n      name: '',\n      phone: '',\n      email: '',\n      guests_count: 2,\n      status: 'confirmed'\n    });\n    setEditingId(null);\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      const fullData = {\n        ...formData,\n        restaurant_id: restaurant.id\n      };\n      let result;\n\n      // Актуализиране на съществуваща резервация или създаване на нова\n      if (editingId) {\n        const {\n          data,\n          error\n        } = await supabase.from('reservations').update(fullData).eq('id', editingId).select();\n        if (error) throw error;\n        result = data[0];\n\n        // Актуализиране на локалния списък с резервации\n        setReservations(reservations.map(res => res.id === editingId ? {\n          ...res,\n          ...result\n        } : res));\n      } else {\n        const {\n          data,\n          error\n        } = await supabase.from('reservations').insert([fullData]).select();\n        if (error) throw error;\n        result = data[0];\n\n        // Добавяне на новата резервация към локалния списък\n        setReservations([...reservations, result]);\n      }\n      resetForm();\n      setShowForm(false);\n    } catch (error) {\n      console.error('Error saving reservation:', error);\n      alert('Възникна грешка при запазване на резервацията');\n    }\n  };\n  const handleEdit = reservation => {\n    // Зареждане на формата с данните от избраната резервация\n    setFormData({\n      date: reservation.date,\n      time: reservation.time,\n      table_id: reservation.table_id,\n      name: reservation.name,\n      phone: reservation.phone,\n      email: reservation.email,\n      guests_count: reservation.guests_count,\n      status: reservation.status\n    });\n    setEditingId(reservation.id);\n    setShowForm(true);\n  };\n  const handleDelete = async id => {\n    if (!window.confirm(\"Сигурни ли сте, че искате да изтриете тази резервация?\")) {\n      return;\n    }\n    try {\n      const {\n        error\n      } = await supabase.from('reservations').delete().eq('id', id);\n      if (error) throw error;\n\n      // Премахване на изтритата резервация от локалния списък\n      setReservations(reservations.filter(res => res.id !== id));\n    } catch (error) {\n      console.error('Error deleting reservation:', error);\n      alert('Възникна грешка при изтриване на резервацията');\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"\\u0417\\u0430\\u0440\\u0435\\u0436\\u0434\\u0430\\u043D\\u0435 \\u043D\\u0430 \\u0440\\u0435\\u0437\\u0435\\u0440\\u0432\\u0430\\u0446\\u0438\\u0438...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 567,\n      columnNumber: 14\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"\\u0420\\u0435\\u0437\\u0435\\u0440\\u0432\\u0430\\u0446\\u0438\\u0438: \", restaurant === null || restaurant === void 0 ? void 0 : restaurant.name]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 572,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-filters\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `admin-filter-btn ${filter === 'upcoming' ? 'active' : ''}`,\n          onClick: () => handleFilterChange('upcoming'),\n          children: \"\\u041F\\u0440\\u0435\\u0434\\u0441\\u0442\\u043E\\u044F\\u0449\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 576,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `admin-filter-btn ${filter === 'past' ? 'active' : ''}`,\n          onClick: () => handleFilterChange('past'),\n          children: \"\\u041C\\u0438\\u043D\\u0430\\u043B\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 582,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `admin-filter-btn ${filter === 'all' ? 'active' : ''}`,\n          onClick: () => handleFilterChange('all'),\n          children: \"\\u0412\\u0441\\u0438\\u0447\\u043A\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 588,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 575,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"admin-add-btn\",\n        onClick: () => {\n          resetForm();\n          setShowForm(!showForm);\n        },\n        children: showForm ? 'Отказ' : 'Добави резервация'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 596,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 574,\n      columnNumber: 9\n    }, this), showForm && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-form-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: editingId ? 'Редактиране на резервация' : 'Нова резервация'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 609,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"admin-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u0414\\u0430\\u0442\\u0430\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 612,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            name: \"date\",\n            value: formData.date,\n            onChange: handleInputChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 613,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 611,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u0427\\u0430\\u0441\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 623,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"time\",\n            name: \"time\",\n            value: formData.time,\n            onChange: handleInputChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 624,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 622,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u041C\\u0430\\u0441\\u0430\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 634,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"table_id\",\n            value: formData.table_id,\n            onChange: handleInputChange,\n            required: true,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"\\u0418\\u0437\\u0431\\u0435\\u0440\\u0435\\u0442\\u0435 \\u043C\\u0430\\u0441\\u0430\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 641,\n              columnNumber: 19\n            }, this), tables.map(table => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: table.id,\n              children: [\"\\u041C\\u0430\\u0441\\u0430 \", table.table_number, \" (\", table.capacity, \" \\u043C\\u0435\\u0441\\u0442\\u0430)\"]\n            }, table.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 643,\n              columnNumber: 21\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 635,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 633,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u0418\\u043C\\u0435\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 651,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"name\",\n            value: formData.name,\n            onChange: handleInputChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 652,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 650,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 662,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"tel\",\n            name: \"phone\",\n            value: formData.phone,\n            onChange: handleInputChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 663,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 661,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 673,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            name: \"email\",\n            value: formData.email,\n            onChange: handleInputChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 674,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 672,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u0411\\u0440\\u043E\\u0439 \\u0433\\u043E\\u0441\\u0442\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 684,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"guests_count\",\n            value: formData.guests_count,\n            onChange: handleInputChange,\n            min: \"1\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 685,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 683,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 696,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"status\",\n            value: formData.status,\n            onChange: handleInputChange,\n            required: true,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"confirmed\",\n              children: \"\\u041F\\u043E\\u0442\\u0432\\u044A\\u0440\\u0434\\u0435\\u043D\\u0430\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 703,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"pending\",\n              children: \"\\u0427\\u0430\\u043A\\u0430\\u0449\\u0430\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 704,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"cancelled\",\n              children: \"\\u041E\\u0442\\u043A\\u0430\\u0437\\u0430\\u043D\\u0430\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 705,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 697,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 695,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"admin-cancel-btn\",\n            onClick: () => setShowForm(false),\n            children: \"\\u041E\\u0442\\u043A\\u0430\\u0437\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 710,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"admin-submit-btn\",\n            children: editingId ? 'Запази промените' : 'Добави резервация'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 713,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 709,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 610,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 608,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-table-container\",\n      children: reservations.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-no-data\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u041D\\u044F\\u043C\\u0430 \\u043D\\u0430\\u043C\\u0435\\u0440\\u0435\\u043D\\u0438 \\u0440\\u0435\\u0437\\u0435\\u0440\\u0432\\u0430\\u0446\\u0438\\u0438.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 724,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 723,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"admin-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0414\\u0430\\u0442\\u0430\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 730,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0427\\u0430\\u0441\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 731,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u041C\\u0430\\u0441\\u0430\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 732,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u041A\\u043B\\u0438\\u0435\\u043D\\u0442\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 733,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 734,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0413\\u043E\\u0441\\u0442\\u0438\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 735,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 736,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 737,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 729,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 728,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: reservations.map(reservation => {\n            var _reservation$tables;\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: `status-${reservation.status}`,\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: reservation.date\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 743,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: reservation.time\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 744,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: ((_reservation$tables = reservation.tables) === null || _reservation$tables === void 0 ? void 0 : _reservation$tables.table_number) || 'Неизвестно'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 745,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: reservation.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 748,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: reservation.phone\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 749,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: reservation.guests_count\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 750,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `status-badge ${reservation.status}`,\n                  children: reservation.status === 'confirmed' ? 'Потвърдена' : reservation.status === 'pending' ? 'Чакаща' : 'Отказана'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 752,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 751,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"admin-action-btn edit\",\n                  onClick: () => handleEdit(reservation),\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-edit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 762,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 758,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"admin-action-btn delete\",\n                  onClick: () => handleDelete(reservation.id),\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-trash\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 768,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 764,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 757,\n                columnNumber: 21\n              }, this)]\n            }, reservation.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 742,\n              columnNumber: 19\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 740,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 727,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 721,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 571,\n    columnNumber: 7\n  }, this);\n}\n// Подсекция управление на маси\n_s3(AdminReservationsSection, \"3uyILGCRjE3cGvyHlsgOCXpejFQ=\");\n_c3 = AdminReservationsSection;\nfunction AdminTablesSection({\n  restaurant,\n  supabase\n}) {\n  _s4();\n  const [tables, setTables] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showForm, setShowForm] = useState(false);\n  const [editingId, setEditingId] = useState(null);\n  const [formData, setFormData] = useState({\n    table_number: '',\n    capacity: 2,\n    position_x: 50,\n    position_y: 50,\n    available: true,\n    notes: ''\n  });\n  useEffect(() => {\n    if (!restaurant) return;\n    const fetchTables = async () => {\n      try {\n        setLoading(true);\n        const {\n          data,\n          error\n        } = await supabase.from('tables').select('*').eq('restaurant_id', restaurant.id).order('table_number', {\n          ascending: true\n        });\n        if (error) throw error;\n        setTables(data || []);\n      } catch (error) {\n        console.error('Error fetching tables:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchTables();\n  }, [restaurant, supabase]);\n  const handleInputChange = e => {\n    const {\n      name,\n      value,\n      type,\n      checked\n    } = e.target;\n    setFormData({\n      ...formData,\n      [name]: type === 'checkbox' ? checked : type === 'number' ? parseInt(value, 10) : value\n    });\n  };\n  const resetForm = () => {\n    setFormData({\n      table_number: '',\n      capacity: 2,\n      position_x: 50,\n      position_y: 50,\n      available: true,\n      notes: ''\n    });\n    setEditingId(null);\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      const fullData = {\n        ...formData,\n        restaurant_id: restaurant.id\n      };\n      let result;\n      if (editingId) {\n        const {\n          data,\n          error\n        } = await supabase.from('tables').update(fullData).eq('id', editingId).select();\n        if (error) throw error;\n        result = data[0];\n        setTables(tables.map(table => table.id === editingId ? {\n          ...table,\n          ...result\n        } : table));\n      } else {\n        const {\n          data,\n          error\n        } = await supabase.from('tables').insert([fullData]).select();\n        if (error) throw error;\n        result = data[0];\n        setTables([...tables, result]);\n      }\n      resetForm();\n      setShowForm(false);\n    } catch (error) {\n      console.error('Error saving table:', error);\n      alert('Възникна грешка при запазване на масата');\n    }\n  };\n  const handleEdit = table => {\n    setFormData({\n      table_number: table.table_number,\n      capacity: table.capacity,\n      position_x: table.position_x,\n      position_y: table.position_y,\n      available: table.available,\n      notes: table.notes || ''\n    });\n    setEditingId(table.id);\n    setShowForm(true);\n  };\n  const handleDelete = async id => {\n    if (!window.confirm(\"Сигурни ли сте, че искате да изтриете тази маса?\")) {\n      return;\n    }\n    try {\n      const {\n        error\n      } = await supabase.from('tables').delete().eq('id', id);\n      if (error) throw error;\n      setTables(tables.filter(table => table.id !== id));\n    } catch (error) {\n      console.error('Error deleting table:', error);\n      alert('Възникна грешка при изтриване на масата');\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"\\u0417\\u0430\\u0440\\u0435\\u0436\\u0434\\u0430\\u043D\\u0435 \\u043D\\u0430 \\u043C\\u0430\\u0441\\u0438...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 920,\n      columnNumber: 14\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"\\u0423\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u043D\\u0430 \\u043C\\u0430\\u0441\\u0438: \", restaurant === null || restaurant === void 0 ? void 0 : restaurant.name]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 925,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-controls\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"admin-add-btn\",\n        onClick: () => {\n          resetForm();\n          setShowForm(!showForm);\n        },\n        children: showForm ? 'Отказ' : 'Добави нова маса'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 928,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 927,\n      columnNumber: 9\n    }, this), showForm && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-form-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: editingId ? 'Редактиране на маса' : 'Нова маса'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 941,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"admin-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u041D\\u043E\\u043C\\u0435\\u0440 \\u043D\\u0430 \\u043C\\u0430\\u0441\\u0430\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 944,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"table_number\",\n            value: formData.table_number,\n            onChange: handleInputChange,\n            required: true,\n            min: \"1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 945,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 943,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u041A\\u0430\\u043F\\u0430\\u0446\\u0438\\u0442\\u0435\\u0442 (\\u0431\\u0440\\u043E\\u0439 \\u043C\\u0435\\u0441\\u0442\\u0430)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 956,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"capacity\",\n            value: formData.capacity,\n            onChange: handleInputChange,\n            required: true,\n            min: \"1\",\n            max: \"20\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 957,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 955,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u041F\\u043E\\u0437\\u0438\\u0446\\u0438\\u044F X (\\u0432 \\u043F\\u0438\\u043A\\u0441\\u0435\\u043B\\u0438)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 969,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"range\",\n            name: \"position_x\",\n            value: formData.position_x,\n            onChange: handleInputChange,\n            min: \"0\",\n            max: \"600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 970,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [formData.position_x, \"px\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 978,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 968,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u041F\\u043E\\u0437\\u0438\\u0446\\u0438\\u044F Y (\\u0432 \\u043F\\u0438\\u043A\\u0441\\u0435\\u043B\\u0438)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 982,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"range\",\n            name: \"position_y\",\n            value: formData.position_y,\n            onChange: handleInputChange,\n            min: \"0\",\n            max: \"400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 983,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [formData.position_y, \"px\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 991,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 981,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group checkbox-group\",\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              name: \"available\",\n              checked: formData.available,\n              onChange: handleInputChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 996,\n              columnNumber: 19\n            }, this), \"\\u0410\\u043A\\u0442\\u0438\\u0432\\u043D\\u0430 \\u043C\\u0430\\u0441\\u0430\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 995,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 994,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u0411\\u0435\\u043B\\u0435\\u0436\\u043A\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1007,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            name: \"notes\",\n            value: formData.notes,\n            onChange: handleInputChange,\n            placeholder: \"\\u0414\\u043E\\u043F\\u044A\\u043B\\u043D\\u0438\\u0442\\u0435\\u043B\\u043D\\u0430 \\u0438\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044F \\u0437\\u0430 \\u043C\\u0430\\u0441\\u0430\\u0442\\u0430\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1008,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1006,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"admin-cancel-btn\",\n            onClick: () => setShowForm(false),\n            children: \"\\u041E\\u0442\\u043A\\u0430\\u0437\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1017,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"admin-submit-btn\",\n            children: editingId ? 'Запази промените' : 'Добави маса'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1020,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1016,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 942,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 940,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"restaurant-layout-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\u0418\\u0437\\u0433\\u043B\\u0435\\u0434 \\u043D\\u0430 \\u043F\\u043E\\u0434\\u0440\\u0435\\u0434\\u0431\\u0430\\u0442\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1029,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"restaurant-layout-preview\",\n        children: tables.map(table => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `table-preview ${table.available ? 'available' : 'unavailable'}`,\n          style: {\n            top: `${table.position_y}px`,\n            left: `${table.position_x}px`,\n            width: `${table.capacity > 2 ? 80 : 60}px`,\n            height: `${table.capacity > 2 ? 80 : 60}px`\n          },\n          onClick: () => handleEdit(table),\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"table-number\",\n            children: table.table_number\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1043,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"table-capacity\",\n            children: [table.capacity, \" \\u043C\\u0435\\u0441\\u0442\\u0430\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1044,\n            columnNumber: 17\n          }, this)]\n        }, table.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1032,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1030,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1028,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-table-container\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"admin-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u041D\\u043E\\u043C\\u0435\\u0440\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1054,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u041A\\u0430\\u043F\\u0430\\u0446\\u0438\\u0442\\u0435\\u0442\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1055,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1056,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0411\\u0435\\u043B\\u0435\\u0436\\u043A\\u0438\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1057,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1058,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1053,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1052,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: tables.map(table => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: table.table_number\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1064,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [table.capacity, \" \\u043C\\u0435\\u0441\\u0442\\u0430\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1065,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `status-badge ${table.available ? 'active' : 'inactive'}`,\n                children: table.available ? 'Активна' : 'Неактивна'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1067,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1066,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: table.notes || '-'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1071,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"admin-action-btn edit\",\n                onClick: () => handleEdit(table),\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-edit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1077,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1073,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"admin-action-btn delete\",\n                onClick: () => handleDelete(table.id),\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-trash\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1083,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1079,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1072,\n              columnNumber: 19\n            }, this)]\n          }, table.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1063,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1061,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1051,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1050,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 924,\n    columnNumber: 7\n  }, this);\n}\n// Подсекция Меню\n_s4(AdminTablesSection, \"3cuvnFZhCQ4WS9CSnHWt6r/Xxo0=\");\n_c4 = AdminTablesSection;\nfunction AdminMenuSection({\n  restaurant,\n  supabase\n}) {\n  _s5();\n  const [categories, setCategories] = useState([]);\n  const [menuItems, setMenuItems] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showForm, setShowForm] = useState(false);\n  const [formData, setFormData] = useState({\n    name: '',\n    description: '',\n    price: '',\n    category_id: '',\n    is_available: true,\n    image_url: '',\n    allergens: '',\n    recommended: false\n  });\n  const [showCategoryForm, setShowCategoryForm] = useState(false);\n  const [categoryFormData, setCategoryFormData] = useState({\n    name: '',\n    order: 0\n  });\n  const [editingId, setEditingId] = useState(null);\n  const [editingCategoryId, setEditingCategoryId] = useState(null);\n  const [selectedCategory, setSelectedCategory] = useState('all');\n  useEffect(() => {\n    if (!restaurant) return;\n    const fetchMenuData = async () => {\n      try {\n        setLoading(true);\n\n        // Зареждане на категории\n        const {\n          data: categoriesData,\n          error: categoriesError\n        } = await supabase.from('menu_categories').select('*').eq('restaurant_id', restaurant.id).order('order', {\n          ascending: true\n        });\n        if (categoriesError) throw categoriesError;\n        setCategories(categoriesData || []);\n\n        // Зареждане на продукти от менюто\n        let query = supabase.from('menu_items').select(`\n              *,\n              menu_categories:category_id (id, name)\n            `).eq('restaurant_id', restaurant.id);\n        if (selectedCategory !== 'all') {\n          query = query.eq('category_id', selectedCategory);\n        }\n        const {\n          data: menuData,\n          error: menuError\n        } = await query.order('name', {\n          ascending: true\n        });\n        if (menuError) throw menuError;\n        setMenuItems(menuData || []);\n      } catch (error) {\n        console.error('Error fetching menu data:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchMenuData();\n  }, [restaurant, supabase, selectedCategory]);\n  const handleInputChange = e => {\n    const {\n      name,\n      value,\n      type,\n      checked\n    } = e.target;\n    setFormData({\n      ...formData,\n      [name]: type === 'checkbox' ? checked : type === 'number' ? parseFloat(value) : value\n    });\n  };\n  const handleCategoryInputChange = e => {\n    const {\n      name,\n      value,\n      type,\n      checked\n    } = e.target;\n    setCategoryFormData({\n      ...categoryFormData,\n      [name]: type === 'checkbox' ? checked : name === 'order' ? parseInt(value, 10) : value\n    });\n  };\n  const resetForm = () => {\n    setFormData({\n      name: '',\n      description: '',\n      price: '',\n      category_id: '',\n      is_available: true,\n      image_url: '',\n      allergens: '',\n      recommended: false\n    });\n    setEditingId(null);\n  };\n  const resetCategoryForm = () => {\n    setCategoryFormData({\n      name: '',\n      order: categories.length > 0 ? Math.max(...categories.map(c => c.order)) + 1 : 0\n    });\n    setEditingCategoryId(null);\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      const fullData = {\n        ...formData,\n        restaurant_id: restaurant.id,\n        price: parseFloat(formData.price)\n      };\n      let result;\n      if (editingId) {\n        const {\n          data,\n          error\n        } = await supabase.from('menu_items').update(fullData).eq('id', editingId).select();\n        if (error) throw error;\n        result = data[0];\n\n        // Актуализиране на локалния списък\n        setMenuItems(menuItems.map(item => item.id === editingId ? {\n          ...item,\n          ...result\n        } : item));\n      } else {\n        const {\n          data,\n          error\n        } = await supabase.from('menu_items').insert([fullData]).select();\n        if (error) throw error;\n        result = data[0];\n\n        // Добавяне към локалния списък\n        setMenuItems([...menuItems, result]);\n      }\n      resetForm();\n      setShowForm(false);\n    } catch (error) {\n      console.error('Error saving menu item:', error);\n      alert('Възникна грешка при запазване на продукта');\n    }\n  };\n  const handleCategorySubmit = async e => {\n    e.preventDefault();\n    try {\n      const fullData = {\n        ...categoryFormData,\n        restaurant_id: restaurant.id\n      };\n      let result;\n      if (editingCategoryId) {\n        const {\n          data,\n          error\n        } = await supabase.from('menu_categories').update(fullData).eq('id', editingCategoryId).select();\n        if (error) throw error;\n        result = data[0];\n\n        // Актуализиране на локалния списък\n        setCategories(categories.map(cat => cat.id === editingCategoryId ? {\n          ...cat,\n          ...result\n        } : cat));\n      } else {\n        const {\n          data,\n          error\n        } = await supabase.from('menu_categories').insert([fullData]).select();\n        if (error) throw error;\n        result = data[0];\n\n        // Добавяне към локалния списък\n        setCategories([...categories, result]);\n      }\n      resetCategoryForm();\n      setShowCategoryForm(false);\n    } catch (error) {\n      console.error('Error saving category:', error);\n      alert('Възникна грешка при запазване на категорията');\n    }\n  };\n  const handleEdit = item => {\n    setFormData({\n      name: item.name,\n      description: item.description || '',\n      price: item.price.toString(),\n      category_id: item.category_id,\n      is_available: item.is_available,\n      image_url: item.image_url || '',\n      allergens: item.allergens || '',\n      recommended: item.recommended || false\n    });\n    setEditingId(item.id);\n    setShowForm(true);\n  };\n  const handleEditCategory = category => {\n    setCategoryFormData({\n      name: category.name,\n      order: category.order\n    });\n    setEditingCategoryId(category.id);\n    setShowCategoryForm(true);\n  };\n  const handleDelete = async id => {\n    if (!window.confirm(\"Сигурни ли сте, че искате да изтриете този продукт?\")) {\n      return;\n    }\n    try {\n      const {\n        error\n      } = await supabase.from('menu_items').delete().eq('id', id);\n      if (error) throw error;\n\n      // Премахване от локалния списък\n      setMenuItems(menuItems.filter(item => item.id !== id));\n    } catch (error) {\n      console.error('Error deleting menu item:', error);\n      alert('Възникна грешка при изтриване на продукта');\n    }\n  };\n  const handleDeleteCategory = async id => {\n    // Проверка дали категорията се използва в продукти\n    const itemsInCategory = menuItems.filter(item => item.category_id === id);\n    if (itemsInCategory.length > 0) {\n      alert(`Не можете да изтриете тази категория, защото има ${itemsInCategory.length} продукта в нея.`);\n      return;\n    }\n    if (!window.confirm(\"Сигурни ли сте, че искате да изтриете тази категория?\")) {\n      return;\n    }\n    try {\n      const {\n        error\n      } = await supabase.from('menu_categories').delete().eq('id', id);\n      if (error) throw error;\n\n      // Премахване от локалния списък\n      setCategories(categories.filter(cat => cat.id !== id));\n\n      // Ако текущо избраната категория е изтрита, връщаме се към \"всички\"\n      if (selectedCategory === id) {\n        setSelectedCategory('all');\n      }\n    } catch (error) {\n      console.error('Error deleting category:', error);\n      alert('Възникна грешка при изтриване на категорията');\n    }\n  };\n  const handleCategoryChange = categoryId => {\n    setSelectedCategory(categoryId);\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"\\u0417\\u0430\\u0440\\u0435\\u0436\\u0434\\u0430\\u043D\\u0435 \\u043D\\u0430 \\u043C\\u0435\\u043D\\u044E...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1380,\n      columnNumber: 16\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"\\u041C\\u0435\\u043D\\u044E: \", restaurant === null || restaurant === void 0 ? void 0 : restaurant.name]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1384,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-controls menu-controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-filter-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u0424\\u0438\\u043B\\u0442\\u0440\\u0438\\u0440\\u0430\\u043D\\u0435 \\u043F\\u043E \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1388,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"category-filters\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: `admin-filter-btn ${selectedCategory === 'all' ? 'active' : ''}`,\n            onClick: () => handleCategoryChange('all'),\n            children: \"\\u0412\\u0441\\u0438\\u0447\\u043A\\u0438 \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1390,\n            columnNumber: 17\n          }, this), categories.map(category => /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `admin-filter-btn ${selectedCategory === category.id ? 'active' : ''}`,\n            onClick: () => handleCategoryChange(category.id),\n            children: category.name\n          }, category.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1397,\n            columnNumber: 19\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1389,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1387,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-button-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"admin-add-btn\",\n          onClick: () => {\n            resetCategoryForm();\n            setShowCategoryForm(!showCategoryForm);\n            if (showForm) setShowForm(false);\n          },\n          children: showCategoryForm ? 'Отказ' : 'Добави категория'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1409,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"admin-add-btn\",\n          onClick: () => {\n            resetForm();\n            setShowForm(!showForm);\n            if (showCategoryForm) setShowCategoryForm(false);\n          },\n          children: showForm ? 'Отказ' : 'Добави продукт'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1420,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1408,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1386,\n      columnNumber: 11\n    }, this), showCategoryForm && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-form-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: editingCategoryId ? 'Редактиране на категория' : 'Нова категория'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1436,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleCategorySubmit,\n        className: \"admin-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u0418\\u043C\\u0435 \\u043D\\u0430 \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1439,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"name\",\n            value: categoryFormData.name,\n            onChange: handleCategoryInputChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1440,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1438,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u0420\\u0435\\u0434 \\u043D\\u0430 \\u043F\\u043E\\u043A\\u0430\\u0437\\u0432\\u0430\\u043D\\u0435\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1450,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"order\",\n            value: categoryFormData.order,\n            onChange: handleCategoryInputChange,\n            required: true,\n            min: \"0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1451,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1449,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"admin-cancel-btn\",\n            onClick: () => setShowCategoryForm(false),\n            children: \"\\u041E\\u0442\\u043A\\u0430\\u0437\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1462,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"admin-submit-btn\",\n            children: editingCategoryId ? 'Запази промените' : 'Добави категория'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1465,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1461,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1437,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1435,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-categories-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\u0423\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u043D\\u0430 \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u0438\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1475,\n        columnNumber: 13\n      }, this), categories.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-no-data\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u041D\\u044F\\u043C\\u0430 \\u0434\\u043E\\u0431\\u0430\\u0432\\u0435\\u043D\\u0438 \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u0438. \\u0414\\u043E\\u0431\\u0430\\u0432\\u0435\\u0442\\u0435 \\u043F\\u044A\\u0440\\u0432\\u0430\\u0442\\u0430 \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1478,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1477,\n        columnNumber: 15\n      }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"admin-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0418\\u043C\\u0435\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1484,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0420\\u0435\\u0434\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1485,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0411\\u0440\\u043E\\u0439 \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\\u0438\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1486,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1487,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1483,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1482,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: categories.map(category => {\n            const itemCount = menuItems.filter(item => item.category_id === category.id).length;\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: category.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1495,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: category.order\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1496,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: itemCount\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1497,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"admin-action-btn edit\",\n                  onClick: () => handleEditCategory(category),\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-edit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1503,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1499,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"admin-action-btn delete\",\n                  onClick: () => handleDeleteCategory(category.id),\n                  disabled: itemCount > 0,\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-trash\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1510,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1505,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1498,\n                columnNumber: 25\n              }, this)]\n            }, category.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1494,\n              columnNumber: 23\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1490,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1481,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1474,\n      columnNumber: 11\n    }, this), showForm && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-form-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: editingId ? 'Редактиране на продукт' : 'Нов продукт'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1523,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"admin-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u0418\\u043C\\u0435 \\u043D\\u0430 \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1526,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"name\",\n            value: formData.name,\n            onChange: handleInputChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1527,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1525,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u041A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1537,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"category_id\",\n            value: formData.category_id,\n            onChange: handleInputChange,\n            required: true,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"\\u0418\\u0437\\u0431\\u0435\\u0440\\u0435\\u0442\\u0435 \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1544,\n              columnNumber: 17\n            }, this), categories.map(category => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: category.id,\n              children: category.name\n            }, category.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1546,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1538,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1536,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u0426\\u0435\\u043D\\u0430 (\\u0432 \\u043B\\u0432.)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1554,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"price\",\n            value: formData.price,\n            onChange: handleInputChange,\n            required: true,\n            min: \"0\",\n            step: \"0.01\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1555,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1553,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1567,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            name: \"description\",\n            value: formData.description,\n            onChange: handleInputChange,\n            placeholder: \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435 \\u043D\\u0430 \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\\u0430\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1568,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1566,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"URL \\u043D\\u0430 \\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1577,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"url\",\n            name: \"image_url\",\n            value: formData.image_url,\n            onChange: handleInputChange,\n            placeholder: \"http://example.com/image.jpg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1578,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1576,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u0410\\u043B\\u0435\\u0440\\u0433\\u0435\\u043D\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1588,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"allergens\",\n            value: formData.allergens,\n            onChange: handleInputChange,\n            placeholder: \"\\u041D\\u0430\\u043F\\u0440.: \\u0433\\u043B\\u0443\\u0442\\u0435\\u043D, \\u043C\\u043B\\u0435\\u0447\\u043D\\u0438 \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\\u0438, \\u044F\\u0434\\u043A\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1589,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1587,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group checkbox-group\",\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              name: \"is_available\",\n              checked: formData.is_available,\n              onChange: handleInputChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1600,\n              columnNumber: 17\n            }, this), \"\\u041D\\u0430\\u043B\\u0438\\u0447\\u0435\\u043D \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1599,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1598,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group checkbox-group\",\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              name: \"recommended\",\n              checked: formData.recommended,\n              onChange: handleInputChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1612,\n              columnNumber: 17\n            }, this), \"\\u041F\\u0440\\u0435\\u043F\\u043E\\u0440\\u044A\\u0447\\u0430\\u043D \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1611,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1610,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"admin-cancel-btn\",\n            onClick: () => setShowForm(false),\n            children: \"\\u041E\\u0442\\u043A\\u0430\\u0437\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1623,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"admin-submit-btn\",\n            children: editingId ? 'Запази промените' : 'Добави продукт'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1626,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1622,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1524,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1522,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-table-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\u041F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\\u0438 \\u0432 \\u043C\\u0435\\u043D\\u044E\\u0442\\u043E\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1636,\n        columnNumber: 9\n      }, this), menuItems.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-no-data\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u041D\\u044F\\u043C\\u0430 \\u0434\\u043E\\u0431\\u0430\\u0432\\u0435\\u043D\\u0438 \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\\u0438 \\u0432 \\u043C\\u0435\\u043D\\u044E\\u0442\\u043E.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1639,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1638,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"admin-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0418\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1645,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0418\\u043C\\u0435\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1646,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u041A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1647,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0426\\u0435\\u043D\\u0430\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1648,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1649,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u041F\\u0440\\u0435\\u043F\\u043E\\u0440\\u044A\\u0447\\u0430\\u043D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1650,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1651,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1644,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1643,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: menuItems.map(item => {\n            var _item$menu_categories, _item$price;\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.image_url ? /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: item.image_url,\n                  alt: item.name,\n                  className: \"menu-item-thumbnail\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1659,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"menu-item-no-image\",\n                  children: \"\\u041D\\u044F\\u043C\\u0430 \\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1661,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1657,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: item.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1665,\n                  columnNumber: 21\n                }, this), item.description && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"menu-item-description\",\n                  children: item.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1666,\n                  columnNumber: 42\n                }, this), item.allergens && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"menu-item-allergens\",\n                  children: [\"\\u0410\\u043B\\u0435\\u0440\\u0433\\u0435\\u043D\\u0438: \", item.allergens]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1667,\n                  columnNumber: 40\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1664,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: ((_item$menu_categories = item.menu_categories) === null || _item$menu_categories === void 0 ? void 0 : _item$menu_categories.name) || 'Без категория'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1669,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [(_item$price = item.price) === null || _item$price === void 0 ? void 0 : _item$price.toFixed(2), \" \\u043B\\u0432.\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1670,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `status-badge ${item.is_available ? 'active' : 'inactive'}`,\n                  children: item.is_available ? 'Наличен' : 'Неналичен'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1672,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1671,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.recommended ? /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-star recommended-star\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1677,\n                  columnNumber: 41\n                }, this) : '-'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1676,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"admin-action-btn edit\",\n                  onClick: () => handleEdit(item),\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-edit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1684,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1680,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"admin-action-btn delete\",\n                  onClick: () => handleDelete(item.id),\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-trash\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1690,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1686,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1679,\n                columnNumber: 19\n              }, this)]\n            }, item.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1656,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1654,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1642,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1635,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1383,\n    columnNumber: 9\n  }, this);\n}\n// Подсекция за събития\n_s5(AdminMenuSection, \"NqDoJXV7bVHBIEJUkyJYyzxh7tw=\");\n_c5 = AdminMenuSection;\nfunction AdminEventsSection({\n  restaurant,\n  supabase\n}) {\n  _s6();\n  const [events, setEvents] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showForm, setShowForm] = useState(false);\n  const [formData, setFormData] = useState({\n    title: '',\n    description: '',\n    date: '',\n    time: '',\n    end_time: '',\n    image_url: '',\n    seats_available: 0,\n    price: '',\n    is_published: false,\n    is_private: false\n  });\n  const [editingId, setEditingId] = useState(null);\n  const [view, setView] = useState('upcoming');\n  useEffect(() => {\n    if (!restaurant) return;\n    const fetchEvents = async () => {\n      try {\n        setLoading(true);\n\n        // Получаване на днешната дата\n        const today = new Date().toISOString().split('T')[0];\n\n        // Съставяне на заявката според изгледа\n        let query = supabase.from('events').select('*').eq('restaurant_id', restaurant.id);\n        if (view === 'upcoming') {\n          query = query.gte('date', today);\n        } else if (view === 'past') {\n          query = query.lt('date', today);\n        }\n        const {\n          data,\n          error\n        } = await query.order('date', {\n          ascending: view === 'upcoming'\n        });\n        if (error) throw error;\n        setEvents(data || []);\n      } catch (error) {\n        console.error('Error fetching events:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchEvents();\n  }, [restaurant, view, supabase]);\n  const handleInputChange = e => {\n    const {\n      name,\n      value,\n      type,\n      checked\n    } = e.target;\n    setFormData({\n      ...formData,\n      [name]: type === 'checkbox' ? checked : type === 'number' ? parseInt(value, 10) : name === 'price' ? parseFloat(value) || '' : value\n    });\n  };\n  const resetForm = () => {\n    setFormData({\n      title: '',\n      description: '',\n      date: '',\n      time: '',\n      end_time: '',\n      image_url: '',\n      seats_available: 0,\n      price: '',\n      is_published: false,\n      is_private: false\n    });\n    setEditingId(null);\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      // Валидация\n      if (formData.price && parseFloat(formData.price) < 0) {\n        alert('Цената не може да бъде отрицателна');\n        return;\n      }\n      if (formData.seats_available < 0) {\n        alert('Броят на местата не може да бъде отрицателен');\n        return;\n      }\n      const fullData = {\n        ...formData,\n        restaurant_id: restaurant.id,\n        price: formData.price === '' ? null : parseFloat(formData.price)\n      };\n      let result;\n      if (editingId) {\n        const {\n          data,\n          error\n        } = await supabase.from('events').update(fullData).eq('id', editingId).select();\n        if (error) throw error;\n        result = data[0];\n\n        // Актуализиране на локалния списък\n        setEvents(events.map(event => event.id === editingId ? {\n          ...event,\n          ...result\n        } : event));\n      } else {\n        const {\n          data,\n          error\n        } = await supabase.from('events').insert([fullData]).select();\n        if (error) throw error;\n        result = data[0];\n\n        // Добавяне към локалния списък, ако съответства на текущия изглед\n        const today = new Date().toISOString().split('T')[0];\n        const isUpcoming = result.date >= today;\n        if (view === 'upcoming' && isUpcoming || view === 'past' && !isUpcoming || view === 'all') {\n          setEvents([...events, result]);\n        }\n      }\n      resetForm();\n      setShowForm(false);\n    } catch (error) {\n      console.error('Error saving event:', error);\n      alert('Възникна грешка при запазване на събитието');\n    }\n  };\n  const handleEdit = event => {\n    setFormData({\n      title: event.title,\n      description: event.description || '',\n      date: event.date,\n      time: event.time,\n      end_time: event.end_time || '',\n      image_url: event.image_url || '',\n      seats_available: event.seats_available || 0,\n      price: event.price !== null ? event.price.toString() : '',\n      is_published: event.is_published || false,\n      is_private: event.is_private || false\n    });\n    setEditingId(event.id);\n    setShowForm(true);\n  };\n  const handleDelete = async id => {\n    if (!window.confirm(\"Сигурни ли сте, че искате да изтриете това събитие?\")) {\n      return;\n    }\n    try {\n      const {\n        error\n      } = await supabase.from('events').delete().eq('id', id);\n      if (error) throw error;\n\n      // Премахване от локалния списък\n      setEvents(events.filter(event => event.id !== id));\n    } catch (error) {\n      console.error('Error deleting event:', error);\n      alert('Възникна грешка при изтриване на събитието');\n    }\n  };\n  const togglePublish = async (id, currentStatus) => {\n    try {\n      const {\n        error\n      } = await supabase.from('events').update({\n        is_published: !currentStatus\n      }).eq('id', id);\n      if (error) throw error;\n\n      // Актуализиране на локалния списък\n      setEvents(events.map(event => event.id === id ? {\n        ...event,\n        is_published: !currentStatus\n      } : event));\n    } catch (error) {\n      console.error('Error updating event publish status:', error);\n      alert('Възникна грешка при промяна на статуса на събитието');\n    }\n  };\n  const handleViewChange = newView => {\n    setView(newView);\n  };\n  const formatDate = dateStr => {\n    const parts = dateStr.split('-');\n    return `${parts[2]}.${parts[1]}.${parts[0]}`;\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"\\u0417\\u0430\\u0440\\u0435\\u0436\\u0434\\u0430\\u043D\\u0435 \\u043D\\u0430 \\u0441\\u044A\\u0431\\u0438\\u0442\\u0438\\u044F...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1917,\n      columnNumber: 16\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"\\u0421\\u044A\\u0431\\u0438\\u0442\\u0438\\u044F: \", restaurant === null || restaurant === void 0 ? void 0 : restaurant.name]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1921,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-filters\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `admin-filter-btn ${view === 'upcoming' ? 'active' : ''}`,\n          onClick: () => handleViewChange('upcoming'),\n          children: \"\\u041F\\u0440\\u0435\\u0434\\u0441\\u0442\\u043E\\u044F\\u0449\\u0438 \\u0441\\u044A\\u0431\\u0438\\u0442\\u0438\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1925,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `admin-filter-btn ${view === 'past' ? 'active' : ''}`,\n          onClick: () => handleViewChange('past'),\n          children: \"\\u041C\\u0438\\u043D\\u0430\\u043B\\u0438 \\u0441\\u044A\\u0431\\u0438\\u0442\\u0438\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1931,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `admin-filter-btn ${view === 'all' ? 'active' : ''}`,\n          onClick: () => handleViewChange('all'),\n          children: \"\\u0412\\u0441\\u0438\\u0447\\u043A\\u0438 \\u0441\\u044A\\u0431\\u0438\\u0442\\u0438\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1937,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1924,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"admin-add-btn\",\n        onClick: () => {\n          resetForm();\n          setShowForm(!showForm);\n        },\n        children: showForm ? 'Отказ' : 'Добави събитие'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1945,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1923,\n      columnNumber: 11\n    }, this), showForm && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-form-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: editingId ? 'Редактиране на събитие' : 'Ново събитие'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1959,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"admin-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u0417\\u0430\\u0433\\u043B\\u0430\\u0432\\u0438\\u0435\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1962,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"title\",\n            value: formData.title,\n            onChange: handleInputChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1963,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1961,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1973,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            name: \"description\",\n            value: formData.description,\n            onChange: handleInputChange,\n            rows: \"4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1974,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1972,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u0414\\u0430\\u0442\\u0430\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1984,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              name: \"date\",\n              value: formData.date,\n              onChange: handleInputChange,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1985,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1983,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u041D\\u0430\\u0447\\u0430\\u043B\\u0435\\u043D \\u0447\\u0430\\u0441\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1995,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"time\",\n              name: \"time\",\n              value: formData.time,\n              onChange: handleInputChange,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1996,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1994,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u041A\\u0440\\u0430\\u0435\\u043D \\u0447\\u0430\\u0441\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2006,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"time\",\n              name: \"end_time\",\n              value: formData.end_time,\n              onChange: handleInputChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2007,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2005,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1982,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"URL \\u043D\\u0430 \\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2017,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"url\",\n            name: \"image_url\",\n            value: formData.image_url,\n            onChange: handleInputChange,\n            placeholder: \"http://example.com/image.jpg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2018,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2016,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u0411\\u0440\\u043E\\u0439 \\u043C\\u0435\\u0441\\u0442\\u0430\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2029,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              name: \"seats_available\",\n              value: formData.seats_available,\n              onChange: handleInputChange,\n              min: \"0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2030,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2028,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u0426\\u0435\\u043D\\u0430 (\\u0432 \\u043B\\u0432., \\u0430\\u043A\\u043E \\u0435 \\u043F\\u0440\\u0438\\u043B\\u043E\\u0436\\u0438\\u043C\\u043E)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2040,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              name: \"price\",\n              value: formData.price,\n              onChange: handleInputChange,\n              min: \"0\",\n              step: \"0.01\",\n              placeholder: \"\\u041E\\u0441\\u0442\\u0430\\u0432\\u0435\\u0442\\u0435 \\u043F\\u0440\\u0430\\u0437\\u043D\\u043E, \\u0430\\u043A\\u043E \\u0435 \\u0431\\u0435\\u0437\\u043F\\u043B\\u0430\\u0442\\u043D\\u043E\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2041,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2039,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2027,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row checkboxes\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group checkbox-group\",\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                name: \"is_published\",\n                checked: formData.is_published,\n                onChange: handleInputChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2056,\n                columnNumber: 23\n              }, this), \"\\u041F\\u0443\\u0431\\u043B\\u0438\\u043A\\u0443\\u0432\\u0430\\u043D\\u043E (\\u0432\\u0438\\u0434\\u0438\\u043C\\u043E \\u0437\\u0430 \\u043A\\u043B\\u0438\\u0435\\u043D\\u0442\\u0438)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2055,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2054,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group checkbox-group\",\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                name: \"is_private\",\n                checked: formData.is_private,\n                onChange: handleInputChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2068,\n                columnNumber: 23\n              }, this), \"\\u0427\\u0430\\u0441\\u0442\\u043D\\u043E \\u0441\\u044A\\u0431\\u0438\\u0442\\u0438\\u0435 (\\u0441\\u0430\\u043C\\u043E \\u0441 \\u043F\\u043E\\u043A\\u0430\\u043D\\u0430)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2067,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2066,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2053,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"admin-cancel-btn\",\n            onClick: () => setShowForm(false),\n            children: \"\\u041E\\u0442\\u043A\\u0430\\u0437\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2080,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"admin-submit-btn\",\n            children: editingId ? 'Запази промените' : 'Добави събитие'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2083,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2079,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1960,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1958,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-table-container\",\n      children: events.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-no-data\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\u041D\\u044F\\u043C\\u0430 \", view === 'upcoming' ? 'предстоящи' : view === 'past' ? 'минали' : '', \" \\u0441\\u044A\\u0431\\u0438\\u0442\\u0438\\u044F.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2094,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2093,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"events-grid\",\n        children: events.map(event => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"event-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"event-image\",\n            children: event.image_url ? /*#__PURE__*/_jsxDEV(\"img\", {\n              src: event.image_url,\n              alt: event.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2102,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"event-placeholder\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-calendar-alt\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2105,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2104,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2100,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"event-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"event-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: event.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2111,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"event-status\",\n                children: [event.is_published ? /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"status-badge active\",\n                  children: \"\\u041F\\u0443\\u0431\\u043B\\u0438\\u043A\\u0443\\u0432\\u0430\\u043D\\u043E\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2114,\n                  columnNumber: 25\n                }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"status-badge inactive\",\n                  children: \"\\u0427\\u0435\\u0440\\u043D\\u043E\\u0432\\u0430\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2116,\n                  columnNumber: 25\n                }, this), event.is_private && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"status-badge private\",\n                  children: \"\\u0427\\u0430\\u0441\\u0442\\u043D\\u043E\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2119,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2112,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2110,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"event-date-time\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-calendar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2126,\n                  columnNumber: 23\n                }, this), \" \", formatDate(event.date)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2125,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-clock\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2129,\n                  columnNumber: 23\n                }, this), \" \", event.time, event.end_time && ` - ${event.end_time}`]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2128,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2124,\n              columnNumber: 19\n            }, this), event.description && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"event-description\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: event.description.length > 100 ? event.description.slice(0, 100) + '...' : event.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2136,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2135,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"event-details\",\n              children: [event.seats_available > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-chair\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2146,\n                  columnNumber: 25\n                }, this), \" \", event.seats_available, \" \\u043C\\u0435\\u0441\\u0442\\u0430\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2145,\n                columnNumber: 23\n              }, this), event.price !== null && event.price > 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-ticket-alt\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2151,\n                  columnNumber: 25\n                }, this), \" \", event.price.toFixed(2), \" \\u043B\\u0432.\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2150,\n                columnNumber: 23\n              }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-ticket-alt\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2155,\n                  columnNumber: 25\n                }, this), \" \\u0411\\u0435\\u0437\\u043F\\u043B\\u0430\\u0442\\u043D\\u043E\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2154,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2143,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"event-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"admin-action-btn toggle-publish\",\n                onClick: () => togglePublish(event.id, event.is_published),\n                title: event.is_published ? 'Скрий от клиенти' : 'Публикувай',\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: `fas fa-${event.is_published ? 'eye-slash' : 'eye'}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2166,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2161,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"admin-action-btn edit\",\n                onClick: () => handleEdit(event),\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-edit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2172,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2168,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"admin-action-btn delete\",\n                onClick: () => handleDelete(event.id),\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-trash\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2178,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2174,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2160,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2109,\n            columnNumber: 17\n          }, this)]\n        }, event.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2099,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2097,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2091,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1920,\n    columnNumber: 9\n  }, this);\n}\n// Експорт на основния компонент\n_s6(AdminEventsSection, \"kd+8L0vePpAEo0676bKoW6XLbmg=\");\n_c6 = AdminEventsSection;\nexport default AdminDashboard;\n\n// Подсекция за специални предложения\nfunction AdminSpecialOffersSection({\n  restaurant,\n  supabase\n}) {\n  _s7();\n  const [offers, setOffers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showForm, setShowForm] = useState(false);\n  const [formData, setFormData] = useState({\n    title: '',\n    description: '',\n    discount_type: 'percentage',\n    // 'percentage', 'fixed', 'free_item'\n    discount_value: '',\n    start_date: '',\n    end_date: '',\n    days_of_week: [],\n    // ['monday', 'tuesday', etc.]\n    start_time: '',\n    end_time: '',\n    min_order: '',\n    max_uses: '',\n    image_url: '',\n    active: true,\n    applies_to: 'all',\n    // 'all', 'category', 'item'\n    applies_to_id: ''\n  });\n  const [editingId, setEditingId] = useState(null);\n  const [menuCategories, setMenuCategories] = useState([]);\n  const [menuItems, setMenuItems] = useState([]);\n  const [filter, setFilter] = useState('active');\n  useEffect(() => {\n    if (!restaurant) return;\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n\n        // Получаване на днешната дата\n        const today = new Date().toISOString().split('T')[0];\n\n        // Зареждане на специални предложения\n        let query = supabase.from('special_offers').select('*').eq('restaurant_id', restaurant.id);\n        if (filter === 'active') {\n          query = query.eq('active', true).lte('start_date', today).or(`end_date.gt.${today},end_date.is.null`);\n        } else if (filter === 'upcoming') {\n          query = query.gt('start_date', today);\n        } else if (filter === 'expired') {\n          query = query.lt('end_date', today).not('end_date', 'is', null);\n        } else if (filter === 'inactive') {\n          query = query.eq('active', false);\n        }\n        const {\n          data: offersData,\n          error: offersError\n        } = await query.order('start_date', {\n          ascending: false\n        });\n        if (offersError) throw offersError;\n        setOffers(offersData || []);\n\n        // Зареждане на категории от менюто\n        const {\n          data: categoriesData,\n          error: categoriesError\n        } = await supabase.from('menu_categories').select('*').eq('restaurant_id', restaurant.id).order('order', {\n          ascending: true\n        });\n        if (categoriesError) throw categoriesError;\n        setMenuCategories(categoriesData || []);\n\n        // Зареждане на продукти от менюто\n        const {\n          data: itemsData,\n          error: itemsError\n        } = await supabase.from('menu_items').select(`\n              id,\n              name,\n              category_id,\n              price,\n              menu_categories:category_id (name)\n            `).eq('restaurant_id', restaurant.id).order('name', {\n          ascending: true\n        });\n        if (itemsError) throw itemsError;\n        setMenuItems(itemsData || []);\n      } catch (error) {\n        console.error('Error fetching special offers data:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, [restaurant, filter, supabase]);\n  const handleInputChange = e => {\n    const {\n      name,\n      value,\n      type,\n      checked\n    } = e.target;\n    setFormData({\n      ...formData,\n      [name]: type === 'checkbox' ? checked : name === 'discount_value' || name === 'min_order' || name === 'max_uses' ? value === '' ? '' : parseFloat(value) : value\n    });\n  };\n  const handleDaysOfWeekChange = day => {\n    const updatedDays = [...formData.days_of_week];\n    const index = updatedDays.indexOf(day);\n    if (index > -1) {\n      updatedDays.splice(index, 1);\n    } else {\n      updatedDays.push(day);\n    }\n    setFormData({\n      ...formData,\n      days_of_week: updatedDays\n    });\n  };\n  const resetForm = () => {\n    setFormData({\n      title: '',\n      description: '',\n      discount_type: 'percentage',\n      discount_value: '',\n      start_date: '',\n      end_date: '',\n      days_of_week: [],\n      start_time: '',\n      end_time: '',\n      min_order: '',\n      max_uses: '',\n      image_url: '',\n      active: true,\n      applies_to: 'all',\n      applies_to_id: ''\n    });\n    setEditingId(null);\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      // Валидация\n      if (formData.discount_type !== 'free_item' && (formData.discount_value === '' || parseFloat(formData.discount_value) <= 0)) {\n        alert('Моля, въведете валидна стойност на отстъпката');\n        return;\n      }\n      if (formData.discount_type === 'percentage' && parseFloat(formData.discount_value) > 100) {\n        alert('Процентната отстъпка не може да бъде по-голяма от 100%');\n        return;\n      }\n      if (formData.start_date && formData.end_date && formData.start_date > formData.end_date) {\n        alert('Крайната дата трябва да бъде след началната дата');\n        return;\n      }\n      if (formData.applies_to !== 'all' && !formData.applies_to_id) {\n        alert('Моля, изберете за какво се отнася специалното предложение');\n        return;\n      }\n\n      // Подготовка на данните\n      const fullData = {\n        ...formData,\n        restaurant_id: restaurant.id\n      };\n\n      // Конвертиране на празни стрингове към null\n      for (const key in fullData) {\n        if (fullData[key] === '') {\n          fullData[key] = null;\n        }\n      }\n      let result;\n      if (editingId) {\n        const {\n          data,\n          error\n        } = await supabase.from('special_offers').update(fullData).eq('id', editingId).select();\n        if (error) throw error;\n        result = data[0];\n\n        // Актуализиране на локалния списък\n        setOffers(offers.map(offer => offer.id === editingId ? {\n          ...offer,\n          ...result\n        } : offer));\n      } else {\n        const {\n          data,\n          error\n        } = await supabase.from('special_offers').insert([fullData]).select();\n        if (error) throw error;\n        result = data[0];\n\n        // Добавяне към локалния списък, ако съответства на текущия филтър\n        const today = new Date().toISOString().split('T')[0];\n        const isActive = result.active && (!result.start_date || result.start_date <= today) && (!result.end_date || result.end_date >= today);\n        const isUpcoming = result.start_date > today;\n        const isExpired = result.end_date && result.end_date < today;\n        if (filter === 'active' && isActive || filter === 'upcoming' && isUpcoming || filter === 'expired' && isExpired || filter === 'inactive' && !result.active || filter === 'all') {\n          setOffers([result, ...offers]);\n        }\n      }\n      resetForm();\n      setShowForm(false);\n    } catch (error) {\n      console.error('Error saving special offer:', error);\n      alert('Възникна грешка при запазване на специалното предложение');\n    }\n  };\n  const handleEdit = offer => {\n    setFormData({\n      title: offer.title,\n      description: offer.description || '',\n      discount_type: offer.discount_type,\n      discount_value: offer.discount_value !== null ? offer.discount_value.toString() : '',\n      start_date: offer.start_date || '',\n      end_date: offer.end_date || '',\n      days_of_week: offer.days_of_week || [],\n      start_time: offer.start_time || '',\n      end_time: offer.end_time || '',\n      min_order: offer.min_order !== null ? offer.min_order.toString() : '',\n      max_uses: offer.max_uses !== null ? offer.max_uses.toString() : '',\n      image_url: offer.image_url || '',\n      active: offer.active,\n      applies_to: offer.applies_to || 'all',\n      applies_to_id: offer.applies_to_id || ''\n    });\n    setEditingId(offer.id);\n    setShowForm(true);\n  };\n  const handleDelete = async id => {\n    if (!window.confirm(\"Сигурни ли сте, че искате да изтриете това специално предложение?\")) {\n      return;\n    }\n    try {\n      const {\n        error\n      } = await supabase.from('special_offers').delete().eq('id', id);\n      if (error) throw error;\n\n      // Премахване от локалния списък\n      setOffers(offers.filter(offer => offer.id !== id));\n    } catch (error) {\n      console.error('Error deleting special offer:', error);\n      alert('Възникна грешка при изтриване на специалното предложение');\n    }\n  };\n  const toggleActive = async (id, currentStatus) => {\n    try {\n      const {\n        error\n      } = await supabase.from('special_offers').update({\n        active: !currentStatus\n      }).eq('id', id);\n      if (error) throw error;\n\n      // Актуализиране на локалния списък\n      setOffers(offers.map(offer => offer.id === id ? {\n        ...offer,\n        active: !currentStatus\n      } : offer));\n    } catch (error) {\n      console.error('Error updating offer status:', error);\n      alert('Възникна грешка при промяна на статуса');\n    }\n  };\n  const handleFilterChange = newFilter => {\n    setFilter(newFilter);\n  };\n  const getAppliesText = offer => {\n    if (offer.applies_to === 'all') {\n      return 'Всички продукти';\n    } else if (offer.applies_to === 'category') {\n      const category = menuCategories.find(c => c.id === offer.applies_to_id);\n      return category ? `Категория: ${category.name}` : 'Неизвестна категория';\n    } else if (offer.applies_to === 'item') {\n      const item = menuItems.find(i => i.id === offer.applies_to_id);\n      return item ? `Продукт: ${item.name}` : 'Неизвестен продукт';\n    }\n    return '';\n  };\n  const formatDate = dateStr => {\n    if (!dateStr) return '';\n    const parts = dateStr.split('-');\n    return `${parts[2]}.${parts[1]}.${parts[0]}`;\n  };\n  const getDiscountText = offer => {\n    if (offer.discount_type === 'percentage') {\n      return `${offer.discount_value}% отстъпка`;\n    } else if (offer.discount_type === 'fixed') {\n      return `${offer.discount_value.toFixed(2)} лв. отстъпка`;\n    } else if (offer.discount_type === 'free_item') {\n      return 'Безплатен продукт';\n    }\n    return '';\n  };\n  const isOfferActive = offer => {\n    const today = new Date().toISOString().split('T')[0];\n    return offer.active && (!offer.start_date || offer.start_date <= today) && (!offer.end_date || offer.end_date >= today);\n  };\n  const getDaysOfWeekLabels = days => {\n    if (!days || days.length === 0) return 'Всички дни';\n    const dayMap = {\n      'monday': 'Пн',\n      'tuesday': 'Вт',\n      'wednesday': 'Ср',\n      'thursday': 'Чт',\n      'friday': 'Пт',\n      'saturday': 'Сб',\n      'sunday': 'Нд'\n    };\n    return days.map(day => dayMap[day]).join(', ');\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"\\u0417\\u0430\\u0440\\u0435\\u0436\\u0434\\u0430\\u043D\\u0435 \\u043D\\u0430 \\u0441\\u043F\\u0435\\u0446\\u0438\\u0430\\u043B\\u043D\\u0438 \\u043F\\u0440\\u0435\\u0434\\u043B\\u043E\\u0436\\u0435\\u043D\\u0438\\u044F...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2550,\n      columnNumber: 16\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"\\u0421\\u043F\\u0435\\u0446\\u0438\\u0430\\u043B\\u043D\\u0438 \\u043F\\u0440\\u0435\\u0434\\u043B\\u043E\\u0436\\u0435\\u043D\\u0438\\u044F: \", restaurant === null || restaurant === void 0 ? void 0 : restaurant.name]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2554,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-filters\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `admin-filter-btn ${filter === 'active' ? 'active' : ''}`,\n          onClick: () => handleFilterChange('active'),\n          children: \"\\u0410\\u043A\\u0442\\u0438\\u0432\\u043D\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2558,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `admin-filter-btn ${filter === 'upcoming' ? 'active' : ''}`,\n          onClick: () => handleFilterChange('upcoming'),\n          children: \"\\u041F\\u0440\\u0435\\u0434\\u0441\\u0442\\u043E\\u044F\\u0449\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2564,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `admin-filter-btn ${filter === 'expired' ? 'active' : ''}`,\n          onClick: () => handleFilterChange('expired'),\n          children: \"\\u0418\\u0437\\u0442\\u0435\\u043A\\u043B\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2570,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `admin-filter-btn ${filter === 'inactive' ? 'active' : ''}`,\n          onClick: () => handleFilterChange('inactive'),\n          children: \"\\u041D\\u0435\\u0430\\u043A\\u0442\\u0438\\u0432\\u043D\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2576,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `admin-filter-btn ${filter === 'all' ? 'active' : ''}`,\n          onClick: () => handleFilterChange('all'),\n          children: \"\\u0412\\u0441\\u0438\\u0447\\u043A\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2582,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2557,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"admin-add-btn\",\n        onClick: () => {\n          resetForm();\n          setShowForm(!showForm);\n        },\n        children: showForm ? 'Отказ' : 'Добави специално предложение'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2590,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2556,\n      columnNumber: 11\n    }, this), showForm && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-form-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: editingId ? 'Редактиране на специално предложение' : 'Ново специално предложение'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2604,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"admin-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u0417\\u0430\\u0433\\u043B\\u0430\\u0432\\u0438\\u0435\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2607,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"title\",\n            value: formData.title,\n            onChange: handleInputChange,\n            required: true,\n            placeholder: \"\\u041D\\u0430\\u043F\\u0440.: \\u0429\\u0430\\u0441\\u0442\\u043B\\u0438\\u0432 \\u0447\\u0430\\u0441, 2+1 \\u0431\\u0435\\u0437\\u043F\\u043B\\u0430\\u0442\\u043D\\u043E \\u0438 \\u0442.\\u043D.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2608,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2606,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2619,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            name: \"description\",\n            value: formData.description,\n            onChange: handleInputChange,\n            rows: \"3\",\n            placeholder: \"\\u041F\\u043E\\u0434\\u0440\\u043E\\u0431\\u043D\\u043E \\u043E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435 \\u043D\\u0430 \\u0441\\u043F\\u0435\\u0446\\u0438\\u0430\\u043B\\u043D\\u043E\\u0442\\u043E \\u043F\\u0440\\u0435\\u0434\\u043B\\u043E\\u0436\\u0435\\u043D\\u0438\\u0435\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2620,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2618,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u0422\\u0438\\u043F \\u043E\\u0442\\u0441\\u0442\\u044A\\u043F\\u043A\\u0430\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2631,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"discount_type\",\n              value: formData.discount_type,\n              onChange: handleInputChange,\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"percentage\",\n                children: \"\\u041F\\u0440\\u043E\\u0446\\u0435\\u043D\\u0442 (%)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2638,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"fixed\",\n                children: \"\\u0424\\u0438\\u043A\\u0441\\u0438\\u0440\\u0430\\u043D\\u0430 \\u0441\\u0443\\u043C\\u0430 (\\u043B\\u0432.)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2639,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"free_item\",\n                children: \"\\u0411\\u0435\\u0437\\u043F\\u043B\\u0430\\u0442\\u0435\\u043D \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2640,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2632,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2630,\n            columnNumber: 19\n          }, this), formData.discount_type !== 'free_item' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u0421\\u0442\\u043E\\u0439\\u043D\\u043E\\u0441\\u0442 \\u043D\\u0430 \\u043E\\u0442\\u0441\\u0442\\u044A\\u043F\\u043A\\u0430\\u0442\\u0430\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2646,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              name: \"discount_value\",\n              value: formData.discount_value,\n              onChange: handleInputChange,\n              min: formData.discount_type === 'percentage' ? 1 : 0.01,\n              max: formData.discount_type === 'percentage' ? 100 : undefined,\n              step: formData.discount_type === 'percentage' ? 1 : 0.01,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2647,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2645,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2629,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u041D\\u0430\\u0447\\u0430\\u043B\\u043D\\u0430 \\u0434\\u0430\\u0442\\u0430\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2663,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              name: \"start_date\",\n              value: formData.start_date,\n              onChange: handleInputChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2664,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2662,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u041A\\u0440\\u0430\\u0439\\u043D\\u0430 \\u0434\\u0430\\u0442\\u0430\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2673,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              name: \"end_date\",\n              value: formData.end_date,\n              onChange: handleInputChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2674,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2672,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2661,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u0412 \\u043A\\u043E\\u0438 \\u0434\\u043D\\u0438 \\u043E\\u0442 \\u0441\\u0435\\u0434\\u043C\\u0438\\u0446\\u0430\\u0442\\u0430 \\u0432\\u0430\\u0436\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2684,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"days-of-week-container\",\n            children: ['monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday', 'sunday'].map(day => /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"day-checkbox\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: formData.days_of_week.includes(day),\n                onChange: () => handleDaysOfWeekChange(day)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2688,\n                columnNumber: 25\n              }, this), day === 'monday' ? 'Пн' : day === 'tuesday' ? 'Вт' : day === 'wednesday' ? 'Ср' : day === 'thursday' ? 'Чт' : day === 'friday' ? 'Пт' : day === 'saturday' ? 'Сб' : 'Нд']\n            }, day, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2687,\n              columnNumber: 23\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2685,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n            children: \"\\u041E\\u0441\\u0442\\u0430\\u0432\\u0435\\u0442\\u0435 \\u0432\\u0441\\u0438\\u0447\\u043A\\u0438 \\u043F\\u0440\\u0430\\u0437\\u043D\\u0438, \\u0437\\u0430 \\u0434\\u0430 \\u0432\\u0430\\u0436\\u0438 \\u0432\\u0441\\u0435\\u043A\\u0438 \\u0434\\u0435\\u043D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2702,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2683,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u041D\\u0430\\u0447\\u0430\\u043B\\u0435\\u043D \\u0447\\u0430\\u0441\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2706,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"time\",\n              name: \"start_time\",\n              value: formData.start_time,\n              onChange: handleInputChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2707,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2705,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u041A\\u0440\\u0430\\u0435\\u043D \\u0447\\u0430\\u0441\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2716,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"time\",\n              name: \"end_time\",\n              value: formData.end_time,\n              onChange: handleInputChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2717,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2715,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2704,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u041C\\u0438\\u043D\\u0438\\u043C\\u0430\\u043B\\u043D\\u0430 \\u043F\\u043E\\u0440\\u044A\\u0447\\u043A\\u0430 (\\u043B\\u0432.)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2728,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              name: \"min_order\",\n              value: formData.min_order,\n              onChange: handleInputChange,\n              min: \"0\",\n              step: \"0.01\",\n              placeholder: \"\\u041E\\u0441\\u0442\\u0430\\u0432\\u0435\\u0442\\u0435 \\u043F\\u0440\\u0430\\u0437\\u043D\\u043E, \\u0430\\u043A\\u043E \\u043D\\u044F\\u043C\\u0430\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2729,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2727,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u041C\\u0430\\u043A\\u0441\\u0438\\u043C\\u0430\\u043B\\u0435\\u043D \\u0431\\u0440\\u043E\\u0439 \\u0438\\u0437\\u043F\\u043E\\u043B\\u0437\\u0432\\u0430\\u043D\\u0438\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2741,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              name: \"max_uses\",\n              value: formData.max_uses,\n              onChange: handleInputChange,\n              min: \"1\",\n              placeholder: \"\\u041E\\u0441\\u0442\\u0430\\u0432\\u0435\\u0442\\u0435 \\u043F\\u0440\\u0430\\u0437\\u043D\\u043E, \\u0430\\u043A\\u043E \\u043D\\u044F\\u043C\\u0430 \\u043B\\u0438\\u043C\\u0438\\u0442\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2742,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2740,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2726,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"URL \\u043D\\u0430 \\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2754,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"url\",\n            name: \"image_url\",\n            value: formData.image_url,\n            onChange: handleInputChange,\n            placeholder: \"http://example.com/image.jpg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2755,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2753,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u0417\\u0430 \\u043A\\u0430\\u043A\\u0432\\u043E \\u0441\\u0435 \\u043E\\u0442\\u043D\\u0430\\u0441\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2765,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"applies_to\",\n            value: formData.applies_to,\n            onChange: handleInputChange,\n            required: true,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"all\",\n              children: \"\\u0412\\u0441\\u0438\\u0447\\u043A\\u0438 \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\\u0438\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2772,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"category\",\n              children: \"\\u041A\\u043E\\u043D\\u043A\\u0440\\u0435\\u0442\\u043D\\u0430 \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2773,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"item\",\n              children: \"\\u041A\\u043E\\u043D\\u043A\\u0440\\u0435\\u0442\\u0435\\u043D \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2774,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2766,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2764,\n          columnNumber: 13\n        }, this), formData.applies_to === 'category' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u0418\\u0437\\u0431\\u0435\\u0440\\u0435\\u0442\\u0435 \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2780,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"applies_to_id\",\n            value: formData.applies_to_id,\n            onChange: handleInputChange,\n            required: true,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"\\u0418\\u0437\\u0431\\u0435\\u0440\\u0435\\u0442\\u0435 \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2787,\n              columnNumber: 19\n            }, this), menuCategories.map(category => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: category.id,\n              children: category.name\n            }, category.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2789,\n              columnNumber: 21\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2781,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2779,\n          columnNumber: 15\n        }, this), formData.applies_to === 'item' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u0418\\u0437\\u0431\\u0435\\u0440\\u0435\\u0442\\u0435 \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2799,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"applies_to_id\",\n            value: formData.applies_to_id,\n            onChange: handleInputChange,\n            required: true,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"\\u0418\\u0437\\u0431\\u0435\\u0440\\u0435\\u0442\\u0435 \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2806,\n              columnNumber: 19\n            }, this), menuItems.map(item => {\n              var _item$menu_categories2, _item$price2;\n              return /*#__PURE__*/_jsxDEV(\"option\", {\n                value: item.id,\n                children: [item.name, \" (\", ((_item$menu_categories2 = item.menu_categories) === null || _item$menu_categories2 === void 0 ? void 0 : _item$menu_categories2.name) || 'Без категория', \") - \", (_item$price2 = item.price) === null || _item$price2 === void 0 ? void 0 : _item$price2.toFixed(2), \" \\u043B\\u0432.\"]\n              }, item.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2808,\n                columnNumber: 21\n              }, this);\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2800,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2798,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group checkbox-group\",\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              name: \"active\",\n              checked: formData.active,\n              onChange: handleInputChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2818,\n              columnNumber: 17\n            }, this), \"\\u0410\\u043A\\u0442\\u0438\\u0432\\u043D\\u043E\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2817,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2816,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"admin-cancel-btn\",\n            onClick: () => setShowForm(false),\n            children: \"\\u041E\\u0442\\u043A\\u0430\\u0437\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2829,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"admin-submit-btn\",\n            children: editingId ? 'Запази промените' : 'Добави специално предложение'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2832,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2828,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2605,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2603,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-table-container\",\n      children: offers.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-no-data\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u041D\\u044F\\u043C\\u0430 \\u043D\\u0430\\u043C\\u0435\\u0440\\u0435\\u043D\\u0438 \\u0441\\u043F\\u0435\\u0446\\u0438\\u0430\\u043B\\u043D\\u0438 \\u043F\\u0440\\u0435\\u0434\\u043B\\u043E\\u0436\\u0435\\u043D\\u0438\\u044F.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2843,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2842,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"special-offers-grid\",\n        children: offers.map(offer => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `special-offer-card ${isOfferActive(offer) ? 'active' : 'inactive'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"special-offer-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: offer.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2850,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"special-offer-status\",\n              children: isOfferActive(offer) ? /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"status-badge active\",\n                children: \"\\u0410\\u043A\\u0442\\u0438\\u0432\\u043D\\u043E\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2853,\n                columnNumber: 23\n              }, this) : offer.active ? offer.start_date && new Date(offer.start_date) > new Date() ? /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"status-badge upcoming\",\n                children: \"\\u041F\\u0440\\u0435\\u0434\\u0441\\u0442\\u043E\\u044F\\u0449\\u043E\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2857,\n                columnNumber: 27\n              }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"status-badge expired\",\n                children: \"\\u0418\\u0437\\u0442\\u0435\\u043A\\u043B\\u043E\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2859,\n                columnNumber: 27\n              }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"status-badge inactive\",\n                children: \"\\u041D\\u0435\\u0430\\u043A\\u0442\\u0438\\u0432\\u043D\\u043E\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2862,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2851,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2849,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"special-offer-content\",\n            children: [offer.image_url && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"special-offer-image\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: offer.image_url,\n                alt: offer.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2871,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2870,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"special-offer-details\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"special-offer-discount\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-tag\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2877,\n                  columnNumber: 23\n                }, this), \" \", getDiscountText(offer)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2876,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"special-offer-applies-to\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-shopping-basket\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2881,\n                  columnNumber: 23\n                }, this), \" \", getAppliesText(offer)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2880,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"special-offer-period\",\n                children: [(offer.start_date || offer.end_date) && /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-calendar-alt\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2887,\n                    columnNumber: 27\n                  }, this), offer.start_date ? formatDate(offer.start_date) : 'Без начална дата', \" -\", offer.end_date ? formatDate(offer.end_date) : 'Без крайна дата']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2886,\n                  columnNumber: 25\n                }, this), offer.days_of_week && offer.days_of_week.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-calendar-week\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2895,\n                    columnNumber: 27\n                  }, this), \" \", getDaysOfWeekLabels(offer.days_of_week)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2894,\n                  columnNumber: 25\n                }, this), (offer.start_time || offer.end_time) && /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-clock\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2901,\n                    columnNumber: 27\n                  }, this), offer.start_time || '00:00', \" - \", offer.end_time || '23:59']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2900,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2884,\n                columnNumber: 21\n              }, this), offer.description && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"special-offer-description\",\n                children: offer.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2908,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"special-offer-conditions\",\n                children: [offer.min_order > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-shopping-cart\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2914,\n                    columnNumber: 27\n                  }, this), \" \\u041C\\u0438\\u043D\\u0438\\u043C\\u0430\\u043B\\u043D\\u0430 \\u043F\\u043E\\u0440\\u044A\\u0447\\u043A\\u0430: \", offer.min_order.toFixed(2), \" \\u043B\\u0432.\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2913,\n                  columnNumber: 25\n                }, this), offer.max_uses > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-ticket-alt\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2920,\n                    columnNumber: 27\n                  }, this), \" \\u041C\\u0430\\u043A\\u0441\\u0438\\u043C\\u0430\\u043B\\u0435\\u043D \\u0431\\u0440\\u043E\\u0439 \\u0438\\u0437\\u043F\\u043E\\u043B\\u0437\\u0432\\u0430\\u043D\\u0438\\u044F: \", offer.max_uses]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2919,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2911,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2875,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2868,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"special-offer-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"admin-action-btn toggle-active\",\n              onClick: () => toggleActive(offer.id, offer.active),\n              title: offer.active ? 'Деактивирай' : 'Активирай',\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: `fas fa-${offer.active ? 'toggle-off' : 'toggle-on'}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2933,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2928,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"admin-action-btn edit\",\n              onClick: () => handleEdit(offer),\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-edit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2939,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2935,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"admin-action-btn delete\",\n              onClick: () => handleDelete(offer.id),\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-trash\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2945,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2941,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2927,\n            columnNumber: 17\n          }, this)]\n        }, offer.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2848,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2846,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2840,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 2553,\n    columnNumber: 9\n  }, this);\n}\n// Подсекция Галерия\n_s7(AdminSpecialOffersSection, \"eWJoPwtmXSgAd9L3t5ImeaP6lUI=\");\n_c7 = AdminSpecialOffersSection;\nfunction AdminGallerySection({\n  restaurant,\n  supabase\n}) {\n  _s8();\n  const [galleryItems, setGalleryItems] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showForm, setShowForm] = useState(false);\n  const [formData, setFormData] = useState({\n    title: '',\n    description: '',\n    image_url: '',\n    type: 'general',\n    // 'general', 'food', 'interior', 'exterior', 'events'\n    order: 0,\n    is_featured: false\n  });\n  const [editingId, setEditingId] = useState(null);\n  const [filter, setFilter] = useState('all');\n  const [isUploading, setIsUploading] = useState(false);\n  const [uploadProgress, setUploadProgress] = useState(0);\n  const fileInputRef = useRef(null);\n  useEffect(() => {\n    if (!restaurant) return;\n    const fetchGallery = async () => {\n      try {\n        setLoading(true);\n        let query = supabase.from('gallery').select('*').eq('restaurant_id', restaurant.id);\n        if (filter !== 'all') {\n          query = query.eq('type', filter);\n        }\n        const {\n          data,\n          error\n        } = await query.order('is_featured', {\n          ascending: false\n        }).order('order', {\n          ascending: true\n        });\n        if (error) throw error;\n        setGalleryItems(data || []);\n      } catch (error) {\n        console.error('Error fetching gallery:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchGallery();\n  }, [restaurant, filter, supabase]);\n  const handleInputChange = e => {\n    const {\n      name,\n      value,\n      type,\n      checked\n    } = e.target;\n    setFormData({\n      ...formData,\n      [name]: type === 'checkbox' ? checked : name === 'order' ? parseInt(value, 10) : value\n    });\n  };\n  const resetForm = () => {\n    setFormData({\n      title: '',\n      description: '',\n      image_url: '',\n      type: 'general',\n      order: galleryItems.length > 0 ? Math.max(...galleryItems.map(item => item.order || 0)) + 1 : 0,\n      is_featured: false\n    });\n    setEditingId(null);\n    if (fileInputRef.current) {\n      fileInputRef.current.value = '';\n    }\n  };\n  const handleFileChange = async e => {\n    const file = e.target.files[0];\n    if (!file) return;\n\n    // Проверка на типа файл\n    if (!['image/jpeg', 'image/png', 'image/webp', 'image/gif'].includes(file.type)) {\n      alert('Моля, качете изображение (JPEG, PNG, WEBP, GIF)');\n      if (fileInputRef.current) {\n        fileInputRef.current.value = '';\n      }\n      return;\n    }\n\n    // Проверка на размера (максимум 5MB)\n    if (file.size > 5 * 1024 * 1024) {\n      alert('Размерът на файла не може да надвишава 5MB');\n      if (fileInputRef.current) {\n        fileInputRef.current.value = '';\n      }\n      return;\n    }\n    try {\n      setIsUploading(true);\n      setUploadProgress(0);\n\n      // Генериране на уникално име на файла\n      const fileExt = file.name.split('.').pop();\n      const fileName = `${restaurant.id}/${Date.now()}.${fileExt}`;\n\n      // Качване на файла в Supabase Storage\n      const {\n        data,\n        error\n      } = await supabase.storage.from('gallery_images').upload(fileName, file, {\n        cacheControl: '3600',\n        upsert: false,\n        onUploadProgress: progress => {\n          setUploadProgress(Math.round(progress.loaded / progress.total * 100));\n        }\n      });\n      if (error) throw error;\n\n      // Получаване на публичен URL на качения файл\n      const {\n        data: urlData\n      } = supabase.storage.from('gallery_images').getPublicUrl(data.path);\n\n      // Актуализиране на формата с URL-а на изображението\n      setFormData({\n        ...formData,\n        image_url: urlData.publicUrl\n      });\n      setIsUploading(false);\n    } catch (error) {\n      console.error('Error uploading image:', error);\n      alert('Възникна грешка при качване на изображението');\n      setIsUploading(false);\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!formData.image_url) {\n      alert('Моля, качете или въведете URL на изображение');\n      return;\n    }\n    try {\n      const fullData = {\n        ...formData,\n        restaurant_id: restaurant.id\n      };\n      let result;\n      if (editingId) {\n        const {\n          data,\n          error\n        } = await supabase.from('gallery').update(fullData).eq('id', editingId).select();\n        if (error) throw error;\n        result = data[0];\n\n        // Актуализиране на локалния списък\n        setGalleryItems(galleryItems.map(item => item.id === editingId ? {\n          ...item,\n          ...result\n        } : item));\n      } else {\n        const {\n          data,\n          error\n        } = await supabase.from('gallery').insert([fullData]).select();\n        if (error) throw error;\n        result = data[0];\n\n        // Добавяне към локалния списък, ако съответства на текущия филтър\n        if (filter === 'all' || filter === result.type) {\n          setGalleryItems([...galleryItems, result]);\n        }\n      }\n      resetForm();\n      setShowForm(false);\n    } catch (error) {\n      console.error('Error saving gallery item:', error);\n      alert('Възникна грешка при запазване на изображението');\n    }\n  };\n  const handleEdit = item => {\n    setFormData({\n      title: item.title || '',\n      description: item.description || '',\n      image_url: item.image_url,\n      type: item.type || 'general',\n      order: item.order || 0,\n      is_featured: item.is_featured || false\n    });\n    setEditingId(item.id);\n    setShowForm(true);\n  };\n  const handleDelete = async (id, imageUrl) => {\n    if (!window.confirm(\"Сигурни ли сте, че искате да изтриете това изображение?\")) {\n      return;\n    }\n    try {\n      // Изтриване на записа от базата данни\n      const {\n        error\n      } = await supabase.from('gallery').delete().eq('id', id);\n      if (error) throw error;\n\n      // Опит за изтриване на файла от Storage (ако е в нашия Storage)\n      if (imageUrl.includes('supabase') && imageUrl.includes('/storage/v1/object/public/gallery_images/')) {\n        try {\n          const path = imageUrl.split('/gallery_images/')[1];\n          if (path) {\n            await supabase.storage.from('gallery_images').remove([path]);\n          }\n        } catch (storageError) {\n          console.error('Error deleting file from storage:', storageError);\n          // Не прекъсваме процеса, ако изтриването от storage се провали\n        }\n      }\n\n      // Премахване от локалния списък\n      setGalleryItems(galleryItems.filter(item => item.id !== id));\n    } catch (error) {\n      console.error('Error deleting gallery item:', error);\n      alert('Възникна грешка при изтриване на изображението');\n    }\n  };\n  const toggleFeatured = async (id, currentStatus) => {\n    try {\n      const {\n        error\n      } = await supabase.from('gallery').update({\n        is_featured: !currentStatus\n      }).eq('id', id);\n      if (error) throw error;\n\n      // Актуализиране на локалния списък\n      setGalleryItems(galleryItems.map(item => item.id === id ? {\n        ...item,\n        is_featured: !currentStatus\n      } : item));\n    } catch (error) {\n      console.error('Error updating featured status:', error);\n      alert('Възникна грешка при промяна на статуса');\n    }\n  };\n  const handleFilterChange = newFilter => {\n    setFilter(newFilter);\n  };\n  const getTypeLabel = type => {\n    switch (type) {\n      case 'food':\n        return 'Храна';\n      case 'interior':\n        return 'Интериор';\n      case 'exterior':\n        return 'Екстериор';\n      case 'events':\n        return 'Събития';\n      default:\n        return 'Общи';\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"\\u0417\\u0430\\u0440\\u0435\\u0436\\u0434\\u0430\\u043D\\u0435 \\u043D\\u0430 \\u0433\\u0430\\u043B\\u0435\\u0440\\u0438\\u044F...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 3229,\n      columnNumber: 16\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"\\u0413\\u0430\\u043B\\u0435\\u0440\\u0438\\u044F \\u0438 \\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u044F: \", restaurant === null || restaurant === void 0 ? void 0 : restaurant.name]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 3233,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-filters\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `admin-filter-btn ${filter === 'all' ? 'active' : ''}`,\n          onClick: () => handleFilterChange('all'),\n          children: \"\\u0412\\u0441\\u0438\\u0447\\u043A\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3237,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `admin-filter-btn ${filter === 'general' ? 'active' : ''}`,\n          onClick: () => handleFilterChange('general'),\n          children: \"\\u041E\\u0431\\u0449\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3243,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `admin-filter-btn ${filter === 'food' ? 'active' : ''}`,\n          onClick: () => handleFilterChange('food'),\n          children: \"\\u0425\\u0440\\u0430\\u043D\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3249,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `admin-filter-btn ${filter === 'interior' ? 'active' : ''}`,\n          onClick: () => handleFilterChange('interior'),\n          children: \"\\u0418\\u043D\\u0442\\u0435\\u0440\\u0438\\u043E\\u0440\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3255,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `admin-filter-btn ${filter === 'exterior' ? 'active' : ''}`,\n          onClick: () => handleFilterChange('exterior'),\n          children: \"\\u0415\\u043A\\u0441\\u0442\\u0435\\u0440\\u0438\\u043E\\u0440\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3261,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `admin-filter-btn ${filter === 'events' ? 'active' : ''}`,\n          onClick: () => handleFilterChange('events'),\n          children: \"\\u0421\\u044A\\u0431\\u0438\\u0442\\u0438\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3267,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 3236,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"admin-add-btn\",\n        onClick: () => {\n          resetForm();\n          setShowForm(!showForm);\n        },\n        children: showForm ? 'Отказ' : 'Добави изображение'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3275,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 3235,\n      columnNumber: 11\n    }, this), showForm && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-form-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: editingId ? 'Редактиране на изображение' : 'Ново изображение'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3289,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"admin-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u0417\\u0430\\u0433\\u043B\\u0430\\u0432\\u0438\\u0435\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3292,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"title\",\n            value: formData.title,\n            onChange: handleInputChange,\n            placeholder: \"\\u0417\\u0430\\u0433\\u043B\\u0430\\u0432\\u0438\\u0435 \\u043D\\u0430 \\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435\\u0442\\u043E (\\u043D\\u0435\\u0437\\u0430\\u0434\\u044A\\u043B\\u0436\\u0438\\u0442\\u0435\\u043B\\u043D\\u043E)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3293,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3291,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3303,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            name: \"description\",\n            value: formData.description,\n            onChange: handleInputChange,\n            rows: \"2\",\n            placeholder: \"\\u041A\\u0440\\u0430\\u0442\\u043A\\u043E \\u043E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435 (\\u043D\\u0435\\u0437\\u0430\\u0434\\u044A\\u043B\\u0436\\u0438\\u0442\\u0435\\u043B\\u043D\\u043E)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3304,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3302,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u041A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3314,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"type\",\n            value: formData.type,\n            onChange: handleInputChange,\n            required: true,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"general\",\n              children: \"\\u041E\\u0431\\u0449\\u0438\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3321,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"food\",\n              children: \"\\u0425\\u0440\\u0430\\u043D\\u0430\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3322,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"interior\",\n              children: \"\\u0418\\u043D\\u0442\\u0435\\u0440\\u0438\\u043E\\u0440\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3323,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"exterior\",\n              children: \"\\u0415\\u043A\\u0441\\u0442\\u0435\\u0440\\u0438\\u043E\\u0440\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3324,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"events\",\n              children: \"\\u0421\\u044A\\u0431\\u0438\\u0442\\u0438\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3325,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3315,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3313,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u0420\\u0435\\u0434 \\u043D\\u0430 \\u043F\\u043E\\u043A\\u0430\\u0437\\u0432\\u0430\\u043D\\u0435\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3331,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              name: \"order\",\n              value: formData.order,\n              onChange: handleInputChange,\n              min: \"0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3332,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3330,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group checkbox-group\",\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                name: \"is_featured\",\n                checked: formData.is_featured,\n                onChange: handleInputChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3343,\n                columnNumber: 23\n              }, this), \"Featured \\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435 (\\u043F\\u043E\\u043A\\u0430\\u0437\\u0432\\u0430 \\u0441\\u0435 \\u043D\\u0430 \\u043D\\u0430\\u0447\\u0430\\u043B\\u043D\\u0430\\u0442\\u0430 \\u0441\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0430)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3342,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3341,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3329,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u0418\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3355,\n            columnNumber: 19\n          }, this), formData.image_url ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"image-preview\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: formData.image_url,\n              alt: \"\\u041F\\u0440\\u0435\\u0434\\u0432\\u0430\\u0440\\u0438\\u0442\\u0435\\u043B\\u0435\\u043D \\u043F\\u0440\\u0435\\u0433\\u043B\\u0435\\u0434\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3358,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => setFormData({\n                ...formData,\n                image_url: ''\n              }),\n              className: \"remove-image-btn\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-times\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3364,\n                columnNumber: 25\n              }, this), \" \\u041F\\u0440\\u0435\\u043C\\u0430\\u0445\\u043D\\u0438\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3359,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3357,\n            columnNumber: 21\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"upload-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              accept: \"image/*\",\n              onChange: handleFileChange,\n              disabled: isUploading,\n              ref: fileInputRef\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3369,\n              columnNumber: 23\n            }, this), isUploading && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"upload-progress\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"progress-bar\",\n                style: {\n                  width: `${uploadProgress}%`\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3378,\n                columnNumber: 27\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [uploadProgress, \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3382,\n                columnNumber: 27\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3377,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"upload-separator\",\n              children: \"\\u0438\\u043B\\u0438\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3385,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"url\",\n              name: \"image_url\",\n              value: formData.image_url,\n              onChange: handleInputChange,\n              placeholder: \"\\u0412\\u044A\\u0432\\u0435\\u0434\\u0435\\u0442\\u0435 URL \\u043D\\u0430 \\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435\",\n              disabled: isUploading\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3386,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3368,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3354,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"admin-cancel-btn\",\n            onClick: () => setShowForm(false),\n            children: \"\\u041E\\u0442\\u043A\\u0430\\u0437\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3399,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"admin-submit-btn\",\n            disabled: isUploading,\n            children: editingId ? 'Запази промените' : 'Добави изображение'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3402,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3398,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 3290,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 3288,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-gallery-container\",\n      children: galleryItems.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-no-data\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u041D\\u044F\\u043C\\u0430 \\u0434\\u043E\\u0431\\u0430\\u0432\\u0435\\u043D\\u0438 \\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u044F \\u0432 \\u0442\\u0430\\u0437\\u0438 \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3417,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3416,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-gallery-grid\",\n        children: galleryItems.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `gallery-item ${item.is_featured ? 'featured' : ''}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"gallery-image\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: item.image_url,\n              alt: item.title || 'Изображение на галерия'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3424,\n              columnNumber: 19\n            }, this), item.is_featured && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"featured-badge\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-star\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3427,\n                columnNumber: 23\n              }, this), \" Featured\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3426,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"gallery-overlay\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"gallery-action-btn view\",\n                onClick: () => window.open(item.image_url, '_blank'),\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-search-plus\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3435,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3431,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"gallery-action-btn star\",\n                onClick: () => toggleFeatured(item.id, item.is_featured),\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: `fas fa-${item.is_featured ? 'star' : 'star'}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3441,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3437,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"gallery-action-btn edit\",\n                onClick: () => handleEdit(item),\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-edit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3447,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3443,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"gallery-action-btn delete\",\n                onClick: () => handleDelete(item.id, item.image_url),\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-trash\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3453,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3449,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3430,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3423,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"gallery-info\",\n            children: [item.title && /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: item.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3458,\n              columnNumber: 34\n            }, this), item.description && /*#__PURE__*/_jsxDEV(\"p\", {\n              children: item.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3459,\n              columnNumber: 40\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"gallery-meta\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"gallery-type\",\n                children: getTypeLabel(item.type)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3461,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"gallery-order\",\n                children: [\"\\u0420\\u0435\\u0434: \", item.order]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3462,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3460,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3457,\n            columnNumber: 17\n          }, this)]\n        }, item.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3422,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3420,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 3414,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 3232,\n    columnNumber: 9\n  }, this);\n}\n_s8(AdminGallerySection, \"/yZ0tyXKetUSXmewEiqqcag378w=\");\n_c8 = AdminGallerySection;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n$RefreshReg$(_c, \"AdminDashboard\");\n$RefreshReg$(_c2, \"AdminDashboardSection\");\n$RefreshReg$(_c3, \"AdminReservationsSection\");\n$RefreshReg$(_c4, \"AdminTablesSection\");\n$RefreshReg$(_c5, \"AdminMenuSection\");\n$RefreshReg$(_c6, \"AdminEventsSection\");\n$RefreshReg$(_c7, \"AdminSpecialOffersSection\");\n$RefreshReg$(_c8, \"AdminGallerySection\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","useParams","useAuth","jsxDEV","_jsxDEV","Fragment","_Fragment","AdminDashboard","_s","user","userRole","isSuperAdmin","isRestaurantAdmin","supabase","signOut","section","setSection","restaurants","setRestaurants","selectedRestaurant","setSelectedRestaurant","loading","setLoading","navigate","urlSection","restaurantId","fetchData","restaurantsQuery","from","select","eq","restaurant_id","data","restaurantsData","error","restaurantsError","restaurant","find","r","id","length","console","handleSignOut","changeSection","newSection","changeRestaurant","selected","className","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","map","name","onClick","AdminDashboardSection","AdminReservationsSection","AdminMenuSection","AdminEventsSection","AdminSpecialOffersSection","AdminTablesSection","AdminGallerySection","_c","_s2","stats","setStats","reservationsToday","activeTables","totalTables","upcomingEvents","fetchStats","today","Date","toISOString","split","reservations","reservationsError","in","tables","tablesError","events","eventsError","gte","reservedTableIds","table_id","Set","size","window","location","href","address","phone","hours","description","_c2","_s3","setReservations","filter","setFilter","showForm","setShowForm","formData","setFormData","date","time","email","guests_count","status","setTables","editingId","setEditingId","fetchReservations","query","lt","order","ascending","tablesData","handleFilterChange","newFilter","handleInputChange","resetForm","handleSubmit","preventDefault","fullData","result","update","res","insert","alert","handleEdit","reservation","handleDelete","confirm","delete","onSubmit","type","required","table","table_number","capacity","min","_reservation$tables","_c3","_s4","position_x","position_y","available","notes","fetchTables","checked","parseInt","max","placeholder","style","top","left","width","height","_c4","_s5","categories","setCategories","menuItems","setMenuItems","price","category_id","is_available","image_url","allergens","recommended","showCategoryForm","setShowCategoryForm","categoryFormData","setCategoryFormData","editingCategoryId","setEditingCategoryId","selectedCategory","setSelectedCategory","fetchMenuData","categoriesData","categoriesError","menuData","menuError","parseFloat","handleCategoryInputChange","resetCategoryForm","Math","c","item","handleCategorySubmit","cat","toString","handleEditCategory","category","handleDeleteCategory","itemsInCategory","handleCategoryChange","categoryId","itemCount","disabled","step","_item$menu_categories","_item$price","src","alt","menu_categories","toFixed","_c5","_s6","setEvents","title","end_time","seats_available","is_published","is_private","view","setView","fetchEvents","event","isUpcoming","togglePublish","currentStatus","handleViewChange","newView","formatDate","dateStr","parts","rows","slice","_c6","_s7","offers","setOffers","discount_type","discount_value","start_date","end_date","days_of_week","start_time","min_order","max_uses","active","applies_to","applies_to_id","menuCategories","setMenuCategories","lte","or","gt","not","offersData","offersError","itemsData","itemsError","handleDaysOfWeekChange","day","updatedDays","index","indexOf","splice","push","key","offer","isActive","isExpired","toggleActive","getAppliesText","i","getDiscountText","isOfferActive","getDaysOfWeekLabels","days","dayMap","join","undefined","includes","_item$menu_categories2","_item$price2","_c7","_s8","galleryItems","setGalleryItems","is_featured","isUploading","setIsUploading","uploadProgress","setUploadProgress","fileInputRef","fetchGallery","current","handleFileChange","file","files","fileExt","pop","now","storage","upload","cacheControl","upsert","onUploadProgress","progress","round","loaded","total","urlData","getPublicUrl","path","publicUrl","imageUrl","remove","storageError","toggleFeatured","getTypeLabel","accept","ref","open","_c8","$RefreshReg$"],"sources":["D:/Belezza/restaurant-chain-app/src/pages/AdminDashboard.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport '../styles/Admin.css';\r\n\r\nfunction AdminDashboard() {\r\n  const { user, userRole, isSuperAdmin, isRestaurantAdmin, supabase, signOut } = useAuth();\r\n  const [section, setSection] = useState('dashboard');\r\n  const [restaurants, setRestaurants] = useState([]);\r\n  const [selectedRestaurant, setSelectedRestaurant] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const navigate = useNavigate();\r\n  const { section: urlSection, restaurantId } = useParams();\r\n\r\n  // Установяваме секцията от URL параметъра, ако е наличен\r\n  useEffect(() => {\r\n    if (urlSection) {\r\n      setSection(urlSection);\r\n    }\r\n  }, [urlSection]);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        \r\n        if (!user) {\r\n          navigate('/login');\r\n          return;\r\n        }\r\n        \r\n        // Проверка дали потребителят има админ права\r\n        if (!isSuperAdmin() && !isRestaurantAdmin()) {\r\n          navigate('/');\r\n          return;\r\n        }\r\n        \r\n        // Зареждане на ресторантите\r\n        let restaurantsQuery = supabase.from('restaurants').select('*');\r\n        \r\n        // Ако е ресторантски админ, филтрираме само за неговия ресторант\r\n        if (isRestaurantAdmin()) {\r\n          restaurantsQuery = restaurantsQuery.eq('id', userRole.restaurant_id);\r\n        }\r\n        \r\n        const { data: restaurantsData, error: restaurantsError } = await restaurantsQuery;\r\n        \r\n        if (restaurantsError) throw restaurantsError;\r\n        \r\n        setRestaurants(restaurantsData);\r\n        \r\n        // Избиране на ресторант от URL параметъра или по подразбиране\r\n        if (restaurantId) {\r\n          const restaurant = restaurantsData.find(r => r.id === restaurantId);\r\n          if (restaurant) {\r\n            setSelectedRestaurant(restaurant);\r\n          } else if (restaurantsData.length > 0) {\r\n            // Ако не намерим ресторанта от URL, избираме първия наличен\r\n            setSelectedRestaurant(restaurantsData[0]);\r\n          }\r\n        } else if (restaurantsData.length > 0) {\r\n          if (isRestaurantAdmin()) {\r\n            setSelectedRestaurant(restaurantsData[0]);\r\n          } else if (isSuperAdmin()) {\r\n            setSelectedRestaurant(restaurantsData[0]);\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error('Error loading admin data:', error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    \r\n    fetchData();\r\n  }, [user, userRole, isSuperAdmin, isRestaurantAdmin, navigate, restaurantId, supabase]);\r\n\r\n  const handleSignOut = async () => {\r\n    await signOut();\r\n    navigate('/login');\r\n  };\r\n\r\n  // Функция за смяна на секцията и обновяване на URL\r\n  const changeSection = (newSection) => {\r\n    setSection(newSection);\r\n    if (selectedRestaurant) {\r\n      navigate(`/admin/restaurant/${selectedRestaurant.id}/${newSection}`);\r\n    } else {\r\n      navigate(`/admin/${newSection}`);\r\n    }\r\n  };\r\n\r\n  // Функция за смяна на избрания ресторант и обновяване на URL\r\n  const changeRestaurant = (restaurantId) => {\r\n    const selected = restaurants.find(r => r.id === restaurantId);\r\n    setSelectedRestaurant(selected);\r\n    navigate(`/admin/restaurant/${restaurantId}/${section}`);\r\n  };\r\n\r\n  if (loading) {\r\n    return <div className=\"admin-loading\">Зареждане на администраторски панел...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"admin-container\">\r\n      <div className=\"admin-sidebar\">\r\n        <div className=\"admin-sidebar-header\">\r\n          <h2>Админ панел</h2>\r\n          <p>{isSuperAdmin() ? 'Главен администратор' : 'Ресторантски администратор'}</p>\r\n          \r\n          {isSuperAdmin() && restaurants.length > 0 && (\r\n            <div className=\"restaurant-selector\">\r\n              <label>Избран ресторант:</label>\r\n              <select \r\n                value={selectedRestaurant?.id || ''} \r\n                onChange={(e) => changeRestaurant(e.target.value)}\r\n              >\r\n                {restaurants.map((restaurant) => (\r\n                  <option key={restaurant.id} value={restaurant.id}>\r\n                    {restaurant.name}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n          )}\r\n        </div>\r\n        \r\n        <ul className=\"admin-menu\">\r\n          <li \r\n            className={section === 'dashboard' ? 'active' : ''}\r\n            onClick={() => changeSection('dashboard')}\r\n          >\r\n            <i className=\"fas fa-tachometer-alt\"></i> Табло\r\n          </li>\r\n          \r\n          <li \r\n            className={section === 'reservations' ? 'active' : ''}\r\n            onClick={() => changeSection('reservations')}\r\n          >\r\n            <i className=\"fas fa-calendar-check\"></i> Резервации\r\n          </li>\r\n          \r\n          <li \r\n            className={section === 'menu' ? 'active' : ''}\r\n            onClick={() => changeSection('menu')}\r\n          >\r\n            <i className=\"fas fa-utensils\"></i> Меню\r\n          </li>\r\n          \r\n          <li \r\n            className={section === 'events' ? 'active' : ''}\r\n            onClick={() => changeSection('events')}\r\n          >\r\n            <i className=\"fas fa-calendar-alt\"></i> Събития\r\n          </li>\r\n          \r\n          <li \r\n            className={section === 'special_offers' ? 'active' : ''}\r\n            onClick={() => changeSection('special_offers')}\r\n          >\r\n            <i className=\"fas fa-percentage\"></i> Специални предложения\r\n          </li>\r\n          \r\n          <li \r\n            className={section === 'tables' ? 'active' : ''}\r\n            onClick={() => changeSection('tables')}\r\n          >\r\n            <i className=\"fas fa-chair\"></i> Управление на маси\r\n          </li>\r\n\r\n          <li \r\n            className={section === 'gallery' ? 'active' : ''}\r\n            onClick={() => changeSection('gallery')}\r\n          >\r\n            <i className=\"fas fa-images\"></i> Галерия и изображения\r\n          </li>\r\n          \r\n          {isSuperAdmin() && (\r\n            <>\r\n              <li \r\n                className={section === 'restaurants' ? 'active' : ''}\r\n                onClick={() => changeSection('restaurants')}\r\n              >\r\n                <i className=\"fas fa-store\"></i> Управление на ресторанти\r\n              </li>\r\n              <li \r\n                className={section === 'admins' ? 'active' : ''}\r\n                onClick={() => changeSection('admins')}\r\n              >\r\n                <i className=\"fas fa-users-cog\"></i> Администратори\r\n              </li>\r\n              <li \r\n                className={section === 'reports' ? 'active' : ''}\r\n                onClick={() => changeSection('reports')}\r\n              >\r\n                <i className=\"fas fa-chart-bar\"></i> Отчети и статистика\r\n              </li>\r\n            </>\r\n          )}\r\n          \r\n          <li onClick={handleSignOut}>\r\n            <i className=\"fas fa-sign-out-alt\"></i> Изход\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      \r\n      <div className=\"admin-content\">\r\n        {section === 'dashboard' && (\r\n          <AdminDashboardSection restaurant={selectedRestaurant} supabase={supabase} />\r\n        )}\r\n        \r\n        {section === 'reservations' && (\r\n          <AdminReservationsSection restaurant={selectedRestaurant} supabase={supabase} />\r\n        )}\r\n        \r\n        {section === 'menu' && (\r\n          <AdminMenuSection restaurant={selectedRestaurant} supabase={supabase} />\r\n        )}\r\n        \r\n        {section === 'events' && (\r\n          <AdminEventsSection restaurant={selectedRestaurant} supabase={supabase} />\r\n        )}\r\n        \r\n        {section === 'special_offers' && (\r\n          <AdminSpecialOffersSection restaurant={selectedRestaurant} supabase={supabase} />\r\n        )}\r\n        \r\n        {section === 'tables' && (\r\n          <AdminTablesSection restaurant={selectedRestaurant} supabase={supabase} />\r\n        )}\r\n        \r\n        {section === 'gallery' && (\r\n          <AdminGallerySection restaurant={selectedRestaurant} supabase={supabase} />\r\n        )}\r\n        \r\n        {section === 'restaurants' && isSuperAdmin() && (\r\n          <div>\r\n            <h1>Управление на ресторанти</h1>\r\n            <p>Тук ще бъде секцията за управление на ресторанти</p>\r\n          </div>\r\n        )}\r\n        \r\n        {section === 'admins' && isSuperAdmin() && (\r\n          <div>\r\n            <h1>Управление на администратори</h1>\r\n            <p>Тук ще бъде секцията за управление на администратори</p>\r\n          </div>\r\n        )}\r\n        \r\n        {section === 'reports' && isSuperAdmin() && (\r\n          <div>\r\n            <h1>Отчети и статистика</h1>\r\n            <p>Тук ще бъде секцията за отчети и статистика</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Подсекция Табло\r\nfunction AdminDashboardSection({ restaurant, supabase }) {\r\n  const [stats, setStats] = useState({\r\n    reservationsToday: 0,\r\n    activeTables: 0,\r\n    totalTables: 0,\r\n    upcomingEvents: 0\r\n  });\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (!restaurant) return;\r\n    \r\n    const fetchStats = async () => {\r\n      try {\r\n        setLoading(true);\r\n        \r\n        // Получаване на днешната дата във формат YYYY-MM-DD\r\n        const today = new Date().toISOString().split('T')[0];\r\n        \r\n        // Заявка за резервации днес\r\n        const { data: reservations, error: reservationsError } = await supabase\r\n          .from('reservations')\r\n          .select('*')\r\n          .eq('restaurant_id', restaurant.id)\r\n          .eq('date', today)\r\n          .in('status', ['confirmed', 'pending']);\r\n        \r\n        if (reservationsError) throw reservationsError;\r\n        \r\n        // Заявка за всички маси в ресторанта\r\n        const { data: tables, error: tablesError } = await supabase\r\n          .from('tables')\r\n          .select('*')\r\n          .eq('restaurant_id', restaurant.id);\r\n        \r\n        if (tablesError) throw tablesError;\r\n        \r\n        // Заявка за предстоящи събития\r\n        const { data: events, error: eventsError } = await supabase\r\n          .from('events')\r\n          .select('*')\r\n          .eq('restaurant_id', restaurant.id)\r\n          .gte('date', today);\r\n        \r\n        if (eventsError) throw eventsError;\r\n        \r\n        // Изчисляване на заетите маси\r\n        const reservedTableIds = reservations.map(r => r.table_id);\r\n        const activeTables = new Set(reservedTableIds).size;\r\n        \r\n        setStats({\r\n          reservationsToday: reservations.length,\r\n          activeTables,\r\n          totalTables: tables.length,\r\n          upcomingEvents: events ? events.length : 0\r\n        });\r\n      } catch (error) {\r\n        console.error('Error fetching dashboard stats:', error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    \r\n    fetchStats();\r\n  }, [restaurant, supabase]);\r\n\r\n  if (loading) {\r\n    return <div>Зареждане на статистика...</div>;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>Табло: {restaurant?.name}</h1>\r\n      <div className=\"admin-stats-grid\">\r\n        <div className=\"admin-stat-card\">\r\n          <h3>Резервации днес</h3>\r\n          <p className=\"stat\">{stats.reservationsToday}</p>\r\n        </div>\r\n        \r\n        <div className=\"admin-stat-card\">\r\n          <h3>Активни маси</h3>\r\n          <p className=\"stat\">{stats.activeTables}/{stats.totalTables}</p>\r\n        </div>\r\n        \r\n        <div className=\"admin-stat-card\">\r\n          <h3>Предстоящи събития</h3>\r\n          <p className=\"stat\">{stats.upcomingEvents}</p>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"quick-actions\">\r\n        <h2>Бързи действия</h2>\r\n        <div className=\"admin-buttons-grid\">\r\n          <button className=\"admin-action-btn\" onClick={() => window.location.href = `/admin/restaurant/${restaurant?.id}/reservations`}>\r\n            <i className=\"fas fa-plus\"></i> Нова резервация\r\n          </button>\r\n          <button className=\"admin-action-btn\" onClick={() => window.location.href = `/admin/restaurant/${restaurant?.id}/events`}>\r\n            <i className=\"fas fa-calendar-plus\"></i> Добави събитие\r\n          </button>\r\n          <button className=\"admin-action-btn\" onClick={() => window.location.href = `/admin/restaurant/${restaurant?.id}/menu`}>\r\n            <i className=\"fas fa-utensils\"></i> Управление на меню\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"admin-info-section\">\r\n        <h2>Информация за ресторанта</h2>\r\n        {restaurant ? (\r\n          <div className=\"restaurant-details\">\r\n            <p><strong>Име:</strong> {restaurant.name}</p>\r\n            <p><strong>Адрес:</strong> {restaurant.address || 'Не е зададен'}</p>\r\n            <p><strong>Телефон:</strong> {restaurant.phone || 'Не е зададен'}</p>\r\n            <p><strong>Работно време:</strong> {restaurant.hours || 'Не е зададено'}</p>\r\n            {restaurant.description && (\r\n              <p><strong>Описание:</strong> {restaurant.description}</p>\r\n            )}\r\n          </div>\r\n        ) : (\r\n          <p>Няма избран ресторант</p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n// Подсекция Резервации\r\nfunction AdminReservationsSection({ restaurant, supabase }) {\r\n    const [reservations, setReservations] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [filter, setFilter] = useState('upcoming');\r\n    const [showForm, setShowForm] = useState(false);\r\n    const [formData, setFormData] = useState({\r\n      date: '',\r\n      time: '',\r\n      table_id: '',\r\n      name: '',\r\n      phone: '',\r\n      email: '',\r\n      guests_count: 2,\r\n      status: 'confirmed'\r\n    });\r\n    const [tables, setTables] = useState([]);\r\n    const [editingId, setEditingId] = useState(null);\r\n  \r\n    useEffect(() => {\r\n      if (!restaurant) return;\r\n  \r\n      const fetchReservations = async () => {\r\n        try {\r\n          setLoading(true);\r\n          \r\n          // Получаване на днешната дата\r\n          const today = new Date().toISOString().split('T')[0];\r\n          \r\n          // Съставяне на заявката според филтъра\r\n          let query = supabase\r\n            .from('reservations')\r\n            .select(`\r\n              *,\r\n              tables:table_id (table_number, capacity)\r\n            `)\r\n            .eq('restaurant_id', restaurant.id);\r\n          \r\n          if (filter === 'upcoming') {\r\n            query = query.gte('date', today);\r\n          } else if (filter === 'past') {\r\n            query = query.lt('date', today);\r\n          }\r\n          \r\n          // Изпълнение на заявката\r\n          const { data, error } = await query.order('date', { ascending: true });\r\n          \r\n          if (error) throw error;\r\n          \r\n          setReservations(data || []);\r\n          \r\n          // Зареждане на масите за формата\r\n          const { data: tablesData, error: tablesError } = await supabase\r\n            .from('tables')\r\n            .select('*')\r\n            .eq('restaurant_id', restaurant.id);\r\n          \r\n          if (tablesError) throw tablesError;\r\n          \r\n          setTables(tablesData || []);\r\n        } catch (error) {\r\n          console.error('Error fetching reservations:', error);\r\n        } finally {\r\n          setLoading(false);\r\n        }\r\n      };\r\n      \r\n      fetchReservations();\r\n    }, [restaurant, filter, supabase]);\r\n  \r\n    const handleFilterChange = (newFilter) => {\r\n      setFilter(newFilter);\r\n    };\r\n  \r\n    const handleInputChange = (e) => {\r\n      const { name, value } = e.target;\r\n      setFormData({\r\n        ...formData,\r\n        [name]: value\r\n      });\r\n    };\r\n  \r\n    const resetForm = () => {\r\n      setFormData({\r\n        date: '',\r\n        time: '',\r\n        table_id: '',\r\n        name: '',\r\n        phone: '',\r\n        email: '',\r\n        guests_count: 2,\r\n        status: 'confirmed'\r\n      });\r\n      setEditingId(null);\r\n    };\r\n  \r\n    const handleSubmit = async (e) => {\r\n      e.preventDefault();\r\n      \r\n      try {\r\n        const fullData = {\r\n          ...formData,\r\n          restaurant_id: restaurant.id\r\n        };\r\n        \r\n        let result;\r\n        \r\n        // Актуализиране на съществуваща резервация или създаване на нова\r\n        if (editingId) {\r\n          const { data, error } = await supabase\r\n            .from('reservations')\r\n            .update(fullData)\r\n            .eq('id', editingId)\r\n            .select();\r\n          \r\n          if (error) throw error;\r\n          result = data[0];\r\n          \r\n          // Актуализиране на локалния списък с резервации\r\n          setReservations(reservations.map(res => \r\n            res.id === editingId ? { ...res, ...result } : res\r\n          ));\r\n        } else {\r\n          const { data, error } = await supabase\r\n            .from('reservations')\r\n            .insert([fullData])\r\n            .select();\r\n          \r\n          if (error) throw error;\r\n          result = data[0];\r\n          \r\n          // Добавяне на новата резервация към локалния списък\r\n          setReservations([...reservations, result]);\r\n        }\r\n        \r\n        resetForm();\r\n        setShowForm(false);\r\n      } catch (error) {\r\n        console.error('Error saving reservation:', error);\r\n        alert('Възникна грешка при запазване на резервацията');\r\n      }\r\n    };\r\n  \r\n    const handleEdit = (reservation) => {\r\n      // Зареждане на формата с данните от избраната резервация\r\n      setFormData({\r\n        date: reservation.date,\r\n        time: reservation.time,\r\n        table_id: reservation.table_id,\r\n        name: reservation.name,\r\n        phone: reservation.phone,\r\n        email: reservation.email,\r\n        guests_count: reservation.guests_count,\r\n        status: reservation.status\r\n      });\r\n      setEditingId(reservation.id);\r\n      setShowForm(true);\r\n    };\r\n  \r\n    const handleDelete = async (id) => {\r\n      if (!window.confirm(\"Сигурни ли сте, че искате да изтриете тази резервация?\")) {\r\n        return;\r\n      }\r\n      \r\n      try {\r\n        const { error } = await supabase\r\n          .from('reservations')\r\n          .delete()\r\n          .eq('id', id);\r\n        \r\n        if (error) throw error;\r\n        \r\n        // Премахване на изтритата резервация от локалния списък\r\n        setReservations(reservations.filter(res => res.id !== id));\r\n      } catch (error) {\r\n        console.error('Error deleting reservation:', error);\r\n        alert('Възникна грешка при изтриване на резервацията');\r\n      }\r\n    };\r\n  \r\n    if (loading) {\r\n      return <div>Зареждане на резервации...</div>;\r\n    }\r\n  \r\n    return (\r\n      <div>\r\n        <h1>Резервации: {restaurant?.name}</h1>\r\n        \r\n        <div className=\"admin-controls\">\r\n          <div className=\"admin-filters\">\r\n            <button \r\n              className={`admin-filter-btn ${filter === 'upcoming' ? 'active' : ''}`} \r\n              onClick={() => handleFilterChange('upcoming')}\r\n            >\r\n              Предстоящи\r\n            </button>\r\n            <button \r\n              className={`admin-filter-btn ${filter === 'past' ? 'active' : ''}`} \r\n              onClick={() => handleFilterChange('past')}\r\n            >\r\n              Минали\r\n            </button>\r\n            <button \r\n              className={`admin-filter-btn ${filter === 'all' ? 'active' : ''}`} \r\n              onClick={() => handleFilterChange('all')}\r\n            >\r\n              Всички\r\n            </button>\r\n          </div>\r\n          \r\n          <button \r\n            className=\"admin-add-btn\"\r\n            onClick={() => {\r\n              resetForm();\r\n              setShowForm(!showForm);\r\n            }}\r\n          >\r\n            {showForm ? 'Отказ' : 'Добави резервация'}\r\n          </button>\r\n        </div>\r\n        \r\n        {showForm && (\r\n          <div className=\"admin-form-container\">\r\n            <h2>{editingId ? 'Редактиране на резервация' : 'Нова резервация'}</h2>\r\n            <form onSubmit={handleSubmit} className=\"admin-form\">\r\n              <div className=\"form-group\">\r\n                <label>Дата</label>\r\n                <input \r\n                  type=\"date\" \r\n                  name=\"date\" \r\n                  value={formData.date} \r\n                  onChange={handleInputChange} \r\n                  required \r\n                />\r\n              </div>\r\n              \r\n              <div className=\"form-group\">\r\n                <label>Час</label>\r\n                <input \r\n                  type=\"time\" \r\n                  name=\"time\" \r\n                  value={formData.time} \r\n                  onChange={handleInputChange} \r\n                  required \r\n                />\r\n              </div>\r\n              \r\n              <div className=\"form-group\">\r\n                <label>Маса</label>\r\n                <select \r\n                  name=\"table_id\" \r\n                  value={formData.table_id} \r\n                  onChange={handleInputChange} \r\n                  required\r\n                >\r\n                  <option value=\"\">Изберете маса</option>\r\n                  {tables.map(table => (\r\n                    <option key={table.id} value={table.id}>\r\n                      Маса {table.table_number} ({table.capacity} места)\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n              \r\n              <div className=\"form-group\">\r\n                <label>Име</label>\r\n                <input \r\n                  type=\"text\" \r\n                  name=\"name\" \r\n                  value={formData.name} \r\n                  onChange={handleInputChange} \r\n                  required \r\n                />\r\n              </div>\r\n              \r\n              <div className=\"form-group\">\r\n                <label>Телефон</label>\r\n                <input \r\n                  type=\"tel\" \r\n                  name=\"phone\" \r\n                  value={formData.phone} \r\n                  onChange={handleInputChange} \r\n                  required \r\n                />\r\n              </div>\r\n              \r\n              <div className=\"form-group\">\r\n                <label>Email</label>\r\n                <input \r\n                  type=\"email\" \r\n                  name=\"email\" \r\n                  value={formData.email} \r\n                  onChange={handleInputChange} \r\n                  required \r\n                />\r\n              </div>\r\n              \r\n              <div className=\"form-group\">\r\n                <label>Брой гости</label>\r\n                <input \r\n                  type=\"number\" \r\n                  name=\"guests_count\" \r\n                  value={formData.guests_count} \r\n                  onChange={handleInputChange} \r\n                  min=\"1\" \r\n                  required \r\n                />\r\n              </div>\r\n              \r\n              <div className=\"form-group\">\r\n                <label>Статус</label>\r\n                <select \r\n                  name=\"status\" \r\n                  value={formData.status} \r\n                  onChange={handleInputChange} \r\n                  required\r\n                >\r\n                  <option value=\"confirmed\">Потвърдена</option>\r\n                  <option value=\"pending\">Чакаща</option>\r\n                  <option value=\"cancelled\">Отказана</option>\r\n                </select>\r\n              </div>\r\n              \r\n              <div className=\"form-buttons\">\r\n                <button type=\"button\" className=\"admin-cancel-btn\" onClick={() => setShowForm(false)}>\r\n                  Отказ\r\n                </button>\r\n                <button type=\"submit\" className=\"admin-submit-btn\">\r\n                  {editingId ? 'Запази промените' : 'Добави резервация'}\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        )}\r\n        \r\n        <div className=\"admin-table-container\">\r\n          {reservations.length === 0 ? (\r\n            <div className=\"admin-no-data\">\r\n              <p>Няма намерени резервации.</p>\r\n            </div>\r\n          ) : (\r\n            <table className=\"admin-table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Дата</th>\r\n                  <th>Час</th>\r\n                  <th>Маса</th>\r\n                  <th>Клиент</th>\r\n                  <th>Телефон</th>\r\n                  <th>Гости</th>\r\n                  <th>Статус</th>\r\n                  <th>Действия</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {reservations.map(reservation => (\r\n                  <tr key={reservation.id} className={`status-${reservation.status}`}>\r\n                    <td>{reservation.date}</td>\r\n                    <td>{reservation.time}</td>\r\n                    <td>\r\n                      {reservation.tables?.table_number || 'Неизвестно'}\r\n                    </td>\r\n                    <td>{reservation.name}</td>\r\n                    <td>{reservation.phone}</td>\r\n                    <td>{reservation.guests_count}</td>\r\n                    <td>\r\n                      <span className={`status-badge ${reservation.status}`}>\r\n                        {reservation.status === 'confirmed' ? 'Потвърдена' : \r\n                         reservation.status === 'pending' ? 'Чакаща' : 'Отказана'}\r\n                      </span>\r\n                    </td>\r\n                    <td>\r\n                      <button \r\n                        className=\"admin-action-btn edit\"\r\n                        onClick={() => handleEdit(reservation)}\r\n                      >\r\n                        <i className=\"fas fa-edit\"></i>\r\n                      </button>\r\n                      <button \r\n                        className=\"admin-action-btn delete\"\r\n                        onClick={() => handleDelete(reservation.id)}\r\n                      >\r\n                        <i className=\"fas fa-trash\"></i>\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  // Подсекция управление на маси\r\nfunction AdminTablesSection({ restaurant, supabase }) {\r\n    const [tables, setTables] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [showForm, setShowForm] = useState(false);\r\n    const [editingId, setEditingId] = useState(null);\r\n    const [formData, setFormData] = useState({\r\n      table_number: '',\r\n      capacity: 2,\r\n      position_x: 50,\r\n      position_y: 50,\r\n      available: true,\r\n      notes: ''\r\n    });\r\n  \r\n    useEffect(() => {\r\n      if (!restaurant) return;\r\n  \r\n      const fetchTables = async () => {\r\n        try {\r\n          setLoading(true);\r\n          \r\n          const { data, error } = await supabase\r\n            .from('tables')\r\n            .select('*')\r\n            .eq('restaurant_id', restaurant.id)\r\n            .order('table_number', { ascending: true });\r\n          \r\n          if (error) throw error;\r\n          \r\n          setTables(data || []);\r\n        } catch (error) {\r\n          console.error('Error fetching tables:', error);\r\n        } finally {\r\n          setLoading(false);\r\n        }\r\n      };\r\n      \r\n      fetchTables();\r\n    }, [restaurant, supabase]);\r\n  \r\n    const handleInputChange = (e) => {\r\n      const { name, value, type, checked } = e.target;\r\n      setFormData({\r\n        ...formData,\r\n        [name]: type === 'checkbox' ? checked : \r\n                type === 'number' ? parseInt(value, 10) : value\r\n      });\r\n    };\r\n  \r\n    const resetForm = () => {\r\n      setFormData({\r\n        table_number: '',\r\n        capacity: 2,\r\n        position_x: 50,\r\n        position_y: 50,\r\n        available: true,\r\n        notes: ''\r\n      });\r\n      setEditingId(null);\r\n    };\r\n  \r\n    const handleSubmit = async (e) => {\r\n      e.preventDefault();\r\n      \r\n      try {\r\n        const fullData = {\r\n          ...formData,\r\n          restaurant_id: restaurant.id\r\n        };\r\n        \r\n        let result;\r\n        \r\n        if (editingId) {\r\n          const { data, error } = await supabase\r\n            .from('tables')\r\n            .update(fullData)\r\n            .eq('id', editingId)\r\n            .select();\r\n          \r\n          if (error) throw error;\r\n          result = data[0];\r\n          \r\n          setTables(tables.map(table => \r\n            table.id === editingId ? { ...table, ...result } : table\r\n          ));\r\n        } else {\r\n          const { data, error } = await supabase\r\n            .from('tables')\r\n            .insert([fullData])\r\n            .select();\r\n          \r\n          if (error) throw error;\r\n          result = data[0];\r\n          \r\n          setTables([...tables, result]);\r\n        }\r\n        \r\n        resetForm();\r\n        setShowForm(false);\r\n      } catch (error) {\r\n        console.error('Error saving table:', error);\r\n        alert('Възникна грешка при запазване на масата');\r\n      }\r\n    };\r\n  \r\n    const handleEdit = (table) => {\r\n      setFormData({\r\n        table_number: table.table_number,\r\n        capacity: table.capacity,\r\n        position_x: table.position_x,\r\n        position_y: table.position_y,\r\n        available: table.available,\r\n        notes: table.notes || ''\r\n      });\r\n      setEditingId(table.id);\r\n      setShowForm(true);\r\n    };\r\n  \r\n    const handleDelete = async (id) => {\r\n      if (!window.confirm(\"Сигурни ли сте, че искате да изтриете тази маса?\")) {\r\n        return;\r\n      }\r\n      \r\n      try {\r\n        const { error } = await supabase\r\n          .from('tables')\r\n          .delete()\r\n          .eq('id', id);\r\n        \r\n        if (error) throw error;\r\n        \r\n        setTables(tables.filter(table => table.id !== id));\r\n      } catch (error) {\r\n        console.error('Error deleting table:', error);\r\n        alert('Възникна грешка при изтриване на масата');\r\n      }\r\n    };\r\n  \r\n    if (loading) {\r\n      return <div>Зареждане на маси...</div>;\r\n    }\r\n  \r\n    return (\r\n      <div>\r\n        <h1>Управление на маси: {restaurant?.name}</h1>\r\n        \r\n        <div className=\"admin-controls\">\r\n          <button \r\n            className=\"admin-add-btn\"\r\n            onClick={() => {\r\n              resetForm();\r\n              setShowForm(!showForm);\r\n            }}\r\n          >\r\n            {showForm ? 'Отказ' : 'Добави нова маса'}\r\n          </button>\r\n        </div>\r\n        \r\n        {showForm && (\r\n          <div className=\"admin-form-container\">\r\n            <h2>{editingId ? 'Редактиране на маса' : 'Нова маса'}</h2>\r\n            <form onSubmit={handleSubmit} className=\"admin-form\">\r\n              <div className=\"form-group\">\r\n                <label>Номер на маса</label>\r\n                <input \r\n                  type=\"number\" \r\n                  name=\"table_number\" \r\n                  value={formData.table_number} \r\n                  onChange={handleInputChange} \r\n                  required \r\n                  min=\"1\"\r\n                />\r\n              </div>\r\n              \r\n              <div className=\"form-group\">\r\n                <label>Капацитет (брой места)</label>\r\n                <input \r\n                  type=\"number\" \r\n                  name=\"capacity\" \r\n                  value={formData.capacity} \r\n                  onChange={handleInputChange} \r\n                  required \r\n                  min=\"1\"\r\n                  max=\"20\"\r\n                />\r\n              </div>\r\n              \r\n              <div className=\"form-group\">\r\n                <label>Позиция X (в пиксели)</label>\r\n                <input \r\n                  type=\"range\" \r\n                  name=\"position_x\" \r\n                  value={formData.position_x} \r\n                  onChange={handleInputChange} \r\n                  min=\"0\" \r\n                  max=\"600\" \r\n                />\r\n                <span>{formData.position_x}px</span>\r\n              </div>\r\n              \r\n              <div className=\"form-group\">\r\n                <label>Позиция Y (в пиксели)</label>\r\n                <input \r\n                  type=\"range\" \r\n                  name=\"position_y\" \r\n                  value={formData.position_y} \r\n                  onChange={handleInputChange} \r\n                  min=\"0\" \r\n                  max=\"400\" \r\n                />\r\n                <span>{formData.position_y}px</span>\r\n              </div>\r\n              \r\n              <div className=\"form-group checkbox-group\">\r\n                <label>\r\n                  <input \r\n                    type=\"checkbox\" \r\n                    name=\"available\" \r\n                    checked={formData.available} \r\n                    onChange={handleInputChange} \r\n                  />\r\n                  Активна маса\r\n                </label>\r\n              </div>\r\n              \r\n              <div className=\"form-group\">\r\n                <label>Бележки</label>\r\n                <textarea \r\n                  name=\"notes\" \r\n                  value={formData.notes} \r\n                  onChange={handleInputChange} \r\n                  placeholder=\"Допълнителна информация за масата\" \r\n                />\r\n              </div>\r\n              \r\n              <div className=\"form-buttons\">\r\n                <button type=\"button\" className=\"admin-cancel-btn\" onClick={() => setShowForm(false)}>\r\n                  Отказ\r\n                </button>\r\n                <button type=\"submit\" className=\"admin-submit-btn\">\r\n                  {editingId ? 'Запази промените' : 'Добави маса'}\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        )}\r\n        \r\n        <div className=\"restaurant-layout-container\">\r\n          <h3>Изглед на подредбата</h3>\r\n          <div className=\"restaurant-layout-preview\">\r\n            {tables.map(table => (\r\n              <div\r\n                key={table.id}\r\n                className={`table-preview ${table.available ? 'available' : 'unavailable'}`}\r\n                style={{\r\n                  top: `${table.position_y}px`,\r\n                  left: `${table.position_x}px`,\r\n                  width: `${table.capacity > 2 ? 80 : 60}px`,\r\n                  height: `${table.capacity > 2 ? 80 : 60}px`,\r\n                }}\r\n                onClick={() => handleEdit(table)}\r\n              >\r\n                <span className=\"table-number\">{table.table_number}</span>\r\n                <span className=\"table-capacity\">{table.capacity} места</span>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"admin-table-container\">\r\n          <table className=\"admin-table\">\r\n            <thead>\r\n              <tr>\r\n                <th>Номер</th>\r\n                <th>Капацитет</th>\r\n                <th>Статус</th>\r\n                <th>Бележки</th>\r\n                <th>Действия</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {tables.map(table => (\r\n                <tr key={table.id}>\r\n                  <td>{table.table_number}</td>\r\n                  <td>{table.capacity} места</td>\r\n                  <td>\r\n                    <span className={`status-badge ${table.available ? 'active' : 'inactive'}`}>\r\n                      {table.available ? 'Активна' : 'Неактивна'}\r\n                    </span>\r\n                  </td>\r\n                  <td>{table.notes || '-'}</td>\r\n                  <td>\r\n                    <button \r\n                      className=\"admin-action-btn edit\"\r\n                      onClick={() => handleEdit(table)}\r\n                    >\r\n                      <i className=\"fas fa-edit\"></i>\r\n                    </button>\r\n                    <button \r\n                      className=\"admin-action-btn delete\"\r\n                      onClick={() => handleDelete(table.id)}\r\n                    >\r\n                      <i className=\"fas fa-trash\"></i>\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  // Подсекция Меню\r\nfunction AdminMenuSection({ restaurant, supabase }) {\r\n    const [categories, setCategories] = useState([]);\r\n    const [menuItems, setMenuItems] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [showForm, setShowForm] = useState(false);\r\n    const [formData, setFormData] = useState({\r\n      name: '',\r\n      description: '',\r\n      price: '',\r\n      category_id: '',\r\n      is_available: true,\r\n      image_url: '',\r\n      allergens: '',\r\n      recommended: false\r\n    });\r\n    const [showCategoryForm, setShowCategoryForm] = useState(false);\r\n    const [categoryFormData, setCategoryFormData] = useState({\r\n      name: '',\r\n      order: 0\r\n    });\r\n    const [editingId, setEditingId] = useState(null);\r\n    const [editingCategoryId, setEditingCategoryId] = useState(null);\r\n    const [selectedCategory, setSelectedCategory] = useState('all');\r\n  \r\n    useEffect(() => {\r\n      if (!restaurant) return;\r\n  \r\n      const fetchMenuData = async () => {\r\n        try {\r\n          setLoading(true);\r\n          \r\n          // Зареждане на категории\r\n          const { data: categoriesData, error: categoriesError } = await supabase\r\n            .from('menu_categories')\r\n            .select('*')\r\n            .eq('restaurant_id', restaurant.id)\r\n            .order('order', { ascending: true });\r\n          \r\n          if (categoriesError) throw categoriesError;\r\n          setCategories(categoriesData || []);\r\n          \r\n          // Зареждане на продукти от менюто\r\n          let query = supabase\r\n            .from('menu_items')\r\n            .select(`\r\n              *,\r\n              menu_categories:category_id (id, name)\r\n            `)\r\n            .eq('restaurant_id', restaurant.id);\r\n          \r\n          if (selectedCategory !== 'all') {\r\n            query = query.eq('category_id', selectedCategory);\r\n          }\r\n          \r\n          const { data: menuData, error: menuError } = await query\r\n            .order('name', { ascending: true });\r\n          \r\n          if (menuError) throw menuError;\r\n          setMenuItems(menuData || []);\r\n        } catch (error) {\r\n          console.error('Error fetching menu data:', error);\r\n        } finally {\r\n          setLoading(false);\r\n        }\r\n      };\r\n      \r\n      fetchMenuData();\r\n    }, [restaurant, supabase, selectedCategory]);\r\n  \r\n    const handleInputChange = (e) => {\r\n      const { name, value, type, checked } = e.target;\r\n      setFormData({\r\n        ...formData,\r\n        [name]: type === 'checkbox' ? checked : \r\n                type === 'number' ? parseFloat(value) : value\r\n      });\r\n    };\r\n  \r\n    const handleCategoryInputChange = (e) => {\r\n      const { name, value, type, checked } = e.target;\r\n      setCategoryFormData({\r\n        ...categoryFormData,\r\n        [name]: type === 'checkbox' ? checked : \r\n                name === 'order' ? parseInt(value, 10) : value\r\n      });\r\n    };\r\n  \r\n    const resetForm = () => {\r\n      setFormData({\r\n        name: '',\r\n        description: '',\r\n        price: '',\r\n        category_id: '',\r\n        is_available: true,\r\n        image_url: '',\r\n        allergens: '',\r\n        recommended: false\r\n      });\r\n      setEditingId(null);\r\n    };\r\n  \r\n    const resetCategoryForm = () => {\r\n      setCategoryFormData({\r\n        name: '',\r\n        order: categories.length > 0 ? Math.max(...categories.map(c => c.order)) + 1 : 0\r\n      });\r\n      setEditingCategoryId(null);\r\n    };\r\n  \r\n    const handleSubmit = async (e) => {\r\n      e.preventDefault();\r\n      \r\n      try {\r\n        const fullData = {\r\n          ...formData,\r\n          restaurant_id: restaurant.id,\r\n          price: parseFloat(formData.price)\r\n        };\r\n        \r\n        let result;\r\n        \r\n        if (editingId) {\r\n          const { data, error } = await supabase\r\n            .from('menu_items')\r\n            .update(fullData)\r\n            .eq('id', editingId)\r\n            .select();\r\n          \r\n          if (error) throw error;\r\n          result = data[0];\r\n          \r\n          // Актуализиране на локалния списък\r\n          setMenuItems(menuItems.map(item => \r\n            item.id === editingId ? { ...item, ...result } : item\r\n          ));\r\n        } else {\r\n          const { data, error } = await supabase\r\n            .from('menu_items')\r\n            .insert([fullData])\r\n            .select();\r\n          \r\n          if (error) throw error;\r\n          result = data[0];\r\n          \r\n          // Добавяне към локалния списък\r\n          setMenuItems([...menuItems, result]);\r\n        }\r\n        \r\n        resetForm();\r\n        setShowForm(false);\r\n      } catch (error) {\r\n        console.error('Error saving menu item:', error);\r\n        alert('Възникна грешка при запазване на продукта');\r\n      }\r\n    };\r\n    const handleCategorySubmit = async (e) => {\r\n        e.preventDefault();\r\n        \r\n        try {\r\n          const fullData = {\r\n            ...categoryFormData,\r\n            restaurant_id: restaurant.id\r\n          };\r\n          \r\n          let result;\r\n          \r\n          if (editingCategoryId) {\r\n            const { data, error } = await supabase\r\n              .from('menu_categories')\r\n              .update(fullData)\r\n              .eq('id', editingCategoryId)\r\n              .select();\r\n            \r\n            if (error) throw error;\r\n            result = data[0];\r\n            \r\n            // Актуализиране на локалния списък\r\n            setCategories(categories.map(cat => \r\n              cat.id === editingCategoryId ? { ...cat, ...result } : cat\r\n            ));\r\n          } else {\r\n            const { data, error } = await supabase\r\n              .from('menu_categories')\r\n              .insert([fullData])\r\n              .select();\r\n            \r\n            if (error) throw error;\r\n            result = data[0];\r\n            \r\n            // Добавяне към локалния списък\r\n            setCategories([...categories, result]);\r\n          }\r\n          \r\n          resetCategoryForm();\r\n          setShowCategoryForm(false);\r\n        } catch (error) {\r\n          console.error('Error saving category:', error);\r\n          alert('Възникна грешка при запазване на категорията');\r\n        }\r\n      };\r\n    \r\n      const handleEdit = (item) => {\r\n        setFormData({\r\n          name: item.name,\r\n          description: item.description || '',\r\n          price: item.price.toString(),\r\n          category_id: item.category_id,\r\n          is_available: item.is_available,\r\n          image_url: item.image_url || '',\r\n          allergens: item.allergens || '',\r\n          recommended: item.recommended || false\r\n        });\r\n        setEditingId(item.id);\r\n        setShowForm(true);\r\n      };\r\n    \r\n      const handleEditCategory = (category) => {\r\n        setCategoryFormData({\r\n          name: category.name,\r\n          order: category.order\r\n        });\r\n        setEditingCategoryId(category.id);\r\n        setShowCategoryForm(true);\r\n      };\r\n    \r\n      const handleDelete = async (id) => {\r\n        if (!window.confirm(\"Сигурни ли сте, че искате да изтриете този продукт?\")) {\r\n          return;\r\n        }\r\n        \r\n        try {\r\n          const { error } = await supabase\r\n            .from('menu_items')\r\n            .delete()\r\n            .eq('id', id);\r\n          \r\n          if (error) throw error;\r\n          \r\n          // Премахване от локалния списък\r\n          setMenuItems(menuItems.filter(item => item.id !== id));\r\n        } catch (error) {\r\n          console.error('Error deleting menu item:', error);\r\n          alert('Възникна грешка при изтриване на продукта');\r\n        }\r\n      };\r\n    \r\n      const handleDeleteCategory = async (id) => {\r\n        // Проверка дали категорията се използва в продукти\r\n        const itemsInCategory = menuItems.filter(item => item.category_id === id);\r\n        \r\n        if (itemsInCategory.length > 0) {\r\n          alert(`Не можете да изтриете тази категория, защото има ${itemsInCategory.length} продукта в нея.`);\r\n          return;\r\n        }\r\n        \r\n        if (!window.confirm(\"Сигурни ли сте, че искате да изтриете тази категория?\")) {\r\n          return;\r\n        }\r\n        \r\n        try {\r\n          const { error } = await supabase\r\n            .from('menu_categories')\r\n            .delete()\r\n            .eq('id', id);\r\n          \r\n          if (error) throw error;\r\n          \r\n          // Премахване от локалния списък\r\n          setCategories(categories.filter(cat => cat.id !== id));\r\n          \r\n          // Ако текущо избраната категория е изтрита, връщаме се към \"всички\"\r\n          if (selectedCategory === id) {\r\n            setSelectedCategory('all');\r\n          }\r\n        } catch (error) {\r\n          console.error('Error deleting category:', error);\r\n          alert('Възникна грешка при изтриване на категорията');\r\n        }\r\n      };\r\n    \r\n      const handleCategoryChange = (categoryId) => {\r\n        setSelectedCategory(categoryId);\r\n      };\r\n    \r\n      if (loading) {\r\n        return <div>Зареждане на меню...</div>;\r\n      }\r\n      return (\r\n        <div>\r\n          <h1>Меню: {restaurant?.name}</h1>\r\n          \r\n          <div className=\"admin-controls menu-controls\">\r\n            <div className=\"admin-filter-container\">\r\n              <h3>Филтриране по категория:</h3>\r\n              <div className=\"category-filters\">\r\n                <button \r\n                  className={`admin-filter-btn ${selectedCategory === 'all' ? 'active' : ''}`} \r\n                  onClick={() => handleCategoryChange('all')}\r\n                >\r\n                  Всички категории\r\n                </button>\r\n                {categories.map(category => (\r\n                  <button \r\n                    key={category.id} \r\n                    className={`admin-filter-btn ${selectedCategory === category.id ? 'active' : ''}`}\r\n                    onClick={() => handleCategoryChange(category.id)}\r\n                  >\r\n                    {category.name}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"admin-button-group\">\r\n              <button \r\n                className=\"admin-add-btn\"\r\n                onClick={() => {\r\n                  resetCategoryForm();\r\n                  setShowCategoryForm(!showCategoryForm);\r\n                  if (showForm) setShowForm(false);\r\n                }}\r\n              >\r\n                {showCategoryForm ? 'Отказ' : 'Добави категория'}\r\n              </button>\r\n              \r\n              <button \r\n                className=\"admin-add-btn\"\r\n                onClick={() => {\r\n                  resetForm();\r\n                  setShowForm(!showForm);\r\n                  if (showCategoryForm) setShowCategoryForm(false);\r\n                }}\r\n              >\r\n                {showForm ? 'Отказ' : 'Добави продукт'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n          \r\n          {/* Форма за категории */}\r\n          {showCategoryForm && (\r\n            <div className=\"admin-form-container\">\r\n              <h2>{editingCategoryId ? 'Редактиране на категория' : 'Нова категория'}</h2>\r\n              <form onSubmit={handleCategorySubmit} className=\"admin-form\">\r\n                <div className=\"form-group\">\r\n                  <label>Име на категория</label>\r\n                  <input \r\n                    type=\"text\" \r\n                    name=\"name\" \r\n                    value={categoryFormData.name} \r\n                    onChange={handleCategoryInputChange} \r\n                    required \r\n                  />\r\n                </div>\r\n                \r\n                <div className=\"form-group\">\r\n                  <label>Ред на показване</label>\r\n                  <input \r\n                    type=\"number\" \r\n                    name=\"order\" \r\n                    value={categoryFormData.order} \r\n                    onChange={handleCategoryInputChange} \r\n                    required \r\n                    min=\"0\"\r\n                  />\r\n                </div>\r\n                \r\n                <div className=\"form-buttons\">\r\n                  <button type=\"button\" className=\"admin-cancel-btn\" onClick={() => setShowCategoryForm(false)}>\r\n                    Отказ\r\n                  </button>\r\n                  <button type=\"submit\" className=\"admin-submit-btn\">\r\n                    {editingCategoryId ? 'Запази промените' : 'Добави категория'}\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          )}\r\n          \r\n          {/* Управление на категории */}\r\n          <div className=\"admin-categories-section\">\r\n            <h2>Управление на категории</h2>\r\n            {categories.length === 0 ? (\r\n              <div className=\"admin-no-data\">\r\n                <p>Няма добавени категории. Добавете първата категория.</p>\r\n              </div>\r\n            ) : (\r\n              <table className=\"admin-table\">\r\n                <thead>\r\n                  <tr>\r\n                    <th>Име</th>\r\n                    <th>Ред</th>\r\n                    <th>Брой продукти</th>\r\n                    <th>Действия</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {categories.map(category => {\r\n                    const itemCount = menuItems.filter(item => item.category_id === category.id).length;\r\n                    return (\r\n                      <tr key={category.id}>\r\n                        <td>{category.name}</td>\r\n                        <td>{category.order}</td>\r\n                        <td>{itemCount}</td>\r\n                        <td>\r\n                          <button \r\n                            className=\"admin-action-btn edit\"\r\n                            onClick={() => handleEditCategory(category)}\r\n                          >\r\n                            <i className=\"fas fa-edit\"></i>\r\n                          </button>\r\n                          <button \r\n                            className=\"admin-action-btn delete\"\r\n                            onClick={() => handleDeleteCategory(category.id)}\r\n                            disabled={itemCount > 0}\r\n                          >\r\n                            <i className=\"fas fa-trash\"></i>\r\n                          </button>\r\n                        </td>\r\n                      </tr>\r\n                    );\r\n                  })}\r\n                </tbody>\r\n              </table>\r\n            )}\r\n          </div>\r\n          {/* Форма за добавяне/редактиране на продукт */}\r\n      {showForm && (\r\n        <div className=\"admin-form-container\">\r\n          <h2>{editingId ? 'Редактиране на продукт' : 'Нов продукт'}</h2>\r\n          <form onSubmit={handleSubmit} className=\"admin-form\">\r\n            <div className=\"form-group\">\r\n              <label>Име на продукт</label>\r\n              <input \r\n                type=\"text\" \r\n                name=\"name\" \r\n                value={formData.name} \r\n                onChange={handleInputChange} \r\n                required \r\n              />\r\n            </div>\r\n            \r\n            <div className=\"form-group\">\r\n              <label>Категория</label>\r\n              <select \r\n                name=\"category_id\" \r\n                value={formData.category_id} \r\n                onChange={handleInputChange} \r\n                required\r\n              >\r\n                <option value=\"\">Изберете категория</option>\r\n                {categories.map(category => (\r\n                  <option key={category.id} value={category.id}>\r\n                    {category.name}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n            \r\n            <div className=\"form-group\">\r\n              <label>Цена (в лв.)</label>\r\n              <input \r\n                type=\"number\" \r\n                name=\"price\" \r\n                value={formData.price} \r\n                onChange={handleInputChange} \r\n                required \r\n                min=\"0\"\r\n                step=\"0.01\"\r\n              />\r\n            </div>\r\n            \r\n            <div className=\"form-group\">\r\n              <label>Описание</label>\r\n              <textarea \r\n                name=\"description\" \r\n                value={formData.description} \r\n                onChange={handleInputChange} \r\n                placeholder=\"Описание на продукта\"\r\n              />\r\n            </div>\r\n            \r\n            <div className=\"form-group\">\r\n              <label>URL на изображение</label>\r\n              <input \r\n                type=\"url\" \r\n                name=\"image_url\" \r\n                value={formData.image_url} \r\n                onChange={handleInputChange} \r\n                placeholder=\"http://example.com/image.jpg\"\r\n              />\r\n            </div>\r\n            \r\n            <div className=\"form-group\">\r\n              <label>Алергени</label>\r\n              <input \r\n                type=\"text\" \r\n                name=\"allergens\" \r\n                value={formData.allergens} \r\n                onChange={handleInputChange} \r\n                placeholder=\"Напр.: глутен, млечни продукти, ядки\"\r\n              />\r\n            </div>\r\n            \r\n            <div className=\"form-group checkbox-group\">\r\n              <label>\r\n                <input \r\n                  type=\"checkbox\" \r\n                  name=\"is_available\" \r\n                  checked={formData.is_available} \r\n                  onChange={handleInputChange} \r\n                />\r\n                Наличен продукт\r\n              </label>\r\n            </div>\r\n            \r\n            <div className=\"form-group checkbox-group\">\r\n              <label>\r\n                <input \r\n                  type=\"checkbox\" \r\n                  name=\"recommended\" \r\n                  checked={formData.recommended} \r\n                  onChange={handleInputChange} \r\n                />\r\n                Препоръчан продукт\r\n              </label>\r\n            </div>\r\n            \r\n            <div className=\"form-buttons\">\r\n              <button type=\"button\" className=\"admin-cancel-btn\" onClick={() => setShowForm(false)}>\r\n                Отказ\r\n              </button>\r\n              <button type=\"submit\" className=\"admin-submit-btn\">\r\n                {editingId ? 'Запази промените' : 'Добави продукт'}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Списък с продукти */}\r\n      <div className=\"admin-table-container\">\r\n        <h2>Продукти в менюто</h2>\r\n        {menuItems.length === 0 ? (\r\n          <div className=\"admin-no-data\">\r\n            <p>Няма добавени продукти в менюто.</p>\r\n          </div>\r\n        ) : (\r\n          <table className=\"admin-table\">\r\n            <thead>\r\n              <tr>\r\n                <th>Изображение</th>\r\n                <th>Име</th>\r\n                <th>Категория</th>\r\n                <th>Цена</th>\r\n                <th>Статус</th>\r\n                <th>Препоръчан</th>\r\n                <th>Действия</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {menuItems.map(item => (\r\n                <tr key={item.id}>\r\n                  <td>\r\n                    {item.image_url ? (\r\n                      <img src={item.image_url} alt={item.name} className=\"menu-item-thumbnail\" />\r\n                    ) : (\r\n                      <div className=\"menu-item-no-image\">Няма изображение</div>\r\n                    )}\r\n                  </td>\r\n                  <td>\r\n                    <strong>{item.name}</strong>\r\n                    {item.description && <p className=\"menu-item-description\">{item.description}</p>}\r\n                    {item.allergens && <p className=\"menu-item-allergens\">Алергени: {item.allergens}</p>}\r\n                  </td>\r\n                  <td>{item.menu_categories?.name || 'Без категория'}</td>\r\n                  <td>{item.price?.toFixed(2)} лв.</td>\r\n                  <td>\r\n                    <span className={`status-badge ${item.is_available ? 'active' : 'inactive'}`}>\r\n                      {item.is_available ? 'Наличен' : 'Неналичен'}\r\n                    </span>\r\n                  </td>\r\n                  <td>\r\n                    {item.recommended ? <i className=\"fas fa-star recommended-star\"></i> : '-'}\r\n                  </td>\r\n                  <td>\r\n                    <button \r\n                      className=\"admin-action-btn edit\"\r\n                      onClick={() => handleEdit(item)}\r\n                    >\r\n                      <i className=\"fas fa-edit\"></i>\r\n                    </button>\r\n                    <button \r\n                      className=\"admin-action-btn delete\"\r\n                      onClick={() => handleDelete(item.id)}\r\n                    >\r\n                      <i className=\"fas fa-trash\"></i>\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n// Подсекция за събития\r\nfunction AdminEventsSection({ restaurant, supabase }) {\r\n    const [events, setEvents] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [showForm, setShowForm] = useState(false);\r\n    const [formData, setFormData] = useState({\r\n      title: '',\r\n      description: '',\r\n      date: '',\r\n      time: '',\r\n      end_time: '',\r\n      image_url: '',\r\n      seats_available: 0,\r\n      price: '',\r\n      is_published: false,\r\n      is_private: false\r\n    });\r\n    const [editingId, setEditingId] = useState(null);\r\n    const [view, setView] = useState('upcoming');\r\n  \r\n    useEffect(() => {\r\n      if (!restaurant) return;\r\n  \r\n      const fetchEvents = async () => {\r\n        try {\r\n          setLoading(true);\r\n          \r\n          // Получаване на днешната дата\r\n          const today = new Date().toISOString().split('T')[0];\r\n          \r\n          // Съставяне на заявката според изгледа\r\n          let query = supabase\r\n            .from('events')\r\n            .select('*')\r\n            .eq('restaurant_id', restaurant.id);\r\n          \r\n          if (view === 'upcoming') {\r\n            query = query.gte('date', today);\r\n          } else if (view === 'past') {\r\n            query = query.lt('date', today);\r\n          }\r\n          \r\n          const { data, error } = await query\r\n            .order('date', { ascending: view === 'upcoming' });\r\n          \r\n          if (error) throw error;\r\n          \r\n          setEvents(data || []);\r\n        } catch (error) {\r\n          console.error('Error fetching events:', error);\r\n        } finally {\r\n          setLoading(false);\r\n        }\r\n      };\r\n      \r\n      fetchEvents();\r\n    }, [restaurant, view, supabase]);\r\n  \r\n    const handleInputChange = (e) => {\r\n      const { name, value, type, checked } = e.target;\r\n      setFormData({\r\n        ...formData,\r\n        [name]: type === 'checkbox' ? checked : \r\n                type === 'number' ? parseInt(value, 10) : \r\n                name === 'price' ? parseFloat(value) || '' : value\r\n      });\r\n    };\r\n  \r\n    const resetForm = () => {\r\n      setFormData({\r\n        title: '',\r\n        description: '',\r\n        date: '',\r\n        time: '',\r\n        end_time: '',\r\n        image_url: '',\r\n        seats_available: 0,\r\n        price: '',\r\n        is_published: false,\r\n        is_private: false\r\n      });\r\n      setEditingId(null);\r\n    };\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        \r\n        try {\r\n          // Валидация\r\n          if (formData.price && parseFloat(formData.price) < 0) {\r\n            alert('Цената не може да бъде отрицателна');\r\n            return;\r\n          }\r\n          \r\n          if (formData.seats_available < 0) {\r\n            alert('Броят на местата не може да бъде отрицателен');\r\n            return;\r\n          }\r\n          \r\n          const fullData = {\r\n            ...formData,\r\n            restaurant_id: restaurant.id,\r\n            price: formData.price === '' ? null : parseFloat(formData.price)\r\n          };\r\n          \r\n          let result;\r\n          \r\n          if (editingId) {\r\n            const { data, error } = await supabase\r\n              .from('events')\r\n              .update(fullData)\r\n              .eq('id', editingId)\r\n              .select();\r\n            \r\n            if (error) throw error;\r\n            result = data[0];\r\n            \r\n            // Актуализиране на локалния списък\r\n            setEvents(events.map(event => \r\n              event.id === editingId ? { ...event, ...result } : event\r\n            ));\r\n          } else {\r\n            const { data, error } = await supabase\r\n              .from('events')\r\n              .insert([fullData])\r\n              .select();\r\n            \r\n            if (error) throw error;\r\n            result = data[0];\r\n            \r\n            // Добавяне към локалния списък, ако съответства на текущия изглед\r\n            const today = new Date().toISOString().split('T')[0];\r\n            const isUpcoming = result.date >= today;\r\n            \r\n            if ((view === 'upcoming' && isUpcoming) || \r\n                (view === 'past' && !isUpcoming) || \r\n                view === 'all') {\r\n              setEvents([...events, result]);\r\n            }\r\n          }\r\n          \r\n          resetForm();\r\n          setShowForm(false);\r\n        } catch (error) {\r\n          console.error('Error saving event:', error);\r\n          alert('Възникна грешка при запазване на събитието');\r\n        }\r\n      };\r\n    \r\n      const handleEdit = (event) => {\r\n        setFormData({\r\n          title: event.title,\r\n          description: event.description || '',\r\n          date: event.date,\r\n          time: event.time,\r\n          end_time: event.end_time || '',\r\n          image_url: event.image_url || '',\r\n          seats_available: event.seats_available || 0,\r\n          price: event.price !== null ? event.price.toString() : '',\r\n          is_published: event.is_published || false,\r\n          is_private: event.is_private || false\r\n        });\r\n        setEditingId(event.id);\r\n        setShowForm(true);\r\n      };\r\n    \r\n      const handleDelete = async (id) => {\r\n        if (!window.confirm(\"Сигурни ли сте, че искате да изтриете това събитие?\")) {\r\n          return;\r\n        }\r\n        \r\n        try {\r\n          const { error } = await supabase\r\n            .from('events')\r\n            .delete()\r\n            .eq('id', id);\r\n          \r\n          if (error) throw error;\r\n          \r\n          // Премахване от локалния списък\r\n          setEvents(events.filter(event => event.id !== id));\r\n        } catch (error) {\r\n          console.error('Error deleting event:', error);\r\n          alert('Възникна грешка при изтриване на събитието');\r\n        }\r\n      };\r\n    \r\n      const togglePublish = async (id, currentStatus) => {\r\n        try {\r\n          const { error } = await supabase\r\n            .from('events')\r\n            .update({ is_published: !currentStatus })\r\n            .eq('id', id);\r\n          \r\n          if (error) throw error;\r\n          \r\n          // Актуализиране на локалния списък\r\n          setEvents(events.map(event => \r\n            event.id === id ? { ...event, is_published: !currentStatus } : event\r\n          ));\r\n        } catch (error) {\r\n          console.error('Error updating event publish status:', error);\r\n          alert('Възникна грешка при промяна на статуса на събитието');\r\n        }\r\n      };\r\n    \r\n      const handleViewChange = (newView) => {\r\n        setView(newView);\r\n      };\r\n    \r\n      const formatDate = (dateStr) => {\r\n        const parts = dateStr.split('-');\r\n        return `${parts[2]}.${parts[1]}.${parts[0]}`;\r\n      };\r\n    \r\n      if (loading) {\r\n        return <div>Зареждане на събития...</div>;\r\n      }\r\n      return (\r\n        <div>\r\n          <h1>Събития: {restaurant?.name}</h1>\r\n          \r\n          <div className=\"admin-controls\">\r\n            <div className=\"admin-filters\">\r\n              <button \r\n                className={`admin-filter-btn ${view === 'upcoming' ? 'active' : ''}`} \r\n                onClick={() => handleViewChange('upcoming')}\r\n              >\r\n                Предстоящи събития\r\n              </button>\r\n              <button \r\n                className={`admin-filter-btn ${view === 'past' ? 'active' : ''}`} \r\n                onClick={() => handleViewChange('past')}\r\n              >\r\n                Минали събития\r\n              </button>\r\n              <button \r\n                className={`admin-filter-btn ${view === 'all' ? 'active' : ''}`} \r\n                onClick={() => handleViewChange('all')}\r\n              >\r\n                Всички събития\r\n              </button>\r\n            </div>\r\n            \r\n            <button \r\n              className=\"admin-add-btn\"\r\n              onClick={() => {\r\n                resetForm();\r\n                setShowForm(!showForm);\r\n              }}\r\n            >\r\n              {showForm ? 'Отказ' : 'Добави събитие'}\r\n            </button>\r\n          </div>\r\n          \r\n          {/* Форма за добавяне/редактиране на събитие */}\r\n          {showForm && (\r\n            <div className=\"admin-form-container\">\r\n              <h2>{editingId ? 'Редактиране на събитие' : 'Ново събитие'}</h2>\r\n              <form onSubmit={handleSubmit} className=\"admin-form\">\r\n                <div className=\"form-group\">\r\n                  <label>Заглавие</label>\r\n                  <input \r\n                    type=\"text\" \r\n                    name=\"title\" \r\n                    value={formData.title} \r\n                    onChange={handleInputChange} \r\n                    required \r\n                  />\r\n                </div>\r\n                \r\n                <div className=\"form-group\">\r\n                  <label>Описание</label>\r\n                  <textarea \r\n                    name=\"description\" \r\n                    value={formData.description} \r\n                    onChange={handleInputChange} \r\n                    rows=\"4\"\r\n                  />\r\n                </div>\r\n                \r\n                <div className=\"form-row\">\r\n                  <div className=\"form-group\">\r\n                    <label>Дата</label>\r\n                    <input \r\n                      type=\"date\" \r\n                      name=\"date\" \r\n                      value={formData.date} \r\n                      onChange={handleInputChange} \r\n                      required \r\n                    />\r\n                  </div>\r\n                  \r\n                  <div className=\"form-group\">\r\n                    <label>Начален час</label>\r\n                    <input \r\n                      type=\"time\" \r\n                      name=\"time\" \r\n                      value={formData.time} \r\n                      onChange={handleInputChange} \r\n                      required \r\n                    />\r\n                  </div>\r\n                  \r\n                  <div className=\"form-group\">\r\n                    <label>Краен час</label>\r\n                    <input \r\n                      type=\"time\" \r\n                      name=\"end_time\" \r\n                      value={formData.end_time} \r\n                      onChange={handleInputChange} \r\n                    />\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"form-group\">\r\n                  <label>URL на изображение</label>\r\n                  <input \r\n                    type=\"url\" \r\n                    name=\"image_url\" \r\n                    value={formData.image_url} \r\n                    onChange={handleInputChange} \r\n                    placeholder=\"http://example.com/image.jpg\"\r\n                  />\r\n                </div>\r\n                \r\n                <div className=\"form-row\">\r\n                  <div className=\"form-group\">\r\n                    <label>Брой места</label>\r\n                    <input \r\n                      type=\"number\" \r\n                      name=\"seats_available\" \r\n                      value={formData.seats_available} \r\n                      onChange={handleInputChange} \r\n                      min=\"0\"\r\n                    />\r\n                  </div>\r\n                  \r\n                  <div className=\"form-group\">\r\n                    <label>Цена (в лв., ако е приложимо)</label>\r\n                    <input \r\n                      type=\"number\" \r\n                      name=\"price\" \r\n                      value={formData.price} \r\n                      onChange={handleInputChange} \r\n                      min=\"0\"\r\n                      step=\"0.01\"\r\n                      placeholder=\"Оставете празно, ако е безплатно\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"form-row checkboxes\">\r\n                  <div className=\"form-group checkbox-group\">\r\n                    <label>\r\n                      <input \r\n                        type=\"checkbox\" \r\n                        name=\"is_published\" \r\n                        checked={formData.is_published} \r\n                        onChange={handleInputChange} \r\n                      />\r\n                      Публикувано (видимо за клиенти)\r\n                    </label>\r\n                  </div>\r\n                  \r\n                  <div className=\"form-group checkbox-group\">\r\n                    <label>\r\n                      <input \r\n                        type=\"checkbox\" \r\n                        name=\"is_private\" \r\n                        checked={formData.is_private} \r\n                        onChange={handleInputChange} \r\n                      />\r\n                      Частно събитие (само с покана)\r\n                    </label>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"form-buttons\">\r\n                  <button type=\"button\" className=\"admin-cancel-btn\" onClick={() => setShowForm(false)}>\r\n                    Отказ\r\n                  </button>\r\n                  <button type=\"submit\" className=\"admin-submit-btn\">\r\n                    {editingId ? 'Запази промените' : 'Добави събитие'}\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          )}\r\n          {/* Списък със събития */}\r\n      <div className=\"admin-table-container\">\r\n        {events.length === 0 ? (\r\n          <div className=\"admin-no-data\">\r\n            <p>Няма {view === 'upcoming' ? 'предстоящи' : view === 'past' ? 'минали' : ''} събития.</p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"events-grid\">\r\n            {events.map(event => (\r\n              <div key={event.id} className=\"event-card\">\r\n                <div className=\"event-image\">\r\n                  {event.image_url ? (\r\n                    <img src={event.image_url} alt={event.title} />\r\n                  ) : (\r\n                    <div className=\"event-placeholder\">\r\n                      <i className=\"fas fa-calendar-alt\"></i>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                <div className=\"event-content\">\r\n                  <div className=\"event-header\">\r\n                    <h3>{event.title}</h3>\r\n                    <div className=\"event-status\">\r\n                      {event.is_published ? (\r\n                        <span className=\"status-badge active\">Публикувано</span>\r\n                      ) : (\r\n                        <span className=\"status-badge inactive\">Чернова</span>\r\n                      )}\r\n                      {event.is_private && (\r\n                        <span className=\"status-badge private\">Частно</span>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className=\"event-date-time\">\r\n                    <p>\r\n                      <i className=\"fas fa-calendar\"></i> {formatDate(event.date)}\r\n                    </p>\r\n                    <p>\r\n                      <i className=\"fas fa-clock\"></i> {event.time}\r\n                      {event.end_time && ` - ${event.end_time}`}\r\n                    </p>\r\n                  </div>\r\n                  \r\n                  {event.description && (\r\n                    <div className=\"event-description\">\r\n                      <p>{event.description.length > 100 \r\n                        ? event.description.slice(0, 100) + '...' \r\n                        : event.description}\r\n                      </p>\r\n                    </div>\r\n                  )}\r\n                  \r\n                  <div className=\"event-details\">\r\n                    {event.seats_available > 0 && (\r\n                      <p>\r\n                        <i className=\"fas fa-chair\"></i> {event.seats_available} места\r\n                      </p>\r\n                    )}\r\n                    {event.price !== null && event.price > 0 ? (\r\n                      <p>\r\n                        <i className=\"fas fa-ticket-alt\"></i> {event.price.toFixed(2)} лв.\r\n                      </p>\r\n                    ) : (\r\n                      <p>\r\n                        <i className=\"fas fa-ticket-alt\"></i> Безплатно\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                  \r\n                  <div className=\"event-actions\">\r\n                    <button \r\n                      className=\"admin-action-btn toggle-publish\"\r\n                      onClick={() => togglePublish(event.id, event.is_published)}\r\n                      title={event.is_published ? 'Скрий от клиенти' : 'Публикувай'}\r\n                    >\r\n                      <i className={`fas fa-${event.is_published ? 'eye-slash' : 'eye'}`}></i>\r\n                    </button>\r\n                    <button \r\n                      className=\"admin-action-btn edit\"\r\n                      onClick={() => handleEdit(event)}\r\n                    >\r\n                      <i className=\"fas fa-edit\"></i>\r\n                    </button>\r\n                    <button \r\n                      className=\"admin-action-btn delete\"\r\n                      onClick={() => handleDelete(event.id)}\r\n                    >\r\n                      <i className=\"fas fa-trash\"></i>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n// Експорт на основния компонент\r\nexport default AdminDashboard;\r\n\r\n// Подсекция за специални предложения\r\nfunction AdminSpecialOffersSection({ restaurant, supabase }) {\r\n    const [offers, setOffers] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [showForm, setShowForm] = useState(false);\r\n    const [formData, setFormData] = useState({\r\n      title: '',\r\n      description: '',\r\n      discount_type: 'percentage', // 'percentage', 'fixed', 'free_item'\r\n      discount_value: '',\r\n      start_date: '',\r\n      end_date: '',\r\n      days_of_week: [], // ['monday', 'tuesday', etc.]\r\n      start_time: '',\r\n      end_time: '',\r\n      min_order: '',\r\n      max_uses: '',\r\n      image_url: '',\r\n      active: true,\r\n      applies_to: 'all', // 'all', 'category', 'item'\r\n      applies_to_id: ''\r\n    });\r\n    const [editingId, setEditingId] = useState(null);\r\n    const [menuCategories, setMenuCategories] = useState([]);\r\n    const [menuItems, setMenuItems] = useState([]);\r\n    const [filter, setFilter] = useState('active');\r\n  \r\n    useEffect(() => {\r\n      if (!restaurant) return;\r\n  \r\n      const fetchData = async () => {\r\n        try {\r\n          setLoading(true);\r\n          \r\n          // Получаване на днешната дата\r\n          const today = new Date().toISOString().split('T')[0];\r\n          \r\n          // Зареждане на специални предложения\r\n          let query = supabase\r\n            .from('special_offers')\r\n            .select('*')\r\n            .eq('restaurant_id', restaurant.id);\r\n          \r\n          if (filter === 'active') {\r\n            query = query\r\n              .eq('active', true)\r\n              .lte('start_date', today)\r\n              .or(`end_date.gt.${today},end_date.is.null`);\r\n          } else if (filter === 'upcoming') {\r\n            query = query.gt('start_date', today);\r\n          } else if (filter === 'expired') {\r\n            query = query\r\n              .lt('end_date', today)\r\n              .not('end_date', 'is', null);\r\n          } else if (filter === 'inactive') {\r\n            query = query.eq('active', false);\r\n          }\r\n          \r\n          const { data: offersData, error: offersError } = await query\r\n            .order('start_date', { ascending: false });\r\n          \r\n          if (offersError) throw offersError;\r\n          \r\n          setOffers(offersData || []);\r\n          \r\n          // Зареждане на категории от менюто\r\n          const { data: categoriesData, error: categoriesError } = await supabase\r\n            .from('menu_categories')\r\n            .select('*')\r\n            .eq('restaurant_id', restaurant.id)\r\n            .order('order', { ascending: true });\r\n          \r\n          if (categoriesError) throw categoriesError;\r\n          \r\n          setMenuCategories(categoriesData || []);\r\n          \r\n          // Зареждане на продукти от менюто\r\n          const { data: itemsData, error: itemsError } = await supabase\r\n            .from('menu_items')\r\n            .select(`\r\n              id,\r\n              name,\r\n              category_id,\r\n              price,\r\n              menu_categories:category_id (name)\r\n            `)\r\n            .eq('restaurant_id', restaurant.id)\r\n            .order('name', { ascending: true });\r\n          \r\n          if (itemsError) throw itemsError;\r\n          \r\n          setMenuItems(itemsData || []);\r\n        } catch (error) {\r\n          console.error('Error fetching special offers data:', error);\r\n        } finally {\r\n          setLoading(false);\r\n        }\r\n      };\r\n      \r\n      fetchData();\r\n    }, [restaurant, filter, supabase]);\r\n  \r\n    const handleInputChange = (e) => {\r\n      const { name, value, type, checked } = e.target;\r\n      setFormData({\r\n        ...formData,\r\n        [name]: type === 'checkbox' ? checked : \r\n                (name === 'discount_value' || name === 'min_order' || name === 'max_uses') ? \r\n                  (value === '' ? '' : parseFloat(value)) : \r\n                  value\r\n      });\r\n    };\r\n  \r\n    const handleDaysOfWeekChange = (day) => {\r\n      const updatedDays = [...formData.days_of_week];\r\n      const index = updatedDays.indexOf(day);\r\n      \r\n      if (index > -1) {\r\n        updatedDays.splice(index, 1);\r\n      } else {\r\n        updatedDays.push(day);\r\n      }\r\n      \r\n      setFormData({\r\n        ...formData,\r\n        days_of_week: updatedDays\r\n      });\r\n    };\r\n    const resetForm = () => {\r\n        setFormData({\r\n          title: '',\r\n          description: '',\r\n          discount_type: 'percentage',\r\n          discount_value: '',\r\n          start_date: '',\r\n          end_date: '',\r\n          days_of_week: [],\r\n          start_time: '',\r\n          end_time: '',\r\n          min_order: '',\r\n          max_uses: '',\r\n          image_url: '',\r\n          active: true,\r\n          applies_to: 'all',\r\n          applies_to_id: ''\r\n        });\r\n        setEditingId(null);\r\n      };\r\n    \r\n      const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        \r\n        try {\r\n          // Валидация\r\n          if (formData.discount_type !== 'free_item' && \r\n              (formData.discount_value === '' || parseFloat(formData.discount_value) <= 0)) {\r\n            alert('Моля, въведете валидна стойност на отстъпката');\r\n            return;\r\n          }\r\n          \r\n          if (formData.discount_type === 'percentage' && parseFloat(formData.discount_value) > 100) {\r\n            alert('Процентната отстъпка не може да бъде по-голяма от 100%');\r\n            return;\r\n          }\r\n          \r\n          if (formData.start_date && formData.end_date && formData.start_date > formData.end_date) {\r\n            alert('Крайната дата трябва да бъде след началната дата');\r\n            return;\r\n          }\r\n          \r\n          if (formData.applies_to !== 'all' && !formData.applies_to_id) {\r\n            alert('Моля, изберете за какво се отнася специалното предложение');\r\n            return;\r\n          }\r\n          \r\n          // Подготовка на данните\r\n          const fullData = {\r\n            ...formData,\r\n            restaurant_id: restaurant.id\r\n          };\r\n          \r\n          // Конвертиране на празни стрингове към null\r\n          for (const key in fullData) {\r\n            if (fullData[key] === '') {\r\n              fullData[key] = null;\r\n            }\r\n          }\r\n          \r\n          let result;\r\n          \r\n          if (editingId) {\r\n            const { data, error } = await supabase\r\n              .from('special_offers')\r\n              .update(fullData)\r\n              .eq('id', editingId)\r\n              .select();\r\n            \r\n            if (error) throw error;\r\n            result = data[0];\r\n            \r\n            // Актуализиране на локалния списък\r\n            setOffers(offers.map(offer => \r\n              offer.id === editingId ? { ...offer, ...result } : offer\r\n            ));\r\n          } else {\r\n            const { data, error } = await supabase\r\n              .from('special_offers')\r\n              .insert([fullData])\r\n              .select();\r\n            \r\n            if (error) throw error;\r\n            result = data[0];\r\n            \r\n            // Добавяне към локалния списък, ако съответства на текущия филтър\r\n            const today = new Date().toISOString().split('T')[0];\r\n            const isActive = result.active && \r\n                             (!result.start_date || result.start_date <= today) && \r\n                             (!result.end_date || result.end_date >= today);\r\n            const isUpcoming = result.start_date > today;\r\n            const isExpired = result.end_date && result.end_date < today;\r\n            \r\n            if ((filter === 'active' && isActive) ||\r\n                (filter === 'upcoming' && isUpcoming) ||\r\n                (filter === 'expired' && isExpired) ||\r\n                (filter === 'inactive' && !result.active) ||\r\n                filter === 'all') {\r\n              setOffers([result, ...offers]);\r\n            }\r\n          }\r\n          \r\n          resetForm();\r\n          setShowForm(false);\r\n        } catch (error) {\r\n          console.error('Error saving special offer:', error);\r\n          alert('Възникна грешка при запазване на специалното предложение');\r\n        }\r\n      };\r\n    \r\n      const handleEdit = (offer) => {\r\n        setFormData({\r\n          title: offer.title,\r\n          description: offer.description || '',\r\n          discount_type: offer.discount_type,\r\n          discount_value: offer.discount_value !== null ? offer.discount_value.toString() : '',\r\n          start_date: offer.start_date || '',\r\n          end_date: offer.end_date || '',\r\n          days_of_week: offer.days_of_week || [],\r\n          start_time: offer.start_time || '',\r\n          end_time: offer.end_time || '',\r\n          min_order: offer.min_order !== null ? offer.min_order.toString() : '',\r\n          max_uses: offer.max_uses !== null ? offer.max_uses.toString() : '',\r\n          image_url: offer.image_url || '',\r\n          active: offer.active,\r\n          applies_to: offer.applies_to || 'all',\r\n          applies_to_id: offer.applies_to_id || ''\r\n        });\r\n        setEditingId(offer.id);\r\n        setShowForm(true);\r\n      };\r\n      const handleDelete = async (id) => {\r\n        if (!window.confirm(\"Сигурни ли сте, че искате да изтриете това специално предложение?\")) {\r\n          return;\r\n        }\r\n        \r\n        try {\r\n          const { error } = await supabase\r\n            .from('special_offers')\r\n            .delete()\r\n            .eq('id', id);\r\n          \r\n          if (error) throw error;\r\n          \r\n          // Премахване от локалния списък\r\n          setOffers(offers.filter(offer => offer.id !== id));\r\n        } catch (error) {\r\n          console.error('Error deleting special offer:', error);\r\n          alert('Възникна грешка при изтриване на специалното предложение');\r\n        }\r\n      };\r\n    \r\n      const toggleActive = async (id, currentStatus) => {\r\n        try {\r\n          const { error } = await supabase\r\n            .from('special_offers')\r\n            .update({ active: !currentStatus })\r\n            .eq('id', id);\r\n          \r\n          if (error) throw error;\r\n          \r\n          // Актуализиране на локалния списък\r\n          setOffers(offers.map(offer => \r\n            offer.id === id ? { ...offer, active: !currentStatus } : offer\r\n          ));\r\n        } catch (error) {\r\n          console.error('Error updating offer status:', error);\r\n          alert('Възникна грешка при промяна на статуса');\r\n        }\r\n      };\r\n    \r\n      const handleFilterChange = (newFilter) => {\r\n        setFilter(newFilter);\r\n      };\r\n    \r\n      const getAppliesText = (offer) => {\r\n        if (offer.applies_to === 'all') {\r\n          return 'Всички продукти';\r\n        } else if (offer.applies_to === 'category') {\r\n          const category = menuCategories.find(c => c.id === offer.applies_to_id);\r\n          return category ? `Категория: ${category.name}` : 'Неизвестна категория';\r\n        } else if (offer.applies_to === 'item') {\r\n          const item = menuItems.find(i => i.id === offer.applies_to_id);\r\n          return item ? `Продукт: ${item.name}` : 'Неизвестен продукт';\r\n        }\r\n        return '';\r\n      };\r\n    \r\n      const formatDate = (dateStr) => {\r\n        if (!dateStr) return '';\r\n        const parts = dateStr.split('-');\r\n        return `${parts[2]}.${parts[1]}.${parts[0]}`;\r\n      };\r\n    \r\n      const getDiscountText = (offer) => {\r\n        if (offer.discount_type === 'percentage') {\r\n          return `${offer.discount_value}% отстъпка`;\r\n        } else if (offer.discount_type === 'fixed') {\r\n          return `${offer.discount_value.toFixed(2)} лв. отстъпка`;\r\n        } else if (offer.discount_type === 'free_item') {\r\n          return 'Безплатен продукт';\r\n        }\r\n        return '';\r\n      };\r\n    \r\n      const isOfferActive = (offer) => {\r\n        const today = new Date().toISOString().split('T')[0];\r\n        return offer.active && \r\n               (!offer.start_date || offer.start_date <= today) && \r\n               (!offer.end_date || offer.end_date >= today);\r\n      };\r\n    \r\n      const getDaysOfWeekLabels = (days) => {\r\n        if (!days || days.length === 0) return 'Всички дни';\r\n        \r\n        const dayMap = {\r\n          'monday': 'Пн',\r\n          'tuesday': 'Вт',\r\n          'wednesday': 'Ср',\r\n          'thursday': 'Чт',\r\n          'friday': 'Пт',\r\n          'saturday': 'Сб',\r\n          'sunday': 'Нд'\r\n        };\r\n        \r\n        return days.map(day => dayMap[day]).join(', ');\r\n      };\r\n    \r\n      if (loading) {\r\n        return <div>Зареждане на специални предложения...</div>;\r\n      }\r\n      return (\r\n        <div>\r\n          <h1>Специални предложения: {restaurant?.name}</h1>\r\n          \r\n          <div className=\"admin-controls\">\r\n            <div className=\"admin-filters\">\r\n              <button \r\n                className={`admin-filter-btn ${filter === 'active' ? 'active' : ''}`} \r\n                onClick={() => handleFilterChange('active')}\r\n              >\r\n                Активни\r\n              </button>\r\n              <button \r\n                className={`admin-filter-btn ${filter === 'upcoming' ? 'active' : ''}`} \r\n                onClick={() => handleFilterChange('upcoming')}\r\n              >\r\n                Предстоящи\r\n              </button>\r\n              <button \r\n                className={`admin-filter-btn ${filter === 'expired' ? 'active' : ''}`} \r\n                onClick={() => handleFilterChange('expired')}\r\n              >\r\n                Изтекли\r\n              </button>\r\n              <button \r\n                className={`admin-filter-btn ${filter === 'inactive' ? 'active' : ''}`} \r\n                onClick={() => handleFilterChange('inactive')}\r\n              >\r\n                Неактивни\r\n              </button>\r\n              <button \r\n                className={`admin-filter-btn ${filter === 'all' ? 'active' : ''}`} \r\n                onClick={() => handleFilterChange('all')}\r\n              >\r\n                Всички\r\n              </button>\r\n            </div>\r\n            \r\n            <button \r\n              className=\"admin-add-btn\"\r\n              onClick={() => {\r\n                resetForm();\r\n                setShowForm(!showForm);\r\n              }}\r\n            >\r\n              {showForm ? 'Отказ' : 'Добави специално предложение'}\r\n            </button>\r\n          </div>\r\n          \r\n          {/* Форма за добавяне/редактиране на специално предложение */}\r\n          {showForm && (\r\n            <div className=\"admin-form-container\">\r\n              <h2>{editingId ? 'Редактиране на специално предложение' : 'Ново специално предложение'}</h2>\r\n              <form onSubmit={handleSubmit} className=\"admin-form\">\r\n                <div className=\"form-group\">\r\n                  <label>Заглавие</label>\r\n                  <input \r\n                    type=\"text\" \r\n                    name=\"title\" \r\n                    value={formData.title} \r\n                    onChange={handleInputChange} \r\n                    required \r\n                    placeholder=\"Напр.: Щастлив час, 2+1 безплатно и т.н.\"\r\n                  />\r\n                </div>\r\n                \r\n                <div className=\"form-group\">\r\n                  <label>Описание</label>\r\n                  <textarea \r\n                    name=\"description\" \r\n                    value={formData.description} \r\n                    onChange={handleInputChange} \r\n                    rows=\"3\"\r\n                    placeholder=\"Подробно описание на специалното предложение\"\r\n                  />\r\n                </div>\r\n                \r\n                <div className=\"form-row\">\r\n                  <div className=\"form-group\">\r\n                    <label>Тип отстъпка</label>\r\n                    <select \r\n                      name=\"discount_type\" \r\n                      value={formData.discount_type} \r\n                      onChange={handleInputChange} \r\n                      required\r\n                    >\r\n                      <option value=\"percentage\">Процент (%)</option>\r\n                      <option value=\"fixed\">Фиксирана сума (лв.)</option>\r\n                      <option value=\"free_item\">Безплатен продукт</option>\r\n                    </select>\r\n                  </div>\r\n                  \r\n                  {formData.discount_type !== 'free_item' && (\r\n                    <div className=\"form-group\">\r\n                      <label>Стойност на отстъпката</label>\r\n                      <input \r\n                        type=\"number\" \r\n                        name=\"discount_value\" \r\n                        value={formData.discount_value} \r\n                        onChange={handleInputChange} \r\n                        min={formData.discount_type === 'percentage' ? 1 : 0.01}\r\n                        max={formData.discount_type === 'percentage' ? 100 : undefined}\r\n                        step={formData.discount_type === 'percentage' ? 1 : 0.01}\r\n                        required\r\n                      />\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                \r\n                <div className=\"form-row\">\r\n                  <div className=\"form-group\">\r\n                    <label>Начална дата</label>\r\n                    <input \r\n                      type=\"date\" \r\n                      name=\"start_date\" \r\n                      value={formData.start_date} \r\n                      onChange={handleInputChange} \r\n                    />\r\n                  </div>\r\n                  \r\n                  <div className=\"form-group\">\r\n                    <label>Крайна дата</label>\r\n                    <input \r\n                      type=\"date\" \r\n                      name=\"end_date\" \r\n                      value={formData.end_date} \r\n                      onChange={handleInputChange} \r\n                    />\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"form-group\">\r\n                  <label>В кои дни от седмицата важи</label>\r\n                  <div className=\"days-of-week-container\">\r\n                    {['monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday', 'sunday'].map(day => (\r\n                      <label key={day} className=\"day-checkbox\">\r\n                        <input \r\n                          type=\"checkbox\" \r\n                          checked={formData.days_of_week.includes(day)} \r\n                          onChange={() => handleDaysOfWeekChange(day)} \r\n                        />\r\n                        {day === 'monday' ? 'Пн' : \r\n                         day === 'tuesday' ? 'Вт' : \r\n                         day === 'wednesday' ? 'Ср' : \r\n                         day === 'thursday' ? 'Чт' : \r\n                         day === 'friday' ? 'Пт' : \r\n                         day === 'saturday' ? 'Сб' : 'Нд'}\r\n                      </label>\r\n                    ))}\r\n                  </div>\r\n                  <small>Оставете всички празни, за да важи всеки ден</small>\r\n                </div>\r\n                <div className=\"form-row\">\r\n              <div className=\"form-group\">\r\n                <label>Начален час</label>\r\n                <input \r\n                  type=\"time\" \r\n                  name=\"start_time\" \r\n                  value={formData.start_time} \r\n                  onChange={handleInputChange} \r\n                />\r\n              </div>\r\n              \r\n              <div className=\"form-group\">\r\n                <label>Краен час</label>\r\n                <input \r\n                  type=\"time\" \r\n                  name=\"end_time\" \r\n                  value={formData.end_time} \r\n                  onChange={handleInputChange} \r\n                />\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"form-row\">\r\n              <div className=\"form-group\">\r\n                <label>Минимална поръчка (лв.)</label>\r\n                <input \r\n                  type=\"number\" \r\n                  name=\"min_order\" \r\n                  value={formData.min_order} \r\n                  onChange={handleInputChange} \r\n                  min=\"0\"\r\n                  step=\"0.01\"\r\n                  placeholder=\"Оставете празно, ако няма\"\r\n                />\r\n              </div>\r\n              \r\n              <div className=\"form-group\">\r\n                <label>Максимален брой използвания</label>\r\n                <input \r\n                  type=\"number\" \r\n                  name=\"max_uses\" \r\n                  value={formData.max_uses} \r\n                  onChange={handleInputChange} \r\n                  min=\"1\"\r\n                  placeholder=\"Оставете празно, ако няма лимит\"\r\n                />\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"form-group\">\r\n              <label>URL на изображение</label>\r\n              <input \r\n                type=\"url\" \r\n                name=\"image_url\" \r\n                value={formData.image_url} \r\n                onChange={handleInputChange} \r\n                placeholder=\"http://example.com/image.jpg\"\r\n              />\r\n            </div>\r\n            \r\n            <div className=\"form-group\">\r\n              <label>За какво се отнася</label>\r\n              <select \r\n                name=\"applies_to\" \r\n                value={formData.applies_to} \r\n                onChange={handleInputChange} \r\n                required\r\n              >\r\n                <option value=\"all\">Всички продукти</option>\r\n                <option value=\"category\">Конкретна категория</option>\r\n                <option value=\"item\">Конкретен продукт</option>\r\n              </select>\r\n            </div>\r\n            \r\n            {formData.applies_to === 'category' && (\r\n              <div className=\"form-group\">\r\n                <label>Изберете категория</label>\r\n                <select \r\n                  name=\"applies_to_id\" \r\n                  value={formData.applies_to_id} \r\n                  onChange={handleInputChange} \r\n                  required\r\n                >\r\n                  <option value=\"\">Изберете категория</option>\r\n                  {menuCategories.map(category => (\r\n                    <option key={category.id} value={category.id}>\r\n                      {category.name}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n            )}\r\n            \r\n            {formData.applies_to === 'item' && (\r\n              <div className=\"form-group\">\r\n                <label>Изберете продукт</label>\r\n                <select \r\n                  name=\"applies_to_id\" \r\n                  value={formData.applies_to_id} \r\n                  onChange={handleInputChange} \r\n                  required\r\n                >\r\n                  <option value=\"\">Изберете продукт</option>\r\n                  {menuItems.map(item => (\r\n                    <option key={item.id} value={item.id}>\r\n                      {item.name} ({item.menu_categories?.name || 'Без категория'}) - {item.price?.toFixed(2)} лв.\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n            )}\r\n            \r\n            <div className=\"form-group checkbox-group\">\r\n              <label>\r\n                <input \r\n                  type=\"checkbox\" \r\n                  name=\"active\" \r\n                  checked={formData.active} \r\n                  onChange={handleInputChange} \r\n                />\r\n                Активно\r\n              </label>\r\n            </div>\r\n            \r\n            <div className=\"form-buttons\">\r\n              <button type=\"button\" className=\"admin-cancel-btn\" onClick={() => setShowForm(false)}>\r\n                Отказ\r\n              </button>\r\n              <button type=\"submit\" className=\"admin-submit-btn\">\r\n                {editingId ? 'Запази промените' : 'Добави специално предложение'}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      )}\r\n      {/* Списък със специални предложения */}\r\n      <div className=\"admin-table-container\">\r\n        {offers.length === 0 ? (\r\n          <div className=\"admin-no-data\">\r\n            <p>Няма намерени специални предложения.</p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"special-offers-grid\">\r\n            {offers.map(offer => (\r\n              <div key={offer.id} className={`special-offer-card ${isOfferActive(offer) ? 'active' : 'inactive'}`}>\r\n                <div className=\"special-offer-header\">\r\n                  <h3>{offer.title}</h3>\r\n                  <div className=\"special-offer-status\">\r\n                    {isOfferActive(offer) ? (\r\n                      <span className=\"status-badge active\">Активно</span>\r\n                    ) : (\r\n                      offer.active ? (\r\n                        offer.start_date && new Date(offer.start_date) > new Date() ? (\r\n                          <span className=\"status-badge upcoming\">Предстоящо</span>\r\n                        ) : (\r\n                          <span className=\"status-badge expired\">Изтекло</span>\r\n                        )\r\n                      ) : (\r\n                        <span className=\"status-badge inactive\">Неактивно</span>\r\n                      )\r\n                    )}\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"special-offer-content\">\r\n                  {offer.image_url && (\r\n                    <div className=\"special-offer-image\">\r\n                      <img src={offer.image_url} alt={offer.title} />\r\n                    </div>\r\n                  )}\r\n                  \r\n                  <div className=\"special-offer-details\">\r\n                    <p className=\"special-offer-discount\">\r\n                      <i className=\"fas fa-tag\"></i> {getDiscountText(offer)}\r\n                    </p>\r\n                    \r\n                    <p className=\"special-offer-applies-to\">\r\n                      <i className=\"fas fa-shopping-basket\"></i> {getAppliesText(offer)}\r\n                    </p>\r\n                    \r\n                    <div className=\"special-offer-period\">\r\n                      {(offer.start_date || offer.end_date) && (\r\n                        <p>\r\n                          <i className=\"fas fa-calendar-alt\"></i> \r\n                          {offer.start_date ? formatDate(offer.start_date) : 'Без начална дата'} - \r\n                          {offer.end_date ? formatDate(offer.end_date) : 'Без крайна дата'}\r\n                        </p>\r\n                      )}\r\n                      \r\n                      {offer.days_of_week && offer.days_of_week.length > 0 && (\r\n                        <p>\r\n                          <i className=\"fas fa-calendar-week\"></i> {getDaysOfWeekLabels(offer.days_of_week)}\r\n                        </p>\r\n                      )}\r\n                      \r\n                      {(offer.start_time || offer.end_time) && (\r\n                        <p>\r\n                          <i className=\"fas fa-clock\"></i> \r\n                          {offer.start_time || '00:00'} - {offer.end_time || '23:59'}\r\n                        </p>\r\n                      )}\r\n                    </div>\r\n                    \r\n                    {offer.description && (\r\n                      <p className=\"special-offer-description\">{offer.description}</p>\r\n                    )}\r\n                    \r\n                    <div className=\"special-offer-conditions\">\r\n                      {offer.min_order > 0 && (\r\n                        <p>\r\n                          <i className=\"fas fa-shopping-cart\"></i> Минимална поръчка: {offer.min_order.toFixed(2)} лв.\r\n                        </p>\r\n                      )}\r\n                      \r\n                      {offer.max_uses > 0 && (\r\n                        <p>\r\n                          <i className=\"fas fa-ticket-alt\"></i> Максимален брой използвания: {offer.max_uses}\r\n                        </p>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"special-offer-actions\">\r\n                  <button \r\n                    className=\"admin-action-btn toggle-active\"\r\n                    onClick={() => toggleActive(offer.id, offer.active)}\r\n                    title={offer.active ? 'Деактивирай' : 'Активирай'}\r\n                  >\r\n                    <i className={`fas fa-${offer.active ? 'toggle-off' : 'toggle-on'}`}></i>\r\n                  </button>\r\n                  <button \r\n                    className=\"admin-action-btn edit\"\r\n                    onClick={() => handleEdit(offer)}\r\n                  >\r\n                    <i className=\"fas fa-edit\"></i>\r\n                  </button>\r\n                  <button \r\n                    className=\"admin-action-btn delete\"\r\n                    onClick={() => handleDelete(offer.id)}\r\n                  >\r\n                    <i className=\"fas fa-trash\"></i>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n// Подсекция Галерия\r\nfunction AdminGallerySection({ restaurant, supabase }) {\r\n    const [galleryItems, setGalleryItems] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [showForm, setShowForm] = useState(false);\r\n    const [formData, setFormData] = useState({\r\n      title: '',\r\n      description: '',\r\n      image_url: '',\r\n      type: 'general', // 'general', 'food', 'interior', 'exterior', 'events'\r\n      order: 0,\r\n      is_featured: false\r\n    });\r\n    const [editingId, setEditingId] = useState(null);\r\n    const [filter, setFilter] = useState('all');\r\n    const [isUploading, setIsUploading] = useState(false);\r\n    const [uploadProgress, setUploadProgress] = useState(0);\r\n    const fileInputRef = useRef(null);\r\n  \r\n    useEffect(() => {\r\n      if (!restaurant) return;\r\n  \r\n      const fetchGallery = async () => {\r\n        try {\r\n          setLoading(true);\r\n          \r\n          let query = supabase\r\n            .from('gallery')\r\n            .select('*')\r\n            .eq('restaurant_id', restaurant.id);\r\n          \r\n          if (filter !== 'all') {\r\n            query = query.eq('type', filter);\r\n          }\r\n          \r\n          const { data, error } = await query\r\n            .order('is_featured', { ascending: false })\r\n            .order('order', { ascending: true });\r\n          \r\n          if (error) throw error;\r\n          \r\n          setGalleryItems(data || []);\r\n        } catch (error) {\r\n          console.error('Error fetching gallery:', error);\r\n        } finally {\r\n          setLoading(false);\r\n        }\r\n      };\r\n      \r\n      fetchGallery();\r\n    }, [restaurant, filter, supabase]);\r\n  \r\n    const handleInputChange = (e) => {\r\n      const { name, value, type, checked } = e.target;\r\n      setFormData({\r\n        ...formData,\r\n        [name]: type === 'checkbox' ? checked : \r\n                name === 'order' ? parseInt(value, 10) : value\r\n      });\r\n    };\r\n  \r\n    const resetForm = () => {\r\n      setFormData({\r\n        title: '',\r\n        description: '',\r\n        image_url: '',\r\n        type: 'general',\r\n        order: galleryItems.length > 0 ? Math.max(...galleryItems.map(item => item.order || 0)) + 1 : 0,\r\n        is_featured: false\r\n      });\r\n      setEditingId(null);\r\n      if (fileInputRef.current) {\r\n        fileInputRef.current.value = '';\r\n      }\r\n    };\r\n    const handleFileChange = async (e) => {\r\n        const file = e.target.files[0];\r\n        if (!file) return;\r\n        \r\n        // Проверка на типа файл\r\n        if (!['image/jpeg', 'image/png', 'image/webp', 'image/gif'].includes(file.type)) {\r\n          alert('Моля, качете изображение (JPEG, PNG, WEBP, GIF)');\r\n          if (fileInputRef.current) {\r\n            fileInputRef.current.value = '';\r\n          }\r\n          return;\r\n        }\r\n        \r\n        // Проверка на размера (максимум 5MB)\r\n        if (file.size > 5 * 1024 * 1024) {\r\n          alert('Размерът на файла не може да надвишава 5MB');\r\n          if (fileInputRef.current) {\r\n            fileInputRef.current.value = '';\r\n          }\r\n          return;\r\n        }\r\n        \r\n        try {\r\n          setIsUploading(true);\r\n          setUploadProgress(0);\r\n          \r\n          // Генериране на уникално име на файла\r\n          const fileExt = file.name.split('.').pop();\r\n          const fileName = `${restaurant.id}/${Date.now()}.${fileExt}`;\r\n          \r\n          // Качване на файла в Supabase Storage\r\n          const { data, error } = await supabase.storage\r\n            .from('gallery_images')\r\n            .upload(fileName, file, {\r\n              cacheControl: '3600',\r\n              upsert: false,\r\n              onUploadProgress: (progress) => {\r\n                setUploadProgress(Math.round((progress.loaded / progress.total) * 100));\r\n              }\r\n            });\r\n          \r\n          if (error) throw error;\r\n          \r\n          // Получаване на публичен URL на качения файл\r\n          const { data: urlData } = supabase.storage\r\n            .from('gallery_images')\r\n            .getPublicUrl(data.path);\r\n          \r\n          // Актуализиране на формата с URL-а на изображението\r\n          setFormData({\r\n            ...formData,\r\n            image_url: urlData.publicUrl\r\n          });\r\n          \r\n          setIsUploading(false);\r\n        } catch (error) {\r\n          console.error('Error uploading image:', error);\r\n          alert('Възникна грешка при качване на изображението');\r\n          setIsUploading(false);\r\n        }\r\n      };\r\n    \r\n      const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        \r\n        if (!formData.image_url) {\r\n          alert('Моля, качете или въведете URL на изображение');\r\n          return;\r\n        }\r\n        \r\n        try {\r\n          const fullData = {\r\n            ...formData,\r\n            restaurant_id: restaurant.id\r\n          };\r\n          \r\n          let result;\r\n          \r\n          if (editingId) {\r\n            const { data, error } = await supabase\r\n              .from('gallery')\r\n              .update(fullData)\r\n              .eq('id', editingId)\r\n              .select();\r\n            \r\n            if (error) throw error;\r\n            result = data[0];\r\n            \r\n            // Актуализиране на локалния списък\r\n            setGalleryItems(galleryItems.map(item => \r\n              item.id === editingId ? { ...item, ...result } : item\r\n            ));\r\n          } else {\r\n            const { data, error } = await supabase\r\n              .from('gallery')\r\n              .insert([fullData])\r\n              .select();\r\n            \r\n            if (error) throw error;\r\n            result = data[0];\r\n            \r\n            // Добавяне към локалния списък, ако съответства на текущия филтър\r\n            if (filter === 'all' || filter === result.type) {\r\n              setGalleryItems([...galleryItems, result]);\r\n            }\r\n          }\r\n          \r\n          resetForm();\r\n          setShowForm(false);\r\n        } catch (error) {\r\n          console.error('Error saving gallery item:', error);\r\n          alert('Възникна грешка при запазване на изображението');\r\n        }\r\n      };\r\n      const handleEdit = (item) => {\r\n        setFormData({\r\n          title: item.title || '',\r\n          description: item.description || '',\r\n          image_url: item.image_url,\r\n          type: item.type || 'general',\r\n          order: item.order || 0,\r\n          is_featured: item.is_featured || false\r\n        });\r\n        setEditingId(item.id);\r\n        setShowForm(true);\r\n      };\r\n    \r\n      const handleDelete = async (id, imageUrl) => {\r\n        if (!window.confirm(\"Сигурни ли сте, че искате да изтриете това изображение?\")) {\r\n          return;\r\n        }\r\n        \r\n        try {\r\n          // Изтриване на записа от базата данни\r\n          const { error } = await supabase\r\n            .from('gallery')\r\n            .delete()\r\n            .eq('id', id);\r\n          \r\n          if (error) throw error;\r\n          \r\n          // Опит за изтриване на файла от Storage (ако е в нашия Storage)\r\n          if (imageUrl.includes('supabase') && imageUrl.includes('/storage/v1/object/public/gallery_images/')) {\r\n            try {\r\n              const path = imageUrl.split('/gallery_images/')[1];\r\n              if (path) {\r\n                await supabase.storage\r\n                  .from('gallery_images')\r\n                  .remove([path]);\r\n              }\r\n            } catch (storageError) {\r\n              console.error('Error deleting file from storage:', storageError);\r\n              // Не прекъсваме процеса, ако изтриването от storage се провали\r\n            }\r\n          }\r\n          \r\n          // Премахване от локалния списък\r\n          setGalleryItems(galleryItems.filter(item => item.id !== id));\r\n        } catch (error) {\r\n          console.error('Error deleting gallery item:', error);\r\n          alert('Възникна грешка при изтриване на изображението');\r\n        }\r\n      };\r\n    \r\n      const toggleFeatured = async (id, currentStatus) => {\r\n        try {\r\n          const { error } = await supabase\r\n            .from('gallery')\r\n            .update({ is_featured: !currentStatus })\r\n            .eq('id', id);\r\n          \r\n          if (error) throw error;\r\n          \r\n          // Актуализиране на локалния списък\r\n          setGalleryItems(galleryItems.map(item => \r\n            item.id === id ? { ...item, is_featured: !currentStatus } : item\r\n          ));\r\n        } catch (error) {\r\n          console.error('Error updating featured status:', error);\r\n          alert('Възникна грешка при промяна на статуса');\r\n        }\r\n      };\r\n    \r\n      const handleFilterChange = (newFilter) => {\r\n        setFilter(newFilter);\r\n      };\r\n    \r\n      const getTypeLabel = (type) => {\r\n        switch (type) {\r\n          case 'food': return 'Храна';\r\n          case 'interior': return 'Интериор';\r\n          case 'exterior': return 'Екстериор';\r\n          case 'events': return 'Събития';\r\n          default: return 'Общи';\r\n        }\r\n      };\r\n    \r\n      if (loading) {\r\n        return <div>Зареждане на галерия...</div>;\r\n      }\r\n      return (\r\n        <div>\r\n          <h1>Галерия и изображения: {restaurant?.name}</h1>\r\n          \r\n          <div className=\"admin-controls\">\r\n            <div className=\"admin-filters\">\r\n              <button \r\n                className={`admin-filter-btn ${filter === 'all' ? 'active' : ''}`} \r\n                onClick={() => handleFilterChange('all')}\r\n              >\r\n                Всички\r\n              </button>\r\n              <button \r\n                className={`admin-filter-btn ${filter === 'general' ? 'active' : ''}`} \r\n                onClick={() => handleFilterChange('general')}\r\n              >\r\n                Общи\r\n              </button>\r\n              <button \r\n                className={`admin-filter-btn ${filter === 'food' ? 'active' : ''}`} \r\n                onClick={() => handleFilterChange('food')}\r\n              >\r\n                Храна\r\n              </button>\r\n              <button \r\n                className={`admin-filter-btn ${filter === 'interior' ? 'active' : ''}`} \r\n                onClick={() => handleFilterChange('interior')}\r\n              >\r\n                Интериор\r\n              </button>\r\n              <button \r\n                className={`admin-filter-btn ${filter === 'exterior' ? 'active' : ''}`} \r\n                onClick={() => handleFilterChange('exterior')}\r\n              >\r\n                Екстериор\r\n              </button>\r\n              <button \r\n                className={`admin-filter-btn ${filter === 'events' ? 'active' : ''}`} \r\n                onClick={() => handleFilterChange('events')}\r\n              >\r\n                Събития\r\n              </button>\r\n            </div>\r\n            \r\n            <button \r\n              className=\"admin-add-btn\"\r\n              onClick={() => {\r\n                resetForm();\r\n                setShowForm(!showForm);\r\n              }}\r\n            >\r\n              {showForm ? 'Отказ' : 'Добави изображение'}\r\n            </button>\r\n          </div>\r\n          \r\n          {/* Форма за добавяне/редактиране на изображение */}\r\n          {showForm && (\r\n            <div className=\"admin-form-container\">\r\n              <h2>{editingId ? 'Редактиране на изображение' : 'Ново изображение'}</h2>\r\n              <form onSubmit={handleSubmit} className=\"admin-form\">\r\n                <div className=\"form-group\">\r\n                  <label>Заглавие</label>\r\n                  <input \r\n                    type=\"text\" \r\n                    name=\"title\" \r\n                    value={formData.title} \r\n                    onChange={handleInputChange} \r\n                    placeholder=\"Заглавие на изображението (незадължително)\"\r\n                  />\r\n                </div>\r\n                \r\n                <div className=\"form-group\">\r\n                  <label>Описание</label>\r\n                  <textarea \r\n                    name=\"description\" \r\n                    value={formData.description} \r\n                    onChange={handleInputChange} \r\n                    rows=\"2\"\r\n                    placeholder=\"Кратко описание (незадължително)\"\r\n                  />\r\n                </div>\r\n                \r\n                <div className=\"form-group\">\r\n                  <label>Категория</label>\r\n                  <select \r\n                    name=\"type\" \r\n                    value={formData.type} \r\n                    onChange={handleInputChange} \r\n                    required\r\n                  >\r\n                    <option value=\"general\">Общи</option>\r\n                    <option value=\"food\">Храна</option>\r\n                    <option value=\"interior\">Интериор</option>\r\n                    <option value=\"exterior\">Екстериор</option>\r\n                    <option value=\"events\">Събития</option>\r\n                  </select>\r\n                </div>\r\n                \r\n                <div className=\"form-row\">\r\n                  <div className=\"form-group\">\r\n                    <label>Ред на показване</label>\r\n                    <input \r\n                      type=\"number\" \r\n                      name=\"order\" \r\n                      value={formData.order} \r\n                      onChange={handleInputChange} \r\n                      min=\"0\"\r\n                    />\r\n                  </div>\r\n                  \r\n                  <div className=\"form-group checkbox-group\">\r\n                    <label>\r\n                      <input \r\n                        type=\"checkbox\" \r\n                        name=\"is_featured\" \r\n                        checked={formData.is_featured} \r\n                        onChange={handleInputChange} \r\n                      />\r\n                      Featured изображение (показва се на началната страница)\r\n                    </label>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"form-group\">\r\n                  <label>Изображение</label>\r\n                  {formData.image_url ? (\r\n                    <div className=\"image-preview\">\r\n                      <img src={formData.image_url} alt=\"Предварителен преглед\" />\r\n                      <button \r\n                        type=\"button\" \r\n                        onClick={() => setFormData({...formData, image_url: ''})}\r\n                        className=\"remove-image-btn\"\r\n                      >\r\n                        <i className=\"fas fa-times\"></i> Премахни\r\n                      </button>\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"upload-container\">\r\n                      <input \r\n                        type=\"file\"\r\n                        accept=\"image/*\"\r\n                        onChange={handleFileChange}\r\n                        disabled={isUploading}\r\n                        ref={fileInputRef}\r\n                      />\r\n                      {isUploading && (\r\n                        <div className=\"upload-progress\">\r\n                          <div \r\n                            className=\"progress-bar\" \r\n                            style={{ width: `${uploadProgress}%` }}\r\n                          ></div>\r\n                          <span>{uploadProgress}%</span>\r\n                        </div>\r\n                      )}\r\n                      <div className=\"upload-separator\">или</div>\r\n                      <input \r\n                        type=\"url\" \r\n                        name=\"image_url\" \r\n                        value={formData.image_url} \r\n                        onChange={handleInputChange} \r\n                        placeholder=\"Въведете URL на изображение\"\r\n                        disabled={isUploading}\r\n                      />\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                \r\n                <div className=\"form-buttons\">\r\n                  <button type=\"button\" className=\"admin-cancel-btn\" onClick={() => setShowForm(false)}>\r\n                    Отказ\r\n                  </button>\r\n                  <button \r\n                    type=\"submit\" \r\n                    className=\"admin-submit-btn\"\r\n                    disabled={isUploading}\r\n                  >\r\n                    {editingId ? 'Запази промените' : 'Добави изображение'}\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          )}\r\n          {/* Галерия с изображения */}\r\n      <div className=\"admin-gallery-container\">\r\n        {galleryItems.length === 0 ? (\r\n          <div className=\"admin-no-data\">\r\n            <p>Няма добавени изображения в тази категория.</p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"admin-gallery-grid\">\r\n            {galleryItems.map(item => (\r\n              <div key={item.id} className={`gallery-item ${item.is_featured ? 'featured' : ''}`}>\r\n                <div className=\"gallery-image\">\r\n                  <img src={item.image_url} alt={item.title || 'Изображение на галерия'} />\r\n                  {item.is_featured && (\r\n                    <div className=\"featured-badge\">\r\n                      <i className=\"fas fa-star\"></i> Featured\r\n                    </div>\r\n                  )}\r\n                  <div className=\"gallery-overlay\">\r\n                    <button \r\n                      className=\"gallery-action-btn view\"\r\n                      onClick={() => window.open(item.image_url, '_blank')}\r\n                    >\r\n                      <i className=\"fas fa-search-plus\"></i>\r\n                    </button>\r\n                    <button \r\n                      className=\"gallery-action-btn star\"\r\n                      onClick={() => toggleFeatured(item.id, item.is_featured)}\r\n                    >\r\n                      <i className={`fas fa-${item.is_featured ? 'star' : 'star'}`}></i>\r\n                    </button>\r\n                    <button \r\n                      className=\"gallery-action-btn edit\"\r\n                      onClick={() => handleEdit(item)}\r\n                    >\r\n                      <i className=\"fas fa-edit\"></i>\r\n                    </button>\r\n                    <button \r\n                      className=\"gallery-action-btn delete\"\r\n                      onClick={() => handleDelete(item.id, item.image_url)}\r\n                    >\r\n                      <i className=\"fas fa-trash\"></i>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n                <div className=\"gallery-info\">\r\n                  {item.title && <h4>{item.title}</h4>}\r\n                  {item.description && <p>{item.description}</p>}\r\n                  <div className=\"gallery-meta\">\r\n                    <span className=\"gallery-type\">{getTypeLabel(item.type)}</span>\r\n                    <span className=\"gallery-order\">Ред: {item.order}</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAC1D,SAASC,WAAW,EAAEC,SAAS,QAAQ,kBAAkB;AACzD,SAASC,OAAO,QAAQ,wBAAwB;AAChD,OAAO,qBAAqB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE7B,SAASC,cAAcA,CAAA,EAAG;EAAAC,EAAA;EACxB,MAAM;IAAEC,IAAI;IAAEC,QAAQ;IAAEC,YAAY;IAAEC,iBAAiB;IAAEC,QAAQ;IAAEC;EAAQ,CAAC,GAAGZ,OAAO,CAAC,CAAC;EACxF,MAAM,CAACa,OAAO,EAAEC,UAAU,CAAC,GAAGnB,QAAQ,CAAC,WAAW,CAAC;EACnD,MAAM,CAACoB,WAAW,EAAEC,cAAc,CAAC,GAAGrB,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACsB,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGvB,QAAQ,CAAC,IAAI,CAAC;EAClE,MAAM,CAACwB,OAAO,EAAEC,UAAU,CAAC,GAAGzB,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM0B,QAAQ,GAAGvB,WAAW,CAAC,CAAC;EAC9B,MAAM;IAAEe,OAAO,EAAES,UAAU;IAAEC;EAAa,CAAC,GAAGxB,SAAS,CAAC,CAAC;;EAEzD;EACAH,SAAS,CAAC,MAAM;IACd,IAAI0B,UAAU,EAAE;MACdR,UAAU,CAACQ,UAAU,CAAC;IACxB;EACF,CAAC,EAAE,CAACA,UAAU,CAAC,CAAC;EAEhB1B,SAAS,CAAC,MAAM;IACd,MAAM4B,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC5B,IAAI;QACFJ,UAAU,CAAC,IAAI,CAAC;QAEhB,IAAI,CAACb,IAAI,EAAE;UACTc,QAAQ,CAAC,QAAQ,CAAC;UAClB;QACF;;QAEA;QACA,IAAI,CAACZ,YAAY,CAAC,CAAC,IAAI,CAACC,iBAAiB,CAAC,CAAC,EAAE;UAC3CW,QAAQ,CAAC,GAAG,CAAC;UACb;QACF;;QAEA;QACA,IAAII,gBAAgB,GAAGd,QAAQ,CAACe,IAAI,CAAC,aAAa,CAAC,CAACC,MAAM,CAAC,GAAG,CAAC;;QAE/D;QACA,IAAIjB,iBAAiB,CAAC,CAAC,EAAE;UACvBe,gBAAgB,GAAGA,gBAAgB,CAACG,EAAE,CAAC,IAAI,EAAEpB,QAAQ,CAACqB,aAAa,CAAC;QACtE;QAEA,MAAM;UAAEC,IAAI,EAAEC,eAAe;UAAEC,KAAK,EAAEC;QAAiB,CAAC,GAAG,MAAMR,gBAAgB;QAEjF,IAAIQ,gBAAgB,EAAE,MAAMA,gBAAgB;QAE5CjB,cAAc,CAACe,eAAe,CAAC;;QAE/B;QACA,IAAIR,YAAY,EAAE;UAChB,MAAMW,UAAU,GAAGH,eAAe,CAACI,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,EAAE,KAAKd,YAAY,CAAC;UACnE,IAAIW,UAAU,EAAE;YACdhB,qBAAqB,CAACgB,UAAU,CAAC;UACnC,CAAC,MAAM,IAAIH,eAAe,CAACO,MAAM,GAAG,CAAC,EAAE;YACrC;YACApB,qBAAqB,CAACa,eAAe,CAAC,CAAC,CAAC,CAAC;UAC3C;QACF,CAAC,MAAM,IAAIA,eAAe,CAACO,MAAM,GAAG,CAAC,EAAE;UACrC,IAAI5B,iBAAiB,CAAC,CAAC,EAAE;YACvBQ,qBAAqB,CAACa,eAAe,CAAC,CAAC,CAAC,CAAC;UAC3C,CAAC,MAAM,IAAItB,YAAY,CAAC,CAAC,EAAE;YACzBS,qBAAqB,CAACa,eAAe,CAAC,CAAC,CAAC,CAAC;UAC3C;QACF;MACF,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdO,OAAO,CAACP,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MACnD,CAAC,SAAS;QACRZ,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IAEDI,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,CAACjB,IAAI,EAAEC,QAAQ,EAAEC,YAAY,EAAEC,iBAAiB,EAAEW,QAAQ,EAAEE,YAAY,EAAEZ,QAAQ,CAAC,CAAC;EAEvF,MAAM6B,aAAa,GAAG,MAAAA,CAAA,KAAY;IAChC,MAAM5B,OAAO,CAAC,CAAC;IACfS,QAAQ,CAAC,QAAQ,CAAC;EACpB,CAAC;;EAED;EACA,MAAMoB,aAAa,GAAIC,UAAU,IAAK;IACpC5B,UAAU,CAAC4B,UAAU,CAAC;IACtB,IAAIzB,kBAAkB,EAAE;MACtBI,QAAQ,CAAC,qBAAqBJ,kBAAkB,CAACoB,EAAE,IAAIK,UAAU,EAAE,CAAC;IACtE,CAAC,MAAM;MACLrB,QAAQ,CAAC,UAAUqB,UAAU,EAAE,CAAC;IAClC;EACF,CAAC;;EAED;EACA,MAAMC,gBAAgB,GAAIpB,YAAY,IAAK;IACzC,MAAMqB,QAAQ,GAAG7B,WAAW,CAACoB,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,EAAE,KAAKd,YAAY,CAAC;IAC7DL,qBAAqB,CAAC0B,QAAQ,CAAC;IAC/BvB,QAAQ,CAAC,qBAAqBE,YAAY,IAAIV,OAAO,EAAE,CAAC;EAC1D,CAAC;EAED,IAAIM,OAAO,EAAE;IACX,oBAAOjB,OAAA;MAAK2C,SAAS,EAAC,eAAe;MAAAC,QAAA,EAAC;IAAsC;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EACpF;EAEA,oBACEhD,OAAA;IAAK2C,SAAS,EAAC,iBAAiB;IAAAC,QAAA,gBAC9B5C,OAAA;MAAK2C,SAAS,EAAC,eAAe;MAAAC,QAAA,gBAC5B5C,OAAA;QAAK2C,SAAS,EAAC,sBAAsB;QAAAC,QAAA,gBACnC5C,OAAA;UAAA4C,QAAA,EAAI;QAAW;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACpBhD,OAAA;UAAA4C,QAAA,EAAIrC,YAAY,CAAC,CAAC,GAAG,sBAAsB,GAAG;QAA4B;UAAAsC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,EAE9EzC,YAAY,CAAC,CAAC,IAAIM,WAAW,CAACuB,MAAM,GAAG,CAAC,iBACvCpC,OAAA;UAAK2C,SAAS,EAAC,qBAAqB;UAAAC,QAAA,gBAClC5C,OAAA;YAAA4C,QAAA,EAAO;UAAiB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAChChD,OAAA;YACEiD,KAAK,EAAE,CAAAlC,kBAAkB,aAAlBA,kBAAkB,uBAAlBA,kBAAkB,CAAEoB,EAAE,KAAI,EAAG;YACpCe,QAAQ,EAAGC,CAAC,IAAKV,gBAAgB,CAACU,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;YAAAL,QAAA,EAEjD/B,WAAW,CAACwC,GAAG,CAAErB,UAAU,iBAC1BhC,OAAA;cAA4BiD,KAAK,EAAEjB,UAAU,CAACG,EAAG;cAAAS,QAAA,EAC9CZ,UAAU,CAACsB;YAAI,GADLtB,UAAU,CAACG,EAAE;cAAAU,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAElB,CACT;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CACN;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eAENhD,OAAA;QAAI2C,SAAS,EAAC,YAAY;QAAAC,QAAA,gBACxB5C,OAAA;UACE2C,SAAS,EAAEhC,OAAO,KAAK,WAAW,GAAG,QAAQ,GAAG,EAAG;UACnD4C,OAAO,EAAEA,CAAA,KAAMhB,aAAa,CAAC,WAAW,CAAE;UAAAK,QAAA,gBAE1C5C,OAAA;YAAG2C,SAAS,EAAC;UAAuB;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,mCAC3C;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAELhD,OAAA;UACE2C,SAAS,EAAEhC,OAAO,KAAK,cAAc,GAAG,QAAQ,GAAG,EAAG;UACtD4C,OAAO,EAAEA,CAAA,KAAMhB,aAAa,CAAC,cAAc,CAAE;UAAAK,QAAA,gBAE7C5C,OAAA;YAAG2C,SAAS,EAAC;UAAuB;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,iEAC3C;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAELhD,OAAA;UACE2C,SAAS,EAAEhC,OAAO,KAAK,MAAM,GAAG,QAAQ,GAAG,EAAG;UAC9C4C,OAAO,EAAEA,CAAA,KAAMhB,aAAa,CAAC,MAAM,CAAE;UAAAK,QAAA,gBAErC5C,OAAA;YAAG2C,SAAS,EAAC;UAAiB;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,6BACrC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAELhD,OAAA;UACE2C,SAAS,EAAEhC,OAAO,KAAK,QAAQ,GAAG,QAAQ,GAAG,EAAG;UAChD4C,OAAO,EAAEA,CAAA,KAAMhB,aAAa,CAAC,QAAQ,CAAE;UAAAK,QAAA,gBAEvC5C,OAAA;YAAG2C,SAAS,EAAC;UAAqB;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,+CACzC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAELhD,OAAA;UACE2C,SAAS,EAAEhC,OAAO,KAAK,gBAAgB,GAAG,QAAQ,GAAG,EAAG;UACxD4C,OAAO,EAAEA,CAAA,KAAMhB,aAAa,CAAC,gBAAgB,CAAE;UAAAK,QAAA,gBAE/C5C,OAAA;YAAG2C,SAAS,EAAC;UAAmB;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,8HACvC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAELhD,OAAA;UACE2C,SAAS,EAAEhC,OAAO,KAAK,QAAQ,GAAG,QAAQ,GAAG,EAAG;UAChD4C,OAAO,EAAEA,CAAA,KAAMhB,aAAa,CAAC,QAAQ,CAAE;UAAAK,QAAA,gBAEvC5C,OAAA;YAAG2C,SAAS,EAAC;UAAc;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,uGAClC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAELhD,OAAA;UACE2C,SAAS,EAAEhC,OAAO,KAAK,SAAS,GAAG,QAAQ,GAAG,EAAG;UACjD4C,OAAO,EAAEA,CAAA,KAAMhB,aAAa,CAAC,SAAS,CAAE;UAAAK,QAAA,gBAExC5C,OAAA;YAAG2C,SAAS,EAAC;UAAe;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,yHACnC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,EAEJzC,YAAY,CAAC,CAAC,iBACbP,OAAA,CAAAE,SAAA;UAAA0C,QAAA,gBACE5C,OAAA;YACE2C,SAAS,EAAEhC,OAAO,KAAK,aAAa,GAAG,QAAQ,GAAG,EAAG;YACrD4C,OAAO,EAAEA,CAAA,KAAMhB,aAAa,CAAC,aAAa,CAAE;YAAAK,QAAA,gBAE5C5C,OAAA;cAAG2C,SAAS,EAAC;YAAc;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,2IAClC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACLhD,OAAA;YACE2C,SAAS,EAAEhC,OAAO,KAAK,QAAQ,GAAG,QAAQ,GAAG,EAAG;YAChD4C,OAAO,EAAEA,CAAA,KAAMhB,aAAa,CAAC,QAAQ,CAAE;YAAAK,QAAA,gBAEvC5C,OAAA;cAAG2C,SAAS,EAAC;YAAkB;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,yFACtC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACLhD,OAAA;YACE2C,SAAS,EAAEhC,OAAO,KAAK,SAAS,GAAG,QAAQ,GAAG,EAAG;YACjD4C,OAAO,EAAEA,CAAA,KAAMhB,aAAa,CAAC,SAAS,CAAE;YAAAK,QAAA,gBAExC5C,OAAA;cAAG2C,SAAS,EAAC;YAAkB;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,6GACtC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC;QAAA,eACL,CACH,eAEDhD,OAAA;UAAIuD,OAAO,EAAEjB,aAAc;UAAAM,QAAA,gBACzB5C,OAAA;YAAG2C,SAAS,EAAC;UAAqB;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,mCACzC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF,CAAC,eAENhD,OAAA;MAAK2C,SAAS,EAAC,eAAe;MAAAC,QAAA,GAC3BjC,OAAO,KAAK,WAAW,iBACtBX,OAAA,CAACwD,qBAAqB;QAACxB,UAAU,EAAEjB,kBAAmB;QAACN,QAAQ,EAAEA;MAAS;QAAAoC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAC7E,EAEArC,OAAO,KAAK,cAAc,iBACzBX,OAAA,CAACyD,wBAAwB;QAACzB,UAAU,EAAEjB,kBAAmB;QAACN,QAAQ,EAAEA;MAAS;QAAAoC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAChF,EAEArC,OAAO,KAAK,MAAM,iBACjBX,OAAA,CAAC0D,gBAAgB;QAAC1B,UAAU,EAAEjB,kBAAmB;QAACN,QAAQ,EAAEA;MAAS;QAAAoC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CACxE,EAEArC,OAAO,KAAK,QAAQ,iBACnBX,OAAA,CAAC2D,kBAAkB;QAAC3B,UAAU,EAAEjB,kBAAmB;QAACN,QAAQ,EAAEA;MAAS;QAAAoC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAC1E,EAEArC,OAAO,KAAK,gBAAgB,iBAC3BX,OAAA,CAAC4D,yBAAyB;QAAC5B,UAAU,EAAEjB,kBAAmB;QAACN,QAAQ,EAAEA;MAAS;QAAAoC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CACjF,EAEArC,OAAO,KAAK,QAAQ,iBACnBX,OAAA,CAAC6D,kBAAkB;QAAC7B,UAAU,EAAEjB,kBAAmB;QAACN,QAAQ,EAAEA;MAAS;QAAAoC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAC1E,EAEArC,OAAO,KAAK,SAAS,iBACpBX,OAAA,CAAC8D,mBAAmB;QAAC9B,UAAU,EAAEjB,kBAAmB;QAACN,QAAQ,EAAEA;MAAS;QAAAoC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAC3E,EAEArC,OAAO,KAAK,aAAa,IAAIJ,YAAY,CAAC,CAAC,iBAC1CP,OAAA;QAAA4C,QAAA,gBACE5C,OAAA;UAAA4C,QAAA,EAAI;QAAwB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACjChD,OAAA;UAAA4C,QAAA,EAAG;QAAgD;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACpD,CACN,EAEArC,OAAO,KAAK,QAAQ,IAAIJ,YAAY,CAAC,CAAC,iBACrCP,OAAA;QAAA4C,QAAA,gBACE5C,OAAA;UAAA4C,QAAA,EAAI;QAA4B;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACrChD,OAAA;UAAA4C,QAAA,EAAG;QAAoD;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACxD,CACN,EAEArC,OAAO,KAAK,SAAS,IAAIJ,YAAY,CAAC,CAAC,iBACtCP,OAAA;QAAA4C,QAAA,gBACE5C,OAAA;UAAA4C,QAAA,EAAI;QAAmB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC5BhD,OAAA;UAAA4C,QAAA,EAAG;QAA2C;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC/C,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;;AAEA;AAAA5C,EAAA,CA/PSD,cAAc;EAAA,QAC0DL,OAAO,EAKrEF,WAAW,EACkBC,SAAS;AAAA;AAAAkE,EAAA,GAPhD5D,cAAc;AAgQvB,SAASqD,qBAAqBA,CAAC;EAAExB,UAAU;EAAEvB;AAAS,CAAC,EAAE;EAAAuD,GAAA;EACvD,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGzE,QAAQ,CAAC;IACjC0E,iBAAiB,EAAE,CAAC;IACpBC,YAAY,EAAE,CAAC;IACfC,WAAW,EAAE,CAAC;IACdC,cAAc,EAAE;EAClB,CAAC,CAAC;EACF,MAAM,CAACrD,OAAO,EAAEC,UAAU,CAAC,GAAGzB,QAAQ,CAAC,IAAI,CAAC;EAE5CC,SAAS,CAAC,MAAM;IACd,IAAI,CAACsC,UAAU,EAAE;IAEjB,MAAMuC,UAAU,GAAG,MAAAA,CAAA,KAAY;MAC7B,IAAI;QACFrD,UAAU,CAAC,IAAI,CAAC;;QAEhB;QACA,MAAMsD,KAAK,GAAG,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;;QAEpD;QACA,MAAM;UAAE/C,IAAI,EAAEgD,YAAY;UAAE9C,KAAK,EAAE+C;QAAkB,CAAC,GAAG,MAAMpE,QAAQ,CACpEe,IAAI,CAAC,cAAc,CAAC,CACpBC,MAAM,CAAC,GAAG,CAAC,CACXC,EAAE,CAAC,eAAe,EAAEM,UAAU,CAACG,EAAE,CAAC,CAClCT,EAAE,CAAC,MAAM,EAAE8C,KAAK,CAAC,CACjBM,EAAE,CAAC,QAAQ,EAAE,CAAC,WAAW,EAAE,SAAS,CAAC,CAAC;QAEzC,IAAID,iBAAiB,EAAE,MAAMA,iBAAiB;;QAE9C;QACA,MAAM;UAAEjD,IAAI,EAAEmD,MAAM;UAAEjD,KAAK,EAAEkD;QAAY,CAAC,GAAG,MAAMvE,QAAQ,CACxDe,IAAI,CAAC,QAAQ,CAAC,CACdC,MAAM,CAAC,GAAG,CAAC,CACXC,EAAE,CAAC,eAAe,EAAEM,UAAU,CAACG,EAAE,CAAC;QAErC,IAAI6C,WAAW,EAAE,MAAMA,WAAW;;QAElC;QACA,MAAM;UAAEpD,IAAI,EAAEqD,MAAM;UAAEnD,KAAK,EAAEoD;QAAY,CAAC,GAAG,MAAMzE,QAAQ,CACxDe,IAAI,CAAC,QAAQ,CAAC,CACdC,MAAM,CAAC,GAAG,CAAC,CACXC,EAAE,CAAC,eAAe,EAAEM,UAAU,CAACG,EAAE,CAAC,CAClCgD,GAAG,CAAC,MAAM,EAAEX,KAAK,CAAC;QAErB,IAAIU,WAAW,EAAE,MAAMA,WAAW;;QAElC;QACA,MAAME,gBAAgB,GAAGR,YAAY,CAACvB,GAAG,CAACnB,CAAC,IAAIA,CAAC,CAACmD,QAAQ,CAAC;QAC1D,MAAMjB,YAAY,GAAG,IAAIkB,GAAG,CAACF,gBAAgB,CAAC,CAACG,IAAI;QAEnDrB,QAAQ,CAAC;UACPC,iBAAiB,EAAES,YAAY,CAACxC,MAAM;UACtCgC,YAAY;UACZC,WAAW,EAAEU,MAAM,CAAC3C,MAAM;UAC1BkC,cAAc,EAAEW,MAAM,GAAGA,MAAM,CAAC7C,MAAM,GAAG;QAC3C,CAAC,CAAC;MACJ,CAAC,CAAC,OAAON,KAAK,EAAE;QACdO,OAAO,CAACP,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;MACzD,CAAC,SAAS;QACRZ,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IAEDqD,UAAU,CAAC,CAAC;EACd,CAAC,EAAE,CAACvC,UAAU,EAAEvB,QAAQ,CAAC,CAAC;EAE1B,IAAIQ,OAAO,EAAE;IACX,oBAAOjB,OAAA;MAAA4C,QAAA,EAAK;IAA0B;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EAC9C;EAEA,oBACEhD,OAAA;IAAA4C,QAAA,gBACE5C,OAAA;MAAA4C,QAAA,GAAI,kCAAO,EAACZ,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAEsB,IAAI;IAAA;MAAAT,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eAClChD,OAAA;MAAK2C,SAAS,EAAC,kBAAkB;MAAAC,QAAA,gBAC/B5C,OAAA;QAAK2C,SAAS,EAAC,iBAAiB;QAAAC,QAAA,gBAC9B5C,OAAA;UAAA4C,QAAA,EAAI;QAAe;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACxBhD,OAAA;UAAG2C,SAAS,EAAC,MAAM;UAAAC,QAAA,EAAEqB,KAAK,CAACE;QAAiB;UAAAtB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC9C,CAAC,eAENhD,OAAA;QAAK2C,SAAS,EAAC,iBAAiB;QAAAC,QAAA,gBAC9B5C,OAAA;UAAA4C,QAAA,EAAI;QAAY;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACrBhD,OAAA;UAAG2C,SAAS,EAAC,MAAM;UAAAC,QAAA,GAAEqB,KAAK,CAACG,YAAY,EAAC,GAAC,EAACH,KAAK,CAACI,WAAW;QAAA;UAAAxB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC7D,CAAC,eAENhD,OAAA;QAAK2C,SAAS,EAAC,iBAAiB;QAAAC,QAAA,gBAC9B5C,OAAA;UAAA4C,QAAA,EAAI;QAAkB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC3BhD,OAAA;UAAG2C,SAAS,EAAC,MAAM;UAAAC,QAAA,EAAEqB,KAAK,CAACK;QAAc;UAAAzB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3C,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAENhD,OAAA;MAAK2C,SAAS,EAAC,eAAe;MAAAC,QAAA,gBAC5B5C,OAAA;QAAA4C,QAAA,EAAI;MAAc;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACvBhD,OAAA;QAAK2C,SAAS,EAAC,oBAAoB;QAAAC,QAAA,gBACjC5C,OAAA;UAAQ2C,SAAS,EAAC,kBAAkB;UAACY,OAAO,EAAEA,CAAA,KAAMiC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,qBAAqB1D,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAEG,EAAE,eAAgB;UAAAS,QAAA,gBAC5H5C,OAAA;YAAG2C,SAAS,EAAC;UAAa;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,0FACjC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACThD,OAAA;UAAQ2C,SAAS,EAAC,kBAAkB;UAACY,OAAO,EAAEA,CAAA,KAAMiC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,qBAAqB1D,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAEG,EAAE,SAAU;UAAAS,QAAA,gBACtH5C,OAAA;YAAG2C,SAAS,EAAC;UAAsB;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,oFAC1C;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACThD,OAAA;UAAQ2C,SAAS,EAAC,kBAAkB;UAACY,OAAO,EAAEA,CAAA,KAAMiC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,qBAAqB1D,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAEG,EAAE,OAAQ;UAAAS,QAAA,gBACpH5C,OAAA;YAAG2C,SAAS,EAAC;UAAiB;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,uGACrC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAENhD,OAAA;MAAK2C,SAAS,EAAC,oBAAoB;MAAAC,QAAA,gBACjC5C,OAAA;QAAA4C,QAAA,EAAI;MAAwB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EAChChB,UAAU,gBACThC,OAAA;QAAK2C,SAAS,EAAC,oBAAoB;QAAAC,QAAA,gBACjC5C,OAAA;UAAA4C,QAAA,gBAAG5C,OAAA;YAAA4C,QAAA,EAAQ;UAAI;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,KAAC,EAAChB,UAAU,CAACsB,IAAI;QAAA;UAAAT,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC9ChD,OAAA;UAAA4C,QAAA,gBAAG5C,OAAA;YAAA4C,QAAA,EAAQ;UAAM;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,KAAC,EAAChB,UAAU,CAAC2D,OAAO,IAAI,cAAc;QAAA;UAAA9C,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACrEhD,OAAA;UAAA4C,QAAA,gBAAG5C,OAAA;YAAA4C,QAAA,EAAQ;UAAQ;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,KAAC,EAAChB,UAAU,CAAC4D,KAAK,IAAI,cAAc;QAAA;UAAA/C,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACrEhD,OAAA;UAAA4C,QAAA,gBAAG5C,OAAA;YAAA4C,QAAA,EAAQ;UAAc;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,KAAC,EAAChB,UAAU,CAAC6D,KAAK,IAAI,eAAe;QAAA;UAAAhD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,EAC3EhB,UAAU,CAAC8D,WAAW,iBACrB9F,OAAA;UAAA4C,QAAA,gBAAG5C,OAAA;YAAA4C,QAAA,EAAQ;UAAS;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,KAAC,EAAChB,UAAU,CAAC8D,WAAW;QAAA;UAAAjD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAC1D;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,gBAENhD,OAAA;QAAA4C,QAAA,EAAG;MAAqB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAC5B;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AACA;AAAAgB,GAAA,CA5HSR,qBAAqB;AAAAuC,GAAA,GAArBvC,qBAAqB;AA6H9B,SAASC,wBAAwBA,CAAC;EAAEzB,UAAU;EAAEvB;AAAS,CAAC,EAAE;EAAAuF,GAAA;EACxD,MAAM,CAACpB,YAAY,EAAEqB,eAAe,CAAC,GAAGxG,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACwB,OAAO,EAAEC,UAAU,CAAC,GAAGzB,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACyG,MAAM,EAAEC,SAAS,CAAC,GAAG1G,QAAQ,CAAC,UAAU,CAAC;EAChD,MAAM,CAAC2G,QAAQ,EAAEC,WAAW,CAAC,GAAG5G,QAAQ,CAAC,KAAK,CAAC;EAC/C,MAAM,CAAC6G,QAAQ,EAAEC,WAAW,CAAC,GAAG9G,QAAQ,CAAC;IACvC+G,IAAI,EAAE,EAAE;IACRC,IAAI,EAAE,EAAE;IACRpB,QAAQ,EAAE,EAAE;IACZ/B,IAAI,EAAE,EAAE;IACRsC,KAAK,EAAE,EAAE;IACTc,KAAK,EAAE,EAAE;IACTC,YAAY,EAAE,CAAC;IACfC,MAAM,EAAE;EACV,CAAC,CAAC;EACF,MAAM,CAAC7B,MAAM,EAAE8B,SAAS,CAAC,GAAGpH,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACqH,SAAS,EAAEC,YAAY,CAAC,GAAGtH,QAAQ,CAAC,IAAI,CAAC;EAEhDC,SAAS,CAAC,MAAM;IACd,IAAI,CAACsC,UAAU,EAAE;IAEjB,MAAMgF,iBAAiB,GAAG,MAAAA,CAAA,KAAY;MACpC,IAAI;QACF9F,UAAU,CAAC,IAAI,CAAC;;QAEhB;QACA,MAAMsD,KAAK,GAAG,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;;QAEpD;QACA,IAAIsC,KAAK,GAAGxG,QAAQ,CACjBe,IAAI,CAAC,cAAc,CAAC,CACpBC,MAAM,CAAC;AACpB;AACA;AACA,aAAa,CAAC,CACDC,EAAE,CAAC,eAAe,EAAEM,UAAU,CAACG,EAAE,CAAC;QAErC,IAAI+D,MAAM,KAAK,UAAU,EAAE;UACzBe,KAAK,GAAGA,KAAK,CAAC9B,GAAG,CAAC,MAAM,EAAEX,KAAK,CAAC;QAClC,CAAC,MAAM,IAAI0B,MAAM,KAAK,MAAM,EAAE;UAC5Be,KAAK,GAAGA,KAAK,CAACC,EAAE,CAAC,MAAM,EAAE1C,KAAK,CAAC;QACjC;;QAEA;QACA,MAAM;UAAE5C,IAAI;UAAEE;QAAM,CAAC,GAAG,MAAMmF,KAAK,CAACE,KAAK,CAAC,MAAM,EAAE;UAAEC,SAAS,EAAE;QAAK,CAAC,CAAC;QAEtE,IAAItF,KAAK,EAAE,MAAMA,KAAK;QAEtBmE,eAAe,CAACrE,IAAI,IAAI,EAAE,CAAC;;QAE3B;QACA,MAAM;UAAEA,IAAI,EAAEyF,UAAU;UAAEvF,KAAK,EAAEkD;QAAY,CAAC,GAAG,MAAMvE,QAAQ,CAC5De,IAAI,CAAC,QAAQ,CAAC,CACdC,MAAM,CAAC,GAAG,CAAC,CACXC,EAAE,CAAC,eAAe,EAAEM,UAAU,CAACG,EAAE,CAAC;QAErC,IAAI6C,WAAW,EAAE,MAAMA,WAAW;QAElC6B,SAAS,CAACQ,UAAU,IAAI,EAAE,CAAC;MAC7B,CAAC,CAAC,OAAOvF,KAAK,EAAE;QACdO,OAAO,CAACP,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;MACtD,CAAC,SAAS;QACRZ,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IAED8F,iBAAiB,CAAC,CAAC;EACrB,CAAC,EAAE,CAAChF,UAAU,EAAEkE,MAAM,EAAEzF,QAAQ,CAAC,CAAC;EAElC,MAAM6G,kBAAkB,GAAIC,SAAS,IAAK;IACxCpB,SAAS,CAACoB,SAAS,CAAC;EACtB,CAAC;EAED,MAAMC,iBAAiB,GAAIrE,CAAC,IAAK;IAC/B,MAAM;MAAEG,IAAI;MAAEL;IAAM,CAAC,GAAGE,CAAC,CAACC,MAAM;IAChCmD,WAAW,CAAC;MACV,GAAGD,QAAQ;MACX,CAAChD,IAAI,GAAGL;IACV,CAAC,CAAC;EACJ,CAAC;EAED,MAAMwE,SAAS,GAAGA,CAAA,KAAM;IACtBlB,WAAW,CAAC;MACVC,IAAI,EAAE,EAAE;MACRC,IAAI,EAAE,EAAE;MACRpB,QAAQ,EAAE,EAAE;MACZ/B,IAAI,EAAE,EAAE;MACRsC,KAAK,EAAE,EAAE;MACTc,KAAK,EAAE,EAAE;MACTC,YAAY,EAAE,CAAC;MACfC,MAAM,EAAE;IACV,CAAC,CAAC;IACFG,YAAY,CAAC,IAAI,CAAC;EACpB,CAAC;EAED,MAAMW,YAAY,GAAG,MAAOvE,CAAC,IAAK;IAChCA,CAAC,CAACwE,cAAc,CAAC,CAAC;IAElB,IAAI;MACF,MAAMC,QAAQ,GAAG;QACf,GAAGtB,QAAQ;QACX3E,aAAa,EAAEK,UAAU,CAACG;MAC5B,CAAC;MAED,IAAI0F,MAAM;;MAEV;MACA,IAAIf,SAAS,EAAE;QACb,MAAM;UAAElF,IAAI;UAAEE;QAAM,CAAC,GAAG,MAAMrB,QAAQ,CACnCe,IAAI,CAAC,cAAc,CAAC,CACpBsG,MAAM,CAACF,QAAQ,CAAC,CAChBlG,EAAE,CAAC,IAAI,EAAEoF,SAAS,CAAC,CACnBrF,MAAM,CAAC,CAAC;QAEX,IAAIK,KAAK,EAAE,MAAMA,KAAK;QACtB+F,MAAM,GAAGjG,IAAI,CAAC,CAAC,CAAC;;QAEhB;QACAqE,eAAe,CAACrB,YAAY,CAACvB,GAAG,CAAC0E,GAAG,IAClCA,GAAG,CAAC5F,EAAE,KAAK2E,SAAS,GAAG;UAAE,GAAGiB,GAAG;UAAE,GAAGF;QAAO,CAAC,GAAGE,GACjD,CAAC,CAAC;MACJ,CAAC,MAAM;QACL,MAAM;UAAEnG,IAAI;UAAEE;QAAM,CAAC,GAAG,MAAMrB,QAAQ,CACnCe,IAAI,CAAC,cAAc,CAAC,CACpBwG,MAAM,CAAC,CAACJ,QAAQ,CAAC,CAAC,CAClBnG,MAAM,CAAC,CAAC;QAEX,IAAIK,KAAK,EAAE,MAAMA,KAAK;QACtB+F,MAAM,GAAGjG,IAAI,CAAC,CAAC,CAAC;;QAEhB;QACAqE,eAAe,CAAC,CAAC,GAAGrB,YAAY,EAAEiD,MAAM,CAAC,CAAC;MAC5C;MAEAJ,SAAS,CAAC,CAAC;MACXpB,WAAW,CAAC,KAAK,CAAC;IACpB,CAAC,CAAC,OAAOvE,KAAK,EAAE;MACdO,OAAO,CAACP,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MACjDmG,KAAK,CAAC,+CAA+C,CAAC;IACxD;EACF,CAAC;EAED,MAAMC,UAAU,GAAIC,WAAW,IAAK;IAClC;IACA5B,WAAW,CAAC;MACVC,IAAI,EAAE2B,WAAW,CAAC3B,IAAI;MACtBC,IAAI,EAAE0B,WAAW,CAAC1B,IAAI;MACtBpB,QAAQ,EAAE8C,WAAW,CAAC9C,QAAQ;MAC9B/B,IAAI,EAAE6E,WAAW,CAAC7E,IAAI;MACtBsC,KAAK,EAAEuC,WAAW,CAACvC,KAAK;MACxBc,KAAK,EAAEyB,WAAW,CAACzB,KAAK;MACxBC,YAAY,EAAEwB,WAAW,CAACxB,YAAY;MACtCC,MAAM,EAAEuB,WAAW,CAACvB;IACtB,CAAC,CAAC;IACFG,YAAY,CAACoB,WAAW,CAAChG,EAAE,CAAC;IAC5BkE,WAAW,CAAC,IAAI,CAAC;EACnB,CAAC;EAED,MAAM+B,YAAY,GAAG,MAAOjG,EAAE,IAAK;IACjC,IAAI,CAACqD,MAAM,CAAC6C,OAAO,CAAC,wDAAwD,CAAC,EAAE;MAC7E;IACF;IAEA,IAAI;MACF,MAAM;QAAEvG;MAAM,CAAC,GAAG,MAAMrB,QAAQ,CAC7Be,IAAI,CAAC,cAAc,CAAC,CACpB8G,MAAM,CAAC,CAAC,CACR5G,EAAE,CAAC,IAAI,EAAES,EAAE,CAAC;MAEf,IAAIL,KAAK,EAAE,MAAMA,KAAK;;MAEtB;MACAmE,eAAe,CAACrB,YAAY,CAACsB,MAAM,CAAC6B,GAAG,IAAIA,GAAG,CAAC5F,EAAE,KAAKA,EAAE,CAAC,CAAC;IAC5D,CAAC,CAAC,OAAOL,KAAK,EAAE;MACdO,OAAO,CAACP,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;MACnDmG,KAAK,CAAC,+CAA+C,CAAC;IACxD;EACF,CAAC;EAED,IAAIhH,OAAO,EAAE;IACX,oBAAOjB,OAAA;MAAA4C,QAAA,EAAK;IAA0B;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EAC9C;EAEA,oBACEhD,OAAA;IAAA4C,QAAA,gBACE5C,OAAA;MAAA4C,QAAA,GAAI,gEAAY,EAACZ,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAEsB,IAAI;IAAA;MAAAT,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eAEvChD,OAAA;MAAK2C,SAAS,EAAC,gBAAgB;MAAAC,QAAA,gBAC7B5C,OAAA;QAAK2C,SAAS,EAAC,eAAe;QAAAC,QAAA,gBAC5B5C,OAAA;UACE2C,SAAS,EAAE,oBAAoBuD,MAAM,KAAK,UAAU,GAAG,QAAQ,GAAG,EAAE,EAAG;UACvE3C,OAAO,EAAEA,CAAA,KAAM+D,kBAAkB,CAAC,UAAU,CAAE;UAAA1E,QAAA,EAC/C;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACThD,OAAA;UACE2C,SAAS,EAAE,oBAAoBuD,MAAM,KAAK,MAAM,GAAG,QAAQ,GAAG,EAAE,EAAG;UACnE3C,OAAO,EAAEA,CAAA,KAAM+D,kBAAkB,CAAC,MAAM,CAAE;UAAA1E,QAAA,EAC3C;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACThD,OAAA;UACE2C,SAAS,EAAE,oBAAoBuD,MAAM,KAAK,KAAK,GAAG,QAAQ,GAAG,EAAE,EAAG;UAClE3C,OAAO,EAAEA,CAAA,KAAM+D,kBAAkB,CAAC,KAAK,CAAE;UAAA1E,QAAA,EAC1C;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,eAENhD,OAAA;QACE2C,SAAS,EAAC,eAAe;QACzBY,OAAO,EAAEA,CAAA,KAAM;UACbkE,SAAS,CAAC,CAAC;UACXpB,WAAW,CAAC,CAACD,QAAQ,CAAC;QACxB,CAAE;QAAAxD,QAAA,EAEDwD,QAAQ,GAAG,OAAO,GAAG;MAAmB;QAAAvD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,EAELoD,QAAQ,iBACPpG,OAAA;MAAK2C,SAAS,EAAC,sBAAsB;MAAAC,QAAA,gBACnC5C,OAAA;QAAA4C,QAAA,EAAKkE,SAAS,GAAG,2BAA2B,GAAG;MAAiB;QAAAjE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACtEhD,OAAA;QAAMuI,QAAQ,EAAEb,YAAa;QAAC/E,SAAS,EAAC,YAAY;QAAAC,QAAA,gBAClD5C,OAAA;UAAK2C,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzB5C,OAAA;YAAA4C,QAAA,EAAO;UAAI;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACnBhD,OAAA;YACEwI,IAAI,EAAC,MAAM;YACXlF,IAAI,EAAC,MAAM;YACXL,KAAK,EAAEqD,QAAQ,CAACE,IAAK;YACrBtD,QAAQ,EAAEsE,iBAAkB;YAC5BiB,QAAQ;UAAA;YAAA5F,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eAENhD,OAAA;UAAK2C,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzB5C,OAAA;YAAA4C,QAAA,EAAO;UAAG;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAClBhD,OAAA;YACEwI,IAAI,EAAC,MAAM;YACXlF,IAAI,EAAC,MAAM;YACXL,KAAK,EAAEqD,QAAQ,CAACG,IAAK;YACrBvD,QAAQ,EAAEsE,iBAAkB;YAC5BiB,QAAQ;UAAA;YAAA5F,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eAENhD,OAAA;UAAK2C,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzB5C,OAAA;YAAA4C,QAAA,EAAO;UAAI;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACnBhD,OAAA;YACEsD,IAAI,EAAC,UAAU;YACfL,KAAK,EAAEqD,QAAQ,CAACjB,QAAS;YACzBnC,QAAQ,EAAEsE,iBAAkB;YAC5BiB,QAAQ;YAAA7F,QAAA,gBAER5C,OAAA;cAAQiD,KAAK,EAAC,EAAE;cAAAL,QAAA,EAAC;YAAa;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,EACtC+B,MAAM,CAAC1B,GAAG,CAACqF,KAAK,iBACf1I,OAAA;cAAuBiD,KAAK,EAAEyF,KAAK,CAACvG,EAAG;cAAAS,QAAA,GAAC,2BACjC,EAAC8F,KAAK,CAACC,YAAY,EAAC,IAAE,EAACD,KAAK,CAACE,QAAQ,EAAC,kCAC7C;YAAA,GAFaF,KAAK,CAACvG,EAAE;cAAAU,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAEb,CACT,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,eAENhD,OAAA;UAAK2C,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzB5C,OAAA;YAAA4C,QAAA,EAAO;UAAG;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAClBhD,OAAA;YACEwI,IAAI,EAAC,MAAM;YACXlF,IAAI,EAAC,MAAM;YACXL,KAAK,EAAEqD,QAAQ,CAAChD,IAAK;YACrBJ,QAAQ,EAAEsE,iBAAkB;YAC5BiB,QAAQ;UAAA;YAAA5F,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eAENhD,OAAA;UAAK2C,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzB5C,OAAA;YAAA4C,QAAA,EAAO;UAAO;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACtBhD,OAAA;YACEwI,IAAI,EAAC,KAAK;YACVlF,IAAI,EAAC,OAAO;YACZL,KAAK,EAAEqD,QAAQ,CAACV,KAAM;YACtB1C,QAAQ,EAAEsE,iBAAkB;YAC5BiB,QAAQ;UAAA;YAAA5F,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eAENhD,OAAA;UAAK2C,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzB5C,OAAA;YAAA4C,QAAA,EAAO;UAAK;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACpBhD,OAAA;YACEwI,IAAI,EAAC,OAAO;YACZlF,IAAI,EAAC,OAAO;YACZL,KAAK,EAAEqD,QAAQ,CAACI,KAAM;YACtBxD,QAAQ,EAAEsE,iBAAkB;YAC5BiB,QAAQ;UAAA;YAAA5F,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eAENhD,OAAA;UAAK2C,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzB5C,OAAA;YAAA4C,QAAA,EAAO;UAAU;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACzBhD,OAAA;YACEwI,IAAI,EAAC,QAAQ;YACblF,IAAI,EAAC,cAAc;YACnBL,KAAK,EAAEqD,QAAQ,CAACK,YAAa;YAC7BzD,QAAQ,EAAEsE,iBAAkB;YAC5BqB,GAAG,EAAC,GAAG;YACPJ,QAAQ;UAAA;YAAA5F,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eAENhD,OAAA;UAAK2C,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzB5C,OAAA;YAAA4C,QAAA,EAAO;UAAM;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACrBhD,OAAA;YACEsD,IAAI,EAAC,QAAQ;YACbL,KAAK,EAAEqD,QAAQ,CAACM,MAAO;YACvB1D,QAAQ,EAAEsE,iBAAkB;YAC5BiB,QAAQ;YAAA7F,QAAA,gBAER5C,OAAA;cAAQiD,KAAK,EAAC,WAAW;cAAAL,QAAA,EAAC;YAAU;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eAC7ChD,OAAA;cAAQiD,KAAK,EAAC,SAAS;cAAAL,QAAA,EAAC;YAAM;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACvChD,OAAA;cAAQiD,KAAK,EAAC,WAAW;cAAAL,QAAA,EAAC;YAAQ;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACrC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,eAENhD,OAAA;UAAK2C,SAAS,EAAC,cAAc;UAAAC,QAAA,gBAC3B5C,OAAA;YAAQwI,IAAI,EAAC,QAAQ;YAAC7F,SAAS,EAAC,kBAAkB;YAACY,OAAO,EAAEA,CAAA,KAAM8C,WAAW,CAAC,KAAK,CAAE;YAAAzD,QAAA,EAAC;UAEtF;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACThD,OAAA;YAAQwI,IAAI,EAAC,QAAQ;YAAC7F,SAAS,EAAC,kBAAkB;YAAAC,QAAA,EAC/CkE,SAAS,GAAG,kBAAkB,GAAG;UAAmB;YAAAjE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC/C,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACJ,CACN,eAEDhD,OAAA;MAAK2C,SAAS,EAAC,uBAAuB;MAAAC,QAAA,EACnCgC,YAAY,CAACxC,MAAM,KAAK,CAAC,gBACxBpC,OAAA;QAAK2C,SAAS,EAAC,eAAe;QAAAC,QAAA,eAC5B5C,OAAA;UAAA4C,QAAA,EAAG;QAAyB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC7B,CAAC,gBAENhD,OAAA;QAAO2C,SAAS,EAAC,aAAa;QAAAC,QAAA,gBAC5B5C,OAAA;UAAA4C,QAAA,eACE5C,OAAA;YAAA4C,QAAA,gBACE5C,OAAA;cAAA4C,QAAA,EAAI;YAAI;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACbhD,OAAA;cAAA4C,QAAA,EAAI;YAAG;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACZhD,OAAA;cAAA4C,QAAA,EAAI;YAAI;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACbhD,OAAA;cAAA4C,QAAA,EAAI;YAAM;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACfhD,OAAA;cAAA4C,QAAA,EAAI;YAAO;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAChBhD,OAAA;cAAA4C,QAAA,EAAI;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACdhD,OAAA;cAAA4C,QAAA,EAAI;YAAM;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACfhD,OAAA;cAAA4C,QAAA,EAAI;YAAQ;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACf;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA,CAAC,eACRhD,OAAA;UAAA4C,QAAA,EACGgC,YAAY,CAACvB,GAAG,CAAC8E,WAAW;YAAA,IAAAW,mBAAA;YAAA,oBAC3B9I,OAAA;cAAyB2C,SAAS,EAAE,UAAUwF,WAAW,CAACvB,MAAM,EAAG;cAAAhE,QAAA,gBACjE5C,OAAA;gBAAA4C,QAAA,EAAKuF,WAAW,CAAC3B;cAAI;gBAAA3D,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eAC3BhD,OAAA;gBAAA4C,QAAA,EAAKuF,WAAW,CAAC1B;cAAI;gBAAA5D,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eAC3BhD,OAAA;gBAAA4C,QAAA,EACG,EAAAkG,mBAAA,GAAAX,WAAW,CAACpD,MAAM,cAAA+D,mBAAA,uBAAlBA,mBAAA,CAAoBH,YAAY,KAAI;cAAY;gBAAA9F,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC/C,CAAC,eACLhD,OAAA;gBAAA4C,QAAA,EAAKuF,WAAW,CAAC7E;cAAI;gBAAAT,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eAC3BhD,OAAA;gBAAA4C,QAAA,EAAKuF,WAAW,CAACvC;cAAK;gBAAA/C,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eAC5BhD,OAAA;gBAAA4C,QAAA,EAAKuF,WAAW,CAACxB;cAAY;gBAAA9D,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eACnChD,OAAA;gBAAA4C,QAAA,eACE5C,OAAA;kBAAM2C,SAAS,EAAE,gBAAgBwF,WAAW,CAACvB,MAAM,EAAG;kBAAAhE,QAAA,EACnDuF,WAAW,CAACvB,MAAM,KAAK,WAAW,GAAG,YAAY,GACjDuB,WAAW,CAACvB,MAAM,KAAK,SAAS,GAAG,QAAQ,GAAG;gBAAU;kBAAA/D,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACrD;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACL,CAAC,eACLhD,OAAA;gBAAA4C,QAAA,gBACE5C,OAAA;kBACE2C,SAAS,EAAC,uBAAuB;kBACjCY,OAAO,EAAEA,CAAA,KAAM2E,UAAU,CAACC,WAAW,CAAE;kBAAAvF,QAAA,eAEvC5C,OAAA;oBAAG2C,SAAS,EAAC;kBAAa;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACzB,CAAC,eACThD,OAAA;kBACE2C,SAAS,EAAC,yBAAyB;kBACnCY,OAAO,EAAEA,CAAA,KAAM6E,YAAY,CAACD,WAAW,CAAChG,EAAE,CAAE;kBAAAS,QAAA,eAE5C5C,OAAA;oBAAG2C,SAAS,EAAC;kBAAc;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC1B,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACP,CAAC;YAAA,GA5BEmF,WAAW,CAAChG,EAAE;cAAAU,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OA6BnB,CAAC;UAAA,CACN;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IACR;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AACA;AAAAgD,GAAA,CAzYOvC,wBAAwB;AAAAsF,GAAA,GAAxBtF,wBAAwB;AA0YjC,SAASI,kBAAkBA,CAAC;EAAE7B,UAAU;EAAEvB;AAAS,CAAC,EAAE;EAAAuI,GAAA;EAClD,MAAM,CAACjE,MAAM,EAAE8B,SAAS,CAAC,GAAGpH,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACwB,OAAO,EAAEC,UAAU,CAAC,GAAGzB,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAAC2G,QAAQ,EAAEC,WAAW,CAAC,GAAG5G,QAAQ,CAAC,KAAK,CAAC;EAC/C,MAAM,CAACqH,SAAS,EAAEC,YAAY,CAAC,GAAGtH,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAAC6G,QAAQ,EAAEC,WAAW,CAAC,GAAG9G,QAAQ,CAAC;IACvCkJ,YAAY,EAAE,EAAE;IAChBC,QAAQ,EAAE,CAAC;IACXK,UAAU,EAAE,EAAE;IACdC,UAAU,EAAE,EAAE;IACdC,SAAS,EAAE,IAAI;IACfC,KAAK,EAAE;EACT,CAAC,CAAC;EAEF1J,SAAS,CAAC,MAAM;IACd,IAAI,CAACsC,UAAU,EAAE;IAEjB,MAAMqH,WAAW,GAAG,MAAAA,CAAA,KAAY;MAC9B,IAAI;QACFnI,UAAU,CAAC,IAAI,CAAC;QAEhB,MAAM;UAAEU,IAAI;UAAEE;QAAM,CAAC,GAAG,MAAMrB,QAAQ,CACnCe,IAAI,CAAC,QAAQ,CAAC,CACdC,MAAM,CAAC,GAAG,CAAC,CACXC,EAAE,CAAC,eAAe,EAAEM,UAAU,CAACG,EAAE,CAAC,CAClCgF,KAAK,CAAC,cAAc,EAAE;UAAEC,SAAS,EAAE;QAAK,CAAC,CAAC;QAE7C,IAAItF,KAAK,EAAE,MAAMA,KAAK;QAEtB+E,SAAS,CAACjF,IAAI,IAAI,EAAE,CAAC;MACvB,CAAC,CAAC,OAAOE,KAAK,EAAE;QACdO,OAAO,CAACP,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;MAChD,CAAC,SAAS;QACRZ,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IAEDmI,WAAW,CAAC,CAAC;EACf,CAAC,EAAE,CAACrH,UAAU,EAAEvB,QAAQ,CAAC,CAAC;EAE1B,MAAM+G,iBAAiB,GAAIrE,CAAC,IAAK;IAC/B,MAAM;MAAEG,IAAI;MAAEL,KAAK;MAAEuF,IAAI;MAAEc;IAAQ,CAAC,GAAGnG,CAAC,CAACC,MAAM;IAC/CmD,WAAW,CAAC;MACV,GAAGD,QAAQ;MACX,CAAChD,IAAI,GAAGkF,IAAI,KAAK,UAAU,GAAGc,OAAO,GAC7Bd,IAAI,KAAK,QAAQ,GAAGe,QAAQ,CAACtG,KAAK,EAAE,EAAE,CAAC,GAAGA;IACpD,CAAC,CAAC;EACJ,CAAC;EAED,MAAMwE,SAAS,GAAGA,CAAA,KAAM;IACtBlB,WAAW,CAAC;MACVoC,YAAY,EAAE,EAAE;MAChBC,QAAQ,EAAE,CAAC;MACXK,UAAU,EAAE,EAAE;MACdC,UAAU,EAAE,EAAE;MACdC,SAAS,EAAE,IAAI;MACfC,KAAK,EAAE;IACT,CAAC,CAAC;IACFrC,YAAY,CAAC,IAAI,CAAC;EACpB,CAAC;EAED,MAAMW,YAAY,GAAG,MAAOvE,CAAC,IAAK;IAChCA,CAAC,CAACwE,cAAc,CAAC,CAAC;IAElB,IAAI;MACF,MAAMC,QAAQ,GAAG;QACf,GAAGtB,QAAQ;QACX3E,aAAa,EAAEK,UAAU,CAACG;MAC5B,CAAC;MAED,IAAI0F,MAAM;MAEV,IAAIf,SAAS,EAAE;QACb,MAAM;UAAElF,IAAI;UAAEE;QAAM,CAAC,GAAG,MAAMrB,QAAQ,CACnCe,IAAI,CAAC,QAAQ,CAAC,CACdsG,MAAM,CAACF,QAAQ,CAAC,CAChBlG,EAAE,CAAC,IAAI,EAAEoF,SAAS,CAAC,CACnBrF,MAAM,CAAC,CAAC;QAEX,IAAIK,KAAK,EAAE,MAAMA,KAAK;QACtB+F,MAAM,GAAGjG,IAAI,CAAC,CAAC,CAAC;QAEhBiF,SAAS,CAAC9B,MAAM,CAAC1B,GAAG,CAACqF,KAAK,IACxBA,KAAK,CAACvG,EAAE,KAAK2E,SAAS,GAAG;UAAE,GAAG4B,KAAK;UAAE,GAAGb;QAAO,CAAC,GAAGa,KACrD,CAAC,CAAC;MACJ,CAAC,MAAM;QACL,MAAM;UAAE9G,IAAI;UAAEE;QAAM,CAAC,GAAG,MAAMrB,QAAQ,CACnCe,IAAI,CAAC,QAAQ,CAAC,CACdwG,MAAM,CAAC,CAACJ,QAAQ,CAAC,CAAC,CAClBnG,MAAM,CAAC,CAAC;QAEX,IAAIK,KAAK,EAAE,MAAMA,KAAK;QACtB+F,MAAM,GAAGjG,IAAI,CAAC,CAAC,CAAC;QAEhBiF,SAAS,CAAC,CAAC,GAAG9B,MAAM,EAAE8C,MAAM,CAAC,CAAC;MAChC;MAEAJ,SAAS,CAAC,CAAC;MACXpB,WAAW,CAAC,KAAK,CAAC;IACpB,CAAC,CAAC,OAAOvE,KAAK,EAAE;MACdO,OAAO,CAACP,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;MAC3CmG,KAAK,CAAC,yCAAyC,CAAC;IAClD;EACF,CAAC;EAED,MAAMC,UAAU,GAAIQ,KAAK,IAAK;IAC5BnC,WAAW,CAAC;MACVoC,YAAY,EAAED,KAAK,CAACC,YAAY;MAChCC,QAAQ,EAAEF,KAAK,CAACE,QAAQ;MACxBK,UAAU,EAAEP,KAAK,CAACO,UAAU;MAC5BC,UAAU,EAAER,KAAK,CAACQ,UAAU;MAC5BC,SAAS,EAAET,KAAK,CAACS,SAAS;MAC1BC,KAAK,EAAEV,KAAK,CAACU,KAAK,IAAI;IACxB,CAAC,CAAC;IACFrC,YAAY,CAAC2B,KAAK,CAACvG,EAAE,CAAC;IACtBkE,WAAW,CAAC,IAAI,CAAC;EACnB,CAAC;EAED,MAAM+B,YAAY,GAAG,MAAOjG,EAAE,IAAK;IACjC,IAAI,CAACqD,MAAM,CAAC6C,OAAO,CAAC,kDAAkD,CAAC,EAAE;MACvE;IACF;IAEA,IAAI;MACF,MAAM;QAAEvG;MAAM,CAAC,GAAG,MAAMrB,QAAQ,CAC7Be,IAAI,CAAC,QAAQ,CAAC,CACd8G,MAAM,CAAC,CAAC,CACR5G,EAAE,CAAC,IAAI,EAAES,EAAE,CAAC;MAEf,IAAIL,KAAK,EAAE,MAAMA,KAAK;MAEtB+E,SAAS,CAAC9B,MAAM,CAACmB,MAAM,CAACwC,KAAK,IAAIA,KAAK,CAACvG,EAAE,KAAKA,EAAE,CAAC,CAAC;IACpD,CAAC,CAAC,OAAOL,KAAK,EAAE;MACdO,OAAO,CAACP,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MAC7CmG,KAAK,CAAC,yCAAyC,CAAC;IAClD;EACF,CAAC;EAED,IAAIhH,OAAO,EAAE;IACX,oBAAOjB,OAAA;MAAA4C,QAAA,EAAK;IAAoB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EACxC;EAEA,oBACEhD,OAAA;IAAA4C,QAAA,gBACE5C,OAAA;MAAA4C,QAAA,GAAI,sGAAoB,EAACZ,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAEsB,IAAI;IAAA;MAAAT,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eAE/ChD,OAAA;MAAK2C,SAAS,EAAC,gBAAgB;MAAAC,QAAA,eAC7B5C,OAAA;QACE2C,SAAS,EAAC,eAAe;QACzBY,OAAO,EAAEA,CAAA,KAAM;UACbkE,SAAS,CAAC,CAAC;UACXpB,WAAW,CAAC,CAACD,QAAQ,CAAC;QACxB,CAAE;QAAAxD,QAAA,EAEDwD,QAAQ,GAAG,OAAO,GAAG;MAAkB;QAAAvD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAClC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,EAELoD,QAAQ,iBACPpG,OAAA;MAAK2C,SAAS,EAAC,sBAAsB;MAAAC,QAAA,gBACnC5C,OAAA;QAAA4C,QAAA,EAAKkE,SAAS,GAAG,qBAAqB,GAAG;MAAW;QAAAjE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eAC1DhD,OAAA;QAAMuI,QAAQ,EAAEb,YAAa;QAAC/E,SAAS,EAAC,YAAY;QAAAC,QAAA,gBAClD5C,OAAA;UAAK2C,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzB5C,OAAA;YAAA4C,QAAA,EAAO;UAAa;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAC5BhD,OAAA;YACEwI,IAAI,EAAC,QAAQ;YACblF,IAAI,EAAC,cAAc;YACnBL,KAAK,EAAEqD,QAAQ,CAACqC,YAAa;YAC7BzF,QAAQ,EAAEsE,iBAAkB;YAC5BiB,QAAQ;YACRI,GAAG,EAAC;UAAG;YAAAhG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACR,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eAENhD,OAAA;UAAK2C,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzB5C,OAAA;YAAA4C,QAAA,EAAO;UAAsB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACrChD,OAAA;YACEwI,IAAI,EAAC,QAAQ;YACblF,IAAI,EAAC,UAAU;YACfL,KAAK,EAAEqD,QAAQ,CAACsC,QAAS;YACzB1F,QAAQ,EAAEsE,iBAAkB;YAC5BiB,QAAQ;YACRI,GAAG,EAAC,GAAG;YACPW,GAAG,EAAC;UAAI;YAAA3G,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eAENhD,OAAA;UAAK2C,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzB5C,OAAA;YAAA4C,QAAA,EAAO;UAAqB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACpChD,OAAA;YACEwI,IAAI,EAAC,OAAO;YACZlF,IAAI,EAAC,YAAY;YACjBL,KAAK,EAAEqD,QAAQ,CAAC2C,UAAW;YAC3B/F,QAAQ,EAAEsE,iBAAkB;YAC5BqB,GAAG,EAAC,GAAG;YACPW,GAAG,EAAC;UAAK;YAAA3G,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACV,CAAC,eACFhD,OAAA;YAAA4C,QAAA,GAAO0D,QAAQ,CAAC2C,UAAU,EAAC,IAAE;UAAA;YAAApG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjC,CAAC,eAENhD,OAAA;UAAK2C,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzB5C,OAAA;YAAA4C,QAAA,EAAO;UAAqB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACpChD,OAAA;YACEwI,IAAI,EAAC,OAAO;YACZlF,IAAI,EAAC,YAAY;YACjBL,KAAK,EAAEqD,QAAQ,CAAC4C,UAAW;YAC3BhG,QAAQ,EAAEsE,iBAAkB;YAC5BqB,GAAG,EAAC,GAAG;YACPW,GAAG,EAAC;UAAK;YAAA3G,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACV,CAAC,eACFhD,OAAA;YAAA4C,QAAA,GAAO0D,QAAQ,CAAC4C,UAAU,EAAC,IAAE;UAAA;YAAArG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjC,CAAC,eAENhD,OAAA;UAAK2C,SAAS,EAAC,2BAA2B;UAAAC,QAAA,eACxC5C,OAAA;YAAA4C,QAAA,gBACE5C,OAAA;cACEwI,IAAI,EAAC,UAAU;cACflF,IAAI,EAAC,WAAW;cAChBgG,OAAO,EAAEhD,QAAQ,CAAC6C,SAAU;cAC5BjG,QAAQ,EAAEsE;YAAkB;cAAA3E,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC7B,CAAC,uEAEJ;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC,eAENhD,OAAA;UAAK2C,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzB5C,OAAA;YAAA4C,QAAA,EAAO;UAAO;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACtBhD,OAAA;YACEsD,IAAI,EAAC,OAAO;YACZL,KAAK,EAAEqD,QAAQ,CAAC8C,KAAM;YACtBlG,QAAQ,EAAEsE,iBAAkB;YAC5BiC,WAAW,EAAC;UAAmC;YAAA5G,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChD,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eAENhD,OAAA;UAAK2C,SAAS,EAAC,cAAc;UAAAC,QAAA,gBAC3B5C,OAAA;YAAQwI,IAAI,EAAC,QAAQ;YAAC7F,SAAS,EAAC,kBAAkB;YAACY,OAAO,EAAEA,CAAA,KAAM8C,WAAW,CAAC,KAAK,CAAE;YAAAzD,QAAA,EAAC;UAEtF;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACThD,OAAA;YAAQwI,IAAI,EAAC,QAAQ;YAAC7F,SAAS,EAAC,kBAAkB;YAAAC,QAAA,EAC/CkE,SAAS,GAAG,kBAAkB,GAAG;UAAa;YAAAjE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACJ,CACN,eAEDhD,OAAA;MAAK2C,SAAS,EAAC,6BAA6B;MAAAC,QAAA,gBAC1C5C,OAAA;QAAA4C,QAAA,EAAI;MAAoB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC7BhD,OAAA;QAAK2C,SAAS,EAAC,2BAA2B;QAAAC,QAAA,EACvCmC,MAAM,CAAC1B,GAAG,CAACqF,KAAK,iBACf1I,OAAA;UAEE2C,SAAS,EAAE,iBAAiB+F,KAAK,CAACS,SAAS,GAAG,WAAW,GAAG,aAAa,EAAG;UAC5EO,KAAK,EAAE;YACLC,GAAG,EAAE,GAAGjB,KAAK,CAACQ,UAAU,IAAI;YAC5BU,IAAI,EAAE,GAAGlB,KAAK,CAACO,UAAU,IAAI;YAC7BY,KAAK,EAAE,GAAGnB,KAAK,CAACE,QAAQ,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI;YAC1CkB,MAAM,EAAE,GAAGpB,KAAK,CAACE,QAAQ,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE;UACzC,CAAE;UACFrF,OAAO,EAAEA,CAAA,KAAM2E,UAAU,CAACQ,KAAK,CAAE;UAAA9F,QAAA,gBAEjC5C,OAAA;YAAM2C,SAAS,EAAC,cAAc;YAAAC,QAAA,EAAE8F,KAAK,CAACC;UAAY;YAAA9F,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAC1DhD,OAAA;YAAM2C,SAAS,EAAC,gBAAgB;YAAAC,QAAA,GAAE8F,KAAK,CAACE,QAAQ,EAAC,iCAAM;UAAA;YAAA/F,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA,GAXzD0F,KAAK,CAACvG,EAAE;UAAAU,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAYV,CACN;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAENhD,OAAA;MAAK2C,SAAS,EAAC,uBAAuB;MAAAC,QAAA,eACpC5C,OAAA;QAAO2C,SAAS,EAAC,aAAa;QAAAC,QAAA,gBAC5B5C,OAAA;UAAA4C,QAAA,eACE5C,OAAA;YAAA4C,QAAA,gBACE5C,OAAA;cAAA4C,QAAA,EAAI;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACdhD,OAAA;cAAA4C,QAAA,EAAI;YAAS;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAClBhD,OAAA;cAAA4C,QAAA,EAAI;YAAM;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACfhD,OAAA;cAAA4C,QAAA,EAAI;YAAO;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAChBhD,OAAA;cAAA4C,QAAA,EAAI;YAAQ;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACf;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA,CAAC,eACRhD,OAAA;UAAA4C,QAAA,EACGmC,MAAM,CAAC1B,GAAG,CAACqF,KAAK,iBACf1I,OAAA;YAAA4C,QAAA,gBACE5C,OAAA;cAAA4C,QAAA,EAAK8F,KAAK,CAACC;YAAY;cAAA9F,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eAC7BhD,OAAA;cAAA4C,QAAA,GAAK8F,KAAK,CAACE,QAAQ,EAAC,iCAAM;YAAA;cAAA/F,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC/BhD,OAAA;cAAA4C,QAAA,eACE5C,OAAA;gBAAM2C,SAAS,EAAE,gBAAgB+F,KAAK,CAACS,SAAS,GAAG,QAAQ,GAAG,UAAU,EAAG;gBAAAvG,QAAA,EACxE8F,KAAK,CAACS,SAAS,GAAG,SAAS,GAAG;cAAW;gBAAAtG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACtC;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL,CAAC,eACLhD,OAAA;cAAA4C,QAAA,EAAK8F,KAAK,CAACU,KAAK,IAAI;YAAG;cAAAvG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eAC7BhD,OAAA;cAAA4C,QAAA,gBACE5C,OAAA;gBACE2C,SAAS,EAAC,uBAAuB;gBACjCY,OAAO,EAAEA,CAAA,KAAM2E,UAAU,CAACQ,KAAK,CAAE;gBAAA9F,QAAA,eAEjC5C,OAAA;kBAAG2C,SAAS,EAAC;gBAAa;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACzB,CAAC,eACThD,OAAA;gBACE2C,SAAS,EAAC,yBAAyB;gBACnCY,OAAO,EAAEA,CAAA,KAAM6E,YAAY,CAACM,KAAK,CAACvG,EAAE,CAAE;gBAAAS,QAAA,eAEtC5C,OAAA;kBAAG2C,SAAS,EAAC;gBAAc;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC1B,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACP,CAAC;UAAA,GAtBE0F,KAAK,CAACvG,EAAE;YAAAU,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAuBb,CACL;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AACA;AAAAgG,GAAA,CAzTOnF,kBAAkB;AAAAkG,GAAA,GAAlBlG,kBAAkB;AA0T3B,SAASH,gBAAgBA,CAAC;EAAE1B,UAAU;EAAEvB;AAAS,CAAC,EAAE;EAAAuJ,GAAA;EAChD,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGzK,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAAC0K,SAAS,EAAEC,YAAY,CAAC,GAAG3K,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACwB,OAAO,EAAEC,UAAU,CAAC,GAAGzB,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAAC2G,QAAQ,EAAEC,WAAW,CAAC,GAAG5G,QAAQ,CAAC,KAAK,CAAC;EAC/C,MAAM,CAAC6G,QAAQ,EAAEC,WAAW,CAAC,GAAG9G,QAAQ,CAAC;IACvC6D,IAAI,EAAE,EAAE;IACRwC,WAAW,EAAE,EAAE;IACfuE,KAAK,EAAE,EAAE;IACTC,WAAW,EAAE,EAAE;IACfC,YAAY,EAAE,IAAI;IAClBC,SAAS,EAAE,EAAE;IACbC,SAAS,EAAE,EAAE;IACbC,WAAW,EAAE;EACf,CAAC,CAAC;EACF,MAAM,CAACC,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGnL,QAAQ,CAAC,KAAK,CAAC;EAC/D,MAAM,CAACoL,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGrL,QAAQ,CAAC;IACvD6D,IAAI,EAAE,EAAE;IACR6D,KAAK,EAAE;EACT,CAAC,CAAC;EACF,MAAM,CAACL,SAAS,EAAEC,YAAY,CAAC,GAAGtH,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAACsL,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGvL,QAAQ,CAAC,IAAI,CAAC;EAChE,MAAM,CAACwL,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGzL,QAAQ,CAAC,KAAK,CAAC;EAE/DC,SAAS,CAAC,MAAM;IACd,IAAI,CAACsC,UAAU,EAAE;IAEjB,MAAMmJ,aAAa,GAAG,MAAAA,CAAA,KAAY;MAChC,IAAI;QACFjK,UAAU,CAAC,IAAI,CAAC;;QAEhB;QACA,MAAM;UAAEU,IAAI,EAAEwJ,cAAc;UAAEtJ,KAAK,EAAEuJ;QAAgB,CAAC,GAAG,MAAM5K,QAAQ,CACpEe,IAAI,CAAC,iBAAiB,CAAC,CACvBC,MAAM,CAAC,GAAG,CAAC,CACXC,EAAE,CAAC,eAAe,EAAEM,UAAU,CAACG,EAAE,CAAC,CAClCgF,KAAK,CAAC,OAAO,EAAE;UAAEC,SAAS,EAAE;QAAK,CAAC,CAAC;QAEtC,IAAIiE,eAAe,EAAE,MAAMA,eAAe;QAC1CnB,aAAa,CAACkB,cAAc,IAAI,EAAE,CAAC;;QAEnC;QACA,IAAInE,KAAK,GAAGxG,QAAQ,CACjBe,IAAI,CAAC,YAAY,CAAC,CAClBC,MAAM,CAAC;AACpB;AACA;AACA,aAAa,CAAC,CACDC,EAAE,CAAC,eAAe,EAAEM,UAAU,CAACG,EAAE,CAAC;QAErC,IAAI8I,gBAAgB,KAAK,KAAK,EAAE;UAC9BhE,KAAK,GAAGA,KAAK,CAACvF,EAAE,CAAC,aAAa,EAAEuJ,gBAAgB,CAAC;QACnD;QAEA,MAAM;UAAErJ,IAAI,EAAE0J,QAAQ;UAAExJ,KAAK,EAAEyJ;QAAU,CAAC,GAAG,MAAMtE,KAAK,CACrDE,KAAK,CAAC,MAAM,EAAE;UAAEC,SAAS,EAAE;QAAK,CAAC,CAAC;QAErC,IAAImE,SAAS,EAAE,MAAMA,SAAS;QAC9BnB,YAAY,CAACkB,QAAQ,IAAI,EAAE,CAAC;MAC9B,CAAC,CAAC,OAAOxJ,KAAK,EAAE;QACdO,OAAO,CAACP,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MACnD,CAAC,SAAS;QACRZ,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IAEDiK,aAAa,CAAC,CAAC;EACjB,CAAC,EAAE,CAACnJ,UAAU,EAAEvB,QAAQ,EAAEwK,gBAAgB,CAAC,CAAC;EAE5C,MAAMzD,iBAAiB,GAAIrE,CAAC,IAAK;IAC/B,MAAM;MAAEG,IAAI;MAAEL,KAAK;MAAEuF,IAAI;MAAEc;IAAQ,CAAC,GAAGnG,CAAC,CAACC,MAAM;IAC/CmD,WAAW,CAAC;MACV,GAAGD,QAAQ;MACX,CAAChD,IAAI,GAAGkF,IAAI,KAAK,UAAU,GAAGc,OAAO,GAC7Bd,IAAI,KAAK,QAAQ,GAAGgD,UAAU,CAACvI,KAAK,CAAC,GAAGA;IAClD,CAAC,CAAC;EACJ,CAAC;EAED,MAAMwI,yBAAyB,GAAItI,CAAC,IAAK;IACvC,MAAM;MAAEG,IAAI;MAAEL,KAAK;MAAEuF,IAAI;MAAEc;IAAQ,CAAC,GAAGnG,CAAC,CAACC,MAAM;IAC/C0H,mBAAmB,CAAC;MAClB,GAAGD,gBAAgB;MACnB,CAACvH,IAAI,GAAGkF,IAAI,KAAK,UAAU,GAAGc,OAAO,GAC7BhG,IAAI,KAAK,OAAO,GAAGiG,QAAQ,CAACtG,KAAK,EAAE,EAAE,CAAC,GAAGA;IACnD,CAAC,CAAC;EACJ,CAAC;EAED,MAAMwE,SAAS,GAAGA,CAAA,KAAM;IACtBlB,WAAW,CAAC;MACVjD,IAAI,EAAE,EAAE;MACRwC,WAAW,EAAE,EAAE;MACfuE,KAAK,EAAE,EAAE;MACTC,WAAW,EAAE,EAAE;MACfC,YAAY,EAAE,IAAI;MAClBC,SAAS,EAAE,EAAE;MACbC,SAAS,EAAE,EAAE;MACbC,WAAW,EAAE;IACf,CAAC,CAAC;IACF3D,YAAY,CAAC,IAAI,CAAC;EACpB,CAAC;EAED,MAAM2E,iBAAiB,GAAGA,CAAA,KAAM;IAC9BZ,mBAAmB,CAAC;MAClBxH,IAAI,EAAE,EAAE;MACR6D,KAAK,EAAE8C,UAAU,CAAC7H,MAAM,GAAG,CAAC,GAAGuJ,IAAI,CAACnC,GAAG,CAAC,GAAGS,UAAU,CAAC5G,GAAG,CAACuI,CAAC,IAAIA,CAAC,CAACzE,KAAK,CAAC,CAAC,GAAG,CAAC,GAAG;IACjF,CAAC,CAAC;IACF6D,oBAAoB,CAAC,IAAI,CAAC;EAC5B,CAAC;EAED,MAAMtD,YAAY,GAAG,MAAOvE,CAAC,IAAK;IAChCA,CAAC,CAACwE,cAAc,CAAC,CAAC;IAElB,IAAI;MACF,MAAMC,QAAQ,GAAG;QACf,GAAGtB,QAAQ;QACX3E,aAAa,EAAEK,UAAU,CAACG,EAAE;QAC5BkI,KAAK,EAAEmB,UAAU,CAAClF,QAAQ,CAAC+D,KAAK;MAClC,CAAC;MAED,IAAIxC,MAAM;MAEV,IAAIf,SAAS,EAAE;QACb,MAAM;UAAElF,IAAI;UAAEE;QAAM,CAAC,GAAG,MAAMrB,QAAQ,CACnCe,IAAI,CAAC,YAAY,CAAC,CAClBsG,MAAM,CAACF,QAAQ,CAAC,CAChBlG,EAAE,CAAC,IAAI,EAAEoF,SAAS,CAAC,CACnBrF,MAAM,CAAC,CAAC;QAEX,IAAIK,KAAK,EAAE,MAAMA,KAAK;QACtB+F,MAAM,GAAGjG,IAAI,CAAC,CAAC,CAAC;;QAEhB;QACAwI,YAAY,CAACD,SAAS,CAAC9G,GAAG,CAACwI,IAAI,IAC7BA,IAAI,CAAC1J,EAAE,KAAK2E,SAAS,GAAG;UAAE,GAAG+E,IAAI;UAAE,GAAGhE;QAAO,CAAC,GAAGgE,IACnD,CAAC,CAAC;MACJ,CAAC,MAAM;QACL,MAAM;UAAEjK,IAAI;UAAEE;QAAM,CAAC,GAAG,MAAMrB,QAAQ,CACnCe,IAAI,CAAC,YAAY,CAAC,CAClBwG,MAAM,CAAC,CAACJ,QAAQ,CAAC,CAAC,CAClBnG,MAAM,CAAC,CAAC;QAEX,IAAIK,KAAK,EAAE,MAAMA,KAAK;QACtB+F,MAAM,GAAGjG,IAAI,CAAC,CAAC,CAAC;;QAEhB;QACAwI,YAAY,CAAC,CAAC,GAAGD,SAAS,EAAEtC,MAAM,CAAC,CAAC;MACtC;MAEAJ,SAAS,CAAC,CAAC;MACXpB,WAAW,CAAC,KAAK,CAAC;IACpB,CAAC,CAAC,OAAOvE,KAAK,EAAE;MACdO,OAAO,CAACP,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;MAC/CmG,KAAK,CAAC,2CAA2C,CAAC;IACpD;EACF,CAAC;EACD,MAAM6D,oBAAoB,GAAG,MAAO3I,CAAC,IAAK;IACtCA,CAAC,CAACwE,cAAc,CAAC,CAAC;IAElB,IAAI;MACF,MAAMC,QAAQ,GAAG;QACf,GAAGiD,gBAAgB;QACnBlJ,aAAa,EAAEK,UAAU,CAACG;MAC5B,CAAC;MAED,IAAI0F,MAAM;MAEV,IAAIkD,iBAAiB,EAAE;QACrB,MAAM;UAAEnJ,IAAI;UAAEE;QAAM,CAAC,GAAG,MAAMrB,QAAQ,CACnCe,IAAI,CAAC,iBAAiB,CAAC,CACvBsG,MAAM,CAACF,QAAQ,CAAC,CAChBlG,EAAE,CAAC,IAAI,EAAEqJ,iBAAiB,CAAC,CAC3BtJ,MAAM,CAAC,CAAC;QAEX,IAAIK,KAAK,EAAE,MAAMA,KAAK;QACtB+F,MAAM,GAAGjG,IAAI,CAAC,CAAC,CAAC;;QAEhB;QACAsI,aAAa,CAACD,UAAU,CAAC5G,GAAG,CAAC0I,GAAG,IAC9BA,GAAG,CAAC5J,EAAE,KAAK4I,iBAAiB,GAAG;UAAE,GAAGgB,GAAG;UAAE,GAAGlE;QAAO,CAAC,GAAGkE,GACzD,CAAC,CAAC;MACJ,CAAC,MAAM;QACL,MAAM;UAAEnK,IAAI;UAAEE;QAAM,CAAC,GAAG,MAAMrB,QAAQ,CACnCe,IAAI,CAAC,iBAAiB,CAAC,CACvBwG,MAAM,CAAC,CAACJ,QAAQ,CAAC,CAAC,CAClBnG,MAAM,CAAC,CAAC;QAEX,IAAIK,KAAK,EAAE,MAAMA,KAAK;QACtB+F,MAAM,GAAGjG,IAAI,CAAC,CAAC,CAAC;;QAEhB;QACAsI,aAAa,CAAC,CAAC,GAAGD,UAAU,EAAEpC,MAAM,CAAC,CAAC;MACxC;MAEA6D,iBAAiB,CAAC,CAAC;MACnBd,mBAAmB,CAAC,KAAK,CAAC;IAC5B,CAAC,CAAC,OAAO9I,KAAK,EAAE;MACdO,OAAO,CAACP,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;MAC9CmG,KAAK,CAAC,8CAA8C,CAAC;IACvD;EACF,CAAC;EAED,MAAMC,UAAU,GAAI2D,IAAI,IAAK;IAC3BtF,WAAW,CAAC;MACVjD,IAAI,EAAEuI,IAAI,CAACvI,IAAI;MACfwC,WAAW,EAAE+F,IAAI,CAAC/F,WAAW,IAAI,EAAE;MACnCuE,KAAK,EAAEwB,IAAI,CAACxB,KAAK,CAAC2B,QAAQ,CAAC,CAAC;MAC5B1B,WAAW,EAAEuB,IAAI,CAACvB,WAAW;MAC7BC,YAAY,EAAEsB,IAAI,CAACtB,YAAY;MAC/BC,SAAS,EAAEqB,IAAI,CAACrB,SAAS,IAAI,EAAE;MAC/BC,SAAS,EAAEoB,IAAI,CAACpB,SAAS,IAAI,EAAE;MAC/BC,WAAW,EAAEmB,IAAI,CAACnB,WAAW,IAAI;IACnC,CAAC,CAAC;IACF3D,YAAY,CAAC8E,IAAI,CAAC1J,EAAE,CAAC;IACrBkE,WAAW,CAAC,IAAI,CAAC;EACnB,CAAC;EAED,MAAM4F,kBAAkB,GAAIC,QAAQ,IAAK;IACvCpB,mBAAmB,CAAC;MAClBxH,IAAI,EAAE4I,QAAQ,CAAC5I,IAAI;MACnB6D,KAAK,EAAE+E,QAAQ,CAAC/E;IAClB,CAAC,CAAC;IACF6D,oBAAoB,CAACkB,QAAQ,CAAC/J,EAAE,CAAC;IACjCyI,mBAAmB,CAAC,IAAI,CAAC;EAC3B,CAAC;EAED,MAAMxC,YAAY,GAAG,MAAOjG,EAAE,IAAK;IACjC,IAAI,CAACqD,MAAM,CAAC6C,OAAO,CAAC,qDAAqD,CAAC,EAAE;MAC1E;IACF;IAEA,IAAI;MACF,MAAM;QAAEvG;MAAM,CAAC,GAAG,MAAMrB,QAAQ,CAC7Be,IAAI,CAAC,YAAY,CAAC,CAClB8G,MAAM,CAAC,CAAC,CACR5G,EAAE,CAAC,IAAI,EAAES,EAAE,CAAC;MAEf,IAAIL,KAAK,EAAE,MAAMA,KAAK;;MAEtB;MACAsI,YAAY,CAACD,SAAS,CAACjE,MAAM,CAAC2F,IAAI,IAAIA,IAAI,CAAC1J,EAAE,KAAKA,EAAE,CAAC,CAAC;IACxD,CAAC,CAAC,OAAOL,KAAK,EAAE;MACdO,OAAO,CAACP,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MACjDmG,KAAK,CAAC,2CAA2C,CAAC;IACpD;EACF,CAAC;EAED,MAAMkE,oBAAoB,GAAG,MAAOhK,EAAE,IAAK;IACzC;IACA,MAAMiK,eAAe,GAAGjC,SAAS,CAACjE,MAAM,CAAC2F,IAAI,IAAIA,IAAI,CAACvB,WAAW,KAAKnI,EAAE,CAAC;IAEzE,IAAIiK,eAAe,CAAChK,MAAM,GAAG,CAAC,EAAE;MAC9B6F,KAAK,CAAC,oDAAoDmE,eAAe,CAAChK,MAAM,kBAAkB,CAAC;MACnG;IACF;IAEA,IAAI,CAACoD,MAAM,CAAC6C,OAAO,CAAC,uDAAuD,CAAC,EAAE;MAC5E;IACF;IAEA,IAAI;MACF,MAAM;QAAEvG;MAAM,CAAC,GAAG,MAAMrB,QAAQ,CAC7Be,IAAI,CAAC,iBAAiB,CAAC,CACvB8G,MAAM,CAAC,CAAC,CACR5G,EAAE,CAAC,IAAI,EAAES,EAAE,CAAC;MAEf,IAAIL,KAAK,EAAE,MAAMA,KAAK;;MAEtB;MACAoI,aAAa,CAACD,UAAU,CAAC/D,MAAM,CAAC6F,GAAG,IAAIA,GAAG,CAAC5J,EAAE,KAAKA,EAAE,CAAC,CAAC;;MAEtD;MACA,IAAI8I,gBAAgB,KAAK9I,EAAE,EAAE;QAC3B+I,mBAAmB,CAAC,KAAK,CAAC;MAC5B;IACF,CAAC,CAAC,OAAOpJ,KAAK,EAAE;MACdO,OAAO,CAACP,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MAChDmG,KAAK,CAAC,8CAA8C,CAAC;IACvD;EACF,CAAC;EAED,MAAMoE,oBAAoB,GAAIC,UAAU,IAAK;IAC3CpB,mBAAmB,CAACoB,UAAU,CAAC;EACjC,CAAC;EAED,IAAIrL,OAAO,EAAE;IACX,oBAAOjB,OAAA;MAAA4C,QAAA,EAAK;IAAoB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EACxC;EACA,oBACEhD,OAAA;IAAA4C,QAAA,gBACE5C,OAAA;MAAA4C,QAAA,GAAI,4BAAM,EAACZ,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAEsB,IAAI;IAAA;MAAAT,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eAEjChD,OAAA;MAAK2C,SAAS,EAAC,8BAA8B;MAAAC,QAAA,gBAC3C5C,OAAA;QAAK2C,SAAS,EAAC,wBAAwB;QAAAC,QAAA,gBACrC5C,OAAA;UAAA4C,QAAA,EAAI;QAAwB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACjChD,OAAA;UAAK2C,SAAS,EAAC,kBAAkB;UAAAC,QAAA,gBAC/B5C,OAAA;YACE2C,SAAS,EAAE,oBAAoBsI,gBAAgB,KAAK,KAAK,GAAG,QAAQ,GAAG,EAAE,EAAG;YAC5E1H,OAAO,EAAEA,CAAA,KAAM8I,oBAAoB,CAAC,KAAK,CAAE;YAAAzJ,QAAA,EAC5C;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,EACRiH,UAAU,CAAC5G,GAAG,CAAC6I,QAAQ,iBACtBlM,OAAA;YAEE2C,SAAS,EAAE,oBAAoBsI,gBAAgB,KAAKiB,QAAQ,CAAC/J,EAAE,GAAG,QAAQ,GAAG,EAAE,EAAG;YAClFoB,OAAO,EAAEA,CAAA,KAAM8I,oBAAoB,CAACH,QAAQ,CAAC/J,EAAE,CAAE;YAAAS,QAAA,EAEhDsJ,QAAQ,CAAC5I;UAAI,GAJT4I,QAAQ,CAAC/J,EAAE;YAAAU,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAKV,CACT,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAENhD,OAAA;QAAK2C,SAAS,EAAC,oBAAoB;QAAAC,QAAA,gBACjC5C,OAAA;UACE2C,SAAS,EAAC,eAAe;UACzBY,OAAO,EAAEA,CAAA,KAAM;YACbmI,iBAAiB,CAAC,CAAC;YACnBd,mBAAmB,CAAC,CAACD,gBAAgB,CAAC;YACtC,IAAIvE,QAAQ,EAAEC,WAAW,CAAC,KAAK,CAAC;UAClC,CAAE;UAAAzD,QAAA,EAED+H,gBAAgB,GAAG,OAAO,GAAG;QAAkB;UAAA9H,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1C,CAAC,eAEThD,OAAA;UACE2C,SAAS,EAAC,eAAe;UACzBY,OAAO,EAAEA,CAAA,KAAM;YACbkE,SAAS,CAAC,CAAC;YACXpB,WAAW,CAAC,CAACD,QAAQ,CAAC;YACtB,IAAIuE,gBAAgB,EAAEC,mBAAmB,CAAC,KAAK,CAAC;UAClD,CAAE;UAAAhI,QAAA,EAEDwD,QAAQ,GAAG,OAAO,GAAG;QAAgB;UAAAvD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,EAGL2H,gBAAgB,iBACf3K,OAAA;MAAK2C,SAAS,EAAC,sBAAsB;MAAAC,QAAA,gBACnC5C,OAAA;QAAA4C,QAAA,EAAKmI,iBAAiB,GAAG,0BAA0B,GAAG;MAAgB;QAAAlI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eAC5EhD,OAAA;QAAMuI,QAAQ,EAAEuD,oBAAqB;QAACnJ,SAAS,EAAC,YAAY;QAAAC,QAAA,gBAC1D5C,OAAA;UAAK2C,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzB5C,OAAA;YAAA4C,QAAA,EAAO;UAAgB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAC/BhD,OAAA;YACEwI,IAAI,EAAC,MAAM;YACXlF,IAAI,EAAC,MAAM;YACXL,KAAK,EAAE4H,gBAAgB,CAACvH,IAAK;YAC7BJ,QAAQ,EAAEuI,yBAA0B;YACpChD,QAAQ;UAAA;YAAA5F,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eAENhD,OAAA;UAAK2C,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzB5C,OAAA;YAAA4C,QAAA,EAAO;UAAgB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAC/BhD,OAAA;YACEwI,IAAI,EAAC,QAAQ;YACblF,IAAI,EAAC,OAAO;YACZL,KAAK,EAAE4H,gBAAgB,CAAC1D,KAAM;YAC9BjE,QAAQ,EAAEuI,yBAA0B;YACpChD,QAAQ;YACRI,GAAG,EAAC;UAAG;YAAAhG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACR,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eAENhD,OAAA;UAAK2C,SAAS,EAAC,cAAc;UAAAC,QAAA,gBAC3B5C,OAAA;YAAQwI,IAAI,EAAC,QAAQ;YAAC7F,SAAS,EAAC,kBAAkB;YAACY,OAAO,EAAEA,CAAA,KAAMqH,mBAAmB,CAAC,KAAK,CAAE;YAAAhI,QAAA,EAAC;UAE9F;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACThD,OAAA;YAAQwI,IAAI,EAAC,QAAQ;YAAC7F,SAAS,EAAC,kBAAkB;YAAAC,QAAA,EAC/CmI,iBAAiB,GAAG,kBAAkB,GAAG;UAAkB;YAAAlI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACtD,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACJ,CACN,eAGDhD,OAAA;MAAK2C,SAAS,EAAC,0BAA0B;MAAAC,QAAA,gBACvC5C,OAAA;QAAA4C,QAAA,EAAI;MAAuB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EAC/BiH,UAAU,CAAC7H,MAAM,KAAK,CAAC,gBACtBpC,OAAA;QAAK2C,SAAS,EAAC,eAAe;QAAAC,QAAA,eAC5B5C,OAAA;UAAA4C,QAAA,EAAG;QAAoD;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACxD,CAAC,gBAENhD,OAAA;QAAO2C,SAAS,EAAC,aAAa;QAAAC,QAAA,gBAC5B5C,OAAA;UAAA4C,QAAA,eACE5C,OAAA;YAAA4C,QAAA,gBACE5C,OAAA;cAAA4C,QAAA,EAAI;YAAG;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACZhD,OAAA;cAAA4C,QAAA,EAAI;YAAG;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACZhD,OAAA;cAAA4C,QAAA,EAAI;YAAa;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACtBhD,OAAA;cAAA4C,QAAA,EAAI;YAAQ;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACf;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA,CAAC,eACRhD,OAAA;UAAA4C,QAAA,EACGqH,UAAU,CAAC5G,GAAG,CAAC6I,QAAQ,IAAI;YAC1B,MAAMK,SAAS,GAAGpC,SAAS,CAACjE,MAAM,CAAC2F,IAAI,IAAIA,IAAI,CAACvB,WAAW,KAAK4B,QAAQ,CAAC/J,EAAE,CAAC,CAACC,MAAM;YACnF,oBACEpC,OAAA;cAAA4C,QAAA,gBACE5C,OAAA;gBAAA4C,QAAA,EAAKsJ,QAAQ,CAAC5I;cAAI;gBAAAT,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eACxBhD,OAAA;gBAAA4C,QAAA,EAAKsJ,QAAQ,CAAC/E;cAAK;gBAAAtE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eACzBhD,OAAA;gBAAA4C,QAAA,EAAK2J;cAAS;gBAAA1J,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eACpBhD,OAAA;gBAAA4C,QAAA,gBACE5C,OAAA;kBACE2C,SAAS,EAAC,uBAAuB;kBACjCY,OAAO,EAAEA,CAAA,KAAM0I,kBAAkB,CAACC,QAAQ,CAAE;kBAAAtJ,QAAA,eAE5C5C,OAAA;oBAAG2C,SAAS,EAAC;kBAAa;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACzB,CAAC,eACThD,OAAA;kBACE2C,SAAS,EAAC,yBAAyB;kBACnCY,OAAO,EAAEA,CAAA,KAAM4I,oBAAoB,CAACD,QAAQ,CAAC/J,EAAE,CAAE;kBACjDqK,QAAQ,EAAED,SAAS,GAAG,CAAE;kBAAA3J,QAAA,eAExB5C,OAAA;oBAAG2C,SAAS,EAAC;kBAAc;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC1B,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACP,CAAC;YAAA,GAlBEkJ,QAAQ,CAAC/J,EAAE;cAAAU,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAmBhB,CAAC;UAET,CAAC;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CACR;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,EAEToD,QAAQ,iBACPpG,OAAA;MAAK2C,SAAS,EAAC,sBAAsB;MAAAC,QAAA,gBACnC5C,OAAA;QAAA4C,QAAA,EAAKkE,SAAS,GAAG,wBAAwB,GAAG;MAAa;QAAAjE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eAC/DhD,OAAA;QAAMuI,QAAQ,EAAEb,YAAa;QAAC/E,SAAS,EAAC,YAAY;QAAAC,QAAA,gBAClD5C,OAAA;UAAK2C,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzB5C,OAAA;YAAA4C,QAAA,EAAO;UAAc;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAC7BhD,OAAA;YACEwI,IAAI,EAAC,MAAM;YACXlF,IAAI,EAAC,MAAM;YACXL,KAAK,EAAEqD,QAAQ,CAAChD,IAAK;YACrBJ,QAAQ,EAAEsE,iBAAkB;YAC5BiB,QAAQ;UAAA;YAAA5F,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eAENhD,OAAA;UAAK2C,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzB5C,OAAA;YAAA4C,QAAA,EAAO;UAAS;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACxBhD,OAAA;YACEsD,IAAI,EAAC,aAAa;YAClBL,KAAK,EAAEqD,QAAQ,CAACgE,WAAY;YAC5BpH,QAAQ,EAAEsE,iBAAkB;YAC5BiB,QAAQ;YAAA7F,QAAA,gBAER5C,OAAA;cAAQiD,KAAK,EAAC,EAAE;cAAAL,QAAA,EAAC;YAAkB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,EAC3CiH,UAAU,CAAC5G,GAAG,CAAC6I,QAAQ,iBACtBlM,OAAA;cAA0BiD,KAAK,EAAEiJ,QAAQ,CAAC/J,EAAG;cAAAS,QAAA,EAC1CsJ,QAAQ,CAAC5I;YAAI,GADH4I,QAAQ,CAAC/J,EAAE;cAAAU,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAEhB,CACT,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,eAENhD,OAAA;UAAK2C,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzB5C,OAAA;YAAA4C,QAAA,EAAO;UAAY;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAC3BhD,OAAA;YACEwI,IAAI,EAAC,QAAQ;YACblF,IAAI,EAAC,OAAO;YACZL,KAAK,EAAEqD,QAAQ,CAAC+D,KAAM;YACtBnH,QAAQ,EAAEsE,iBAAkB;YAC5BiB,QAAQ;YACRI,GAAG,EAAC,GAAG;YACP4D,IAAI,EAAC;UAAM;YAAA5J,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACZ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eAENhD,OAAA;UAAK2C,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzB5C,OAAA;YAAA4C,QAAA,EAAO;UAAQ;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACvBhD,OAAA;YACEsD,IAAI,EAAC,aAAa;YAClBL,KAAK,EAAEqD,QAAQ,CAACR,WAAY;YAC5B5C,QAAQ,EAAEsE,iBAAkB;YAC5BiC,WAAW,EAAC;UAAsB;YAAA5G,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eAENhD,OAAA;UAAK2C,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzB5C,OAAA;YAAA4C,QAAA,EAAO;UAAkB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACjChD,OAAA;YACEwI,IAAI,EAAC,KAAK;YACVlF,IAAI,EAAC,WAAW;YAChBL,KAAK,EAAEqD,QAAQ,CAACkE,SAAU;YAC1BtH,QAAQ,EAAEsE,iBAAkB;YAC5BiC,WAAW,EAAC;UAA8B;YAAA5G,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC3C,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eAENhD,OAAA;UAAK2C,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzB5C,OAAA;YAAA4C,QAAA,EAAO;UAAQ;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACvBhD,OAAA;YACEwI,IAAI,EAAC,MAAM;YACXlF,IAAI,EAAC,WAAW;YAChBL,KAAK,EAAEqD,QAAQ,CAACmE,SAAU;YAC1BvH,QAAQ,EAAEsE,iBAAkB;YAC5BiC,WAAW,EAAC;UAAsC;YAAA5G,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnD,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eAENhD,OAAA;UAAK2C,SAAS,EAAC,2BAA2B;UAAAC,QAAA,eACxC5C,OAAA;YAAA4C,QAAA,gBACE5C,OAAA;cACEwI,IAAI,EAAC,UAAU;cACflF,IAAI,EAAC,cAAc;cACnBgG,OAAO,EAAEhD,QAAQ,CAACiE,YAAa;cAC/BrH,QAAQ,EAAEsE;YAAkB;cAAA3E,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC7B,CAAC,yFAEJ;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC,eAENhD,OAAA;UAAK2C,SAAS,EAAC,2BAA2B;UAAAC,QAAA,eACxC5C,OAAA;YAAA4C,QAAA,gBACE5C,OAAA;cACEwI,IAAI,EAAC,UAAU;cACflF,IAAI,EAAC,aAAa;cAClBgG,OAAO,EAAEhD,QAAQ,CAACoE,WAAY;cAC9BxH,QAAQ,EAAEsE;YAAkB;cAAA3E,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC7B,CAAC,2GAEJ;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC,eAENhD,OAAA;UAAK2C,SAAS,EAAC,cAAc;UAAAC,QAAA,gBAC3B5C,OAAA;YAAQwI,IAAI,EAAC,QAAQ;YAAC7F,SAAS,EAAC,kBAAkB;YAACY,OAAO,EAAEA,CAAA,KAAM8C,WAAW,CAAC,KAAK,CAAE;YAAAzD,QAAA,EAAC;UAEtF;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACThD,OAAA;YAAQwI,IAAI,EAAC,QAAQ;YAAC7F,SAAS,EAAC,kBAAkB;YAAAC,QAAA,EAC/CkE,SAAS,GAAG,kBAAkB,GAAG;UAAgB;YAAAjE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC5C,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACJ,CACN,eAGDhD,OAAA;MAAK2C,SAAS,EAAC,uBAAuB;MAAAC,QAAA,gBACpC5C,OAAA;QAAA4C,QAAA,EAAI;MAAiB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EACzBmH,SAAS,CAAC/H,MAAM,KAAK,CAAC,gBACrBpC,OAAA;QAAK2C,SAAS,EAAC,eAAe;QAAAC,QAAA,eAC5B5C,OAAA;UAAA4C,QAAA,EAAG;QAAgC;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACpC,CAAC,gBAENhD,OAAA;QAAO2C,SAAS,EAAC,aAAa;QAAAC,QAAA,gBAC5B5C,OAAA;UAAA4C,QAAA,eACE5C,OAAA;YAAA4C,QAAA,gBACE5C,OAAA;cAAA4C,QAAA,EAAI;YAAW;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACpBhD,OAAA;cAAA4C,QAAA,EAAI;YAAG;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACZhD,OAAA;cAAA4C,QAAA,EAAI;YAAS;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAClBhD,OAAA;cAAA4C,QAAA,EAAI;YAAI;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACbhD,OAAA;cAAA4C,QAAA,EAAI;YAAM;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACfhD,OAAA;cAAA4C,QAAA,EAAI;YAAU;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACnBhD,OAAA;cAAA4C,QAAA,EAAI;YAAQ;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACf;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA,CAAC,eACRhD,OAAA;UAAA4C,QAAA,EACGuH,SAAS,CAAC9G,GAAG,CAACwI,IAAI;YAAA,IAAAa,qBAAA,EAAAC,WAAA;YAAA,oBACjB3M,OAAA;cAAA4C,QAAA,gBACE5C,OAAA;gBAAA4C,QAAA,EACGiJ,IAAI,CAACrB,SAAS,gBACbxK,OAAA;kBAAK4M,GAAG,EAAEf,IAAI,CAACrB,SAAU;kBAACqC,GAAG,EAAEhB,IAAI,CAACvI,IAAK;kBAACX,SAAS,EAAC;gBAAqB;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,gBAE5EhD,OAAA;kBAAK2C,SAAS,EAAC,oBAAoB;kBAAAC,QAAA,EAAC;gBAAgB;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK;cAC1D;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC,eACLhD,OAAA;gBAAA4C,QAAA,gBACE5C,OAAA;kBAAA4C,QAAA,EAASiJ,IAAI,CAACvI;gBAAI;kBAAAT,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAS,CAAC,EAC3B6I,IAAI,CAAC/F,WAAW,iBAAI9F,OAAA;kBAAG2C,SAAS,EAAC,uBAAuB;kBAAAC,QAAA,EAAEiJ,IAAI,CAAC/F;gBAAW;kBAAAjD,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,EAC/E6I,IAAI,CAACpB,SAAS,iBAAIzK,OAAA;kBAAG2C,SAAS,EAAC,qBAAqB;kBAAAC,QAAA,GAAC,oDAAU,EAACiJ,IAAI,CAACpB,SAAS;gBAAA;kBAAA5H,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAClF,CAAC,eACLhD,OAAA;gBAAA4C,QAAA,EAAK,EAAA8J,qBAAA,GAAAb,IAAI,CAACiB,eAAe,cAAAJ,qBAAA,uBAApBA,qBAAA,CAAsBpJ,IAAI,KAAI;cAAe;gBAAAT,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eACxDhD,OAAA;gBAAA4C,QAAA,IAAA+J,WAAA,GAAKd,IAAI,CAACxB,KAAK,cAAAsC,WAAA,uBAAVA,WAAA,CAAYI,OAAO,CAAC,CAAC,CAAC,EAAC,gBAAI;cAAA;gBAAAlK,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACrChD,OAAA;gBAAA4C,QAAA,eACE5C,OAAA;kBAAM2C,SAAS,EAAE,gBAAgBkJ,IAAI,CAACtB,YAAY,GAAG,QAAQ,GAAG,UAAU,EAAG;kBAAA3H,QAAA,EAC1EiJ,IAAI,CAACtB,YAAY,GAAG,SAAS,GAAG;gBAAW;kBAAA1H,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACxC;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACL,CAAC,eACLhD,OAAA;gBAAA4C,QAAA,EACGiJ,IAAI,CAACnB,WAAW,gBAAG1K,OAAA;kBAAG2C,SAAS,EAAC;gBAA8B;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,GAAG;cAAG;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACxE,CAAC,eACLhD,OAAA;gBAAA4C,QAAA,gBACE5C,OAAA;kBACE2C,SAAS,EAAC,uBAAuB;kBACjCY,OAAO,EAAEA,CAAA,KAAM2E,UAAU,CAAC2D,IAAI,CAAE;kBAAAjJ,QAAA,eAEhC5C,OAAA;oBAAG2C,SAAS,EAAC;kBAAa;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACzB,CAAC,eACThD,OAAA;kBACE2C,SAAS,EAAC,yBAAyB;kBACnCY,OAAO,EAAEA,CAAA,KAAM6E,YAAY,CAACyD,IAAI,CAAC1J,EAAE,CAAE;kBAAAS,QAAA,eAErC5C,OAAA;oBAAG2C,SAAS,EAAC;kBAAc;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC1B,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACP,CAAC;YAAA,GApCE6I,IAAI,CAAC1J,EAAE;cAAAU,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAqCZ,CAAC;UAAA,CACN;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CACR;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AACA;AAAAgH,GAAA,CA/lBStG,gBAAgB;AAAAsJ,GAAA,GAAhBtJ,gBAAgB;AAgmBzB,SAASC,kBAAkBA,CAAC;EAAE3B,UAAU;EAAEvB;AAAS,CAAC,EAAE;EAAAwM,GAAA;EAClD,MAAM,CAAChI,MAAM,EAAEiI,SAAS,CAAC,GAAGzN,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACwB,OAAO,EAAEC,UAAU,CAAC,GAAGzB,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAAC2G,QAAQ,EAAEC,WAAW,CAAC,GAAG5G,QAAQ,CAAC,KAAK,CAAC;EAC/C,MAAM,CAAC6G,QAAQ,EAAEC,WAAW,CAAC,GAAG9G,QAAQ,CAAC;IACvC0N,KAAK,EAAE,EAAE;IACTrH,WAAW,EAAE,EAAE;IACfU,IAAI,EAAE,EAAE;IACRC,IAAI,EAAE,EAAE;IACR2G,QAAQ,EAAE,EAAE;IACZ5C,SAAS,EAAE,EAAE;IACb6C,eAAe,EAAE,CAAC;IAClBhD,KAAK,EAAE,EAAE;IACTiD,YAAY,EAAE,KAAK;IACnBC,UAAU,EAAE;EACd,CAAC,CAAC;EACF,MAAM,CAACzG,SAAS,EAAEC,YAAY,CAAC,GAAGtH,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAAC+N,IAAI,EAAEC,OAAO,CAAC,GAAGhO,QAAQ,CAAC,UAAU,CAAC;EAE5CC,SAAS,CAAC,MAAM;IACd,IAAI,CAACsC,UAAU,EAAE;IAEjB,MAAM0L,WAAW,GAAG,MAAAA,CAAA,KAAY;MAC9B,IAAI;QACFxM,UAAU,CAAC,IAAI,CAAC;;QAEhB;QACA,MAAMsD,KAAK,GAAG,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;;QAEpD;QACA,IAAIsC,KAAK,GAAGxG,QAAQ,CACjBe,IAAI,CAAC,QAAQ,CAAC,CACdC,MAAM,CAAC,GAAG,CAAC,CACXC,EAAE,CAAC,eAAe,EAAEM,UAAU,CAACG,EAAE,CAAC;QAErC,IAAIqL,IAAI,KAAK,UAAU,EAAE;UACvBvG,KAAK,GAAGA,KAAK,CAAC9B,GAAG,CAAC,MAAM,EAAEX,KAAK,CAAC;QAClC,CAAC,MAAM,IAAIgJ,IAAI,KAAK,MAAM,EAAE;UAC1BvG,KAAK,GAAGA,KAAK,CAACC,EAAE,CAAC,MAAM,EAAE1C,KAAK,CAAC;QACjC;QAEA,MAAM;UAAE5C,IAAI;UAAEE;QAAM,CAAC,GAAG,MAAMmF,KAAK,CAChCE,KAAK,CAAC,MAAM,EAAE;UAAEC,SAAS,EAAEoG,IAAI,KAAK;QAAW,CAAC,CAAC;QAEpD,IAAI1L,KAAK,EAAE,MAAMA,KAAK;QAEtBoL,SAAS,CAACtL,IAAI,IAAI,EAAE,CAAC;MACvB,CAAC,CAAC,OAAOE,KAAK,EAAE;QACdO,OAAO,CAACP,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;MAChD,CAAC,SAAS;QACRZ,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IAEDwM,WAAW,CAAC,CAAC;EACf,CAAC,EAAE,CAAC1L,UAAU,EAAEwL,IAAI,EAAE/M,QAAQ,CAAC,CAAC;EAEhC,MAAM+G,iBAAiB,GAAIrE,CAAC,IAAK;IAC/B,MAAM;MAAEG,IAAI;MAAEL,KAAK;MAAEuF,IAAI;MAAEc;IAAQ,CAAC,GAAGnG,CAAC,CAACC,MAAM;IAC/CmD,WAAW,CAAC;MACV,GAAGD,QAAQ;MACX,CAAChD,IAAI,GAAGkF,IAAI,KAAK,UAAU,GAAGc,OAAO,GAC7Bd,IAAI,KAAK,QAAQ,GAAGe,QAAQ,CAACtG,KAAK,EAAE,EAAE,CAAC,GACvCK,IAAI,KAAK,OAAO,GAAGkI,UAAU,CAACvI,KAAK,CAAC,IAAI,EAAE,GAAGA;IACvD,CAAC,CAAC;EACJ,CAAC;EAED,MAAMwE,SAAS,GAAGA,CAAA,KAAM;IACtBlB,WAAW,CAAC;MACV4G,KAAK,EAAE,EAAE;MACTrH,WAAW,EAAE,EAAE;MACfU,IAAI,EAAE,EAAE;MACRC,IAAI,EAAE,EAAE;MACR2G,QAAQ,EAAE,EAAE;MACZ5C,SAAS,EAAE,EAAE;MACb6C,eAAe,EAAE,CAAC;MAClBhD,KAAK,EAAE,EAAE;MACTiD,YAAY,EAAE,KAAK;MACnBC,UAAU,EAAE;IACd,CAAC,CAAC;IACFxG,YAAY,CAAC,IAAI,CAAC;EACpB,CAAC;EACD,MAAMW,YAAY,GAAG,MAAOvE,CAAC,IAAK;IAC9BA,CAAC,CAACwE,cAAc,CAAC,CAAC;IAElB,IAAI;MACF;MACA,IAAIrB,QAAQ,CAAC+D,KAAK,IAAImB,UAAU,CAAClF,QAAQ,CAAC+D,KAAK,CAAC,GAAG,CAAC,EAAE;QACpDpC,KAAK,CAAC,oCAAoC,CAAC;QAC3C;MACF;MAEA,IAAI3B,QAAQ,CAAC+G,eAAe,GAAG,CAAC,EAAE;QAChCpF,KAAK,CAAC,8CAA8C,CAAC;QACrD;MACF;MAEA,MAAML,QAAQ,GAAG;QACf,GAAGtB,QAAQ;QACX3E,aAAa,EAAEK,UAAU,CAACG,EAAE;QAC5BkI,KAAK,EAAE/D,QAAQ,CAAC+D,KAAK,KAAK,EAAE,GAAG,IAAI,GAAGmB,UAAU,CAAClF,QAAQ,CAAC+D,KAAK;MACjE,CAAC;MAED,IAAIxC,MAAM;MAEV,IAAIf,SAAS,EAAE;QACb,MAAM;UAAElF,IAAI;UAAEE;QAAM,CAAC,GAAG,MAAMrB,QAAQ,CACnCe,IAAI,CAAC,QAAQ,CAAC,CACdsG,MAAM,CAACF,QAAQ,CAAC,CAChBlG,EAAE,CAAC,IAAI,EAAEoF,SAAS,CAAC,CACnBrF,MAAM,CAAC,CAAC;QAEX,IAAIK,KAAK,EAAE,MAAMA,KAAK;QACtB+F,MAAM,GAAGjG,IAAI,CAAC,CAAC,CAAC;;QAEhB;QACAsL,SAAS,CAACjI,MAAM,CAAC5B,GAAG,CAACsK,KAAK,IACxBA,KAAK,CAACxL,EAAE,KAAK2E,SAAS,GAAG;UAAE,GAAG6G,KAAK;UAAE,GAAG9F;QAAO,CAAC,GAAG8F,KACrD,CAAC,CAAC;MACJ,CAAC,MAAM;QACL,MAAM;UAAE/L,IAAI;UAAEE;QAAM,CAAC,GAAG,MAAMrB,QAAQ,CACnCe,IAAI,CAAC,QAAQ,CAAC,CACdwG,MAAM,CAAC,CAACJ,QAAQ,CAAC,CAAC,CAClBnG,MAAM,CAAC,CAAC;QAEX,IAAIK,KAAK,EAAE,MAAMA,KAAK;QACtB+F,MAAM,GAAGjG,IAAI,CAAC,CAAC,CAAC;;QAEhB;QACA,MAAM4C,KAAK,GAAG,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACpD,MAAMiJ,UAAU,GAAG/F,MAAM,CAACrB,IAAI,IAAIhC,KAAK;QAEvC,IAAKgJ,IAAI,KAAK,UAAU,IAAII,UAAU,IACjCJ,IAAI,KAAK,MAAM,IAAI,CAACI,UAAW,IAChCJ,IAAI,KAAK,KAAK,EAAE;UAClBN,SAAS,CAAC,CAAC,GAAGjI,MAAM,EAAE4C,MAAM,CAAC,CAAC;QAChC;MACF;MAEAJ,SAAS,CAAC,CAAC;MACXpB,WAAW,CAAC,KAAK,CAAC;IACpB,CAAC,CAAC,OAAOvE,KAAK,EAAE;MACdO,OAAO,CAACP,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;MAC3CmG,KAAK,CAAC,4CAA4C,CAAC;IACrD;EACF,CAAC;EAED,MAAMC,UAAU,GAAIyF,KAAK,IAAK;IAC5BpH,WAAW,CAAC;MACV4G,KAAK,EAAEQ,KAAK,CAACR,KAAK;MAClBrH,WAAW,EAAE6H,KAAK,CAAC7H,WAAW,IAAI,EAAE;MACpCU,IAAI,EAAEmH,KAAK,CAACnH,IAAI;MAChBC,IAAI,EAAEkH,KAAK,CAAClH,IAAI;MAChB2G,QAAQ,EAAEO,KAAK,CAACP,QAAQ,IAAI,EAAE;MAC9B5C,SAAS,EAAEmD,KAAK,CAACnD,SAAS,IAAI,EAAE;MAChC6C,eAAe,EAAEM,KAAK,CAACN,eAAe,IAAI,CAAC;MAC3ChD,KAAK,EAAEsD,KAAK,CAACtD,KAAK,KAAK,IAAI,GAAGsD,KAAK,CAACtD,KAAK,CAAC2B,QAAQ,CAAC,CAAC,GAAG,EAAE;MACzDsB,YAAY,EAAEK,KAAK,CAACL,YAAY,IAAI,KAAK;MACzCC,UAAU,EAAEI,KAAK,CAACJ,UAAU,IAAI;IAClC,CAAC,CAAC;IACFxG,YAAY,CAAC4G,KAAK,CAACxL,EAAE,CAAC;IACtBkE,WAAW,CAAC,IAAI,CAAC;EACnB,CAAC;EAED,MAAM+B,YAAY,GAAG,MAAOjG,EAAE,IAAK;IACjC,IAAI,CAACqD,MAAM,CAAC6C,OAAO,CAAC,qDAAqD,CAAC,EAAE;MAC1E;IACF;IAEA,IAAI;MACF,MAAM;QAAEvG;MAAM,CAAC,GAAG,MAAMrB,QAAQ,CAC7Be,IAAI,CAAC,QAAQ,CAAC,CACd8G,MAAM,CAAC,CAAC,CACR5G,EAAE,CAAC,IAAI,EAAES,EAAE,CAAC;MAEf,IAAIL,KAAK,EAAE,MAAMA,KAAK;;MAEtB;MACAoL,SAAS,CAACjI,MAAM,CAACiB,MAAM,CAACyH,KAAK,IAAIA,KAAK,CAACxL,EAAE,KAAKA,EAAE,CAAC,CAAC;IACpD,CAAC,CAAC,OAAOL,KAAK,EAAE;MACdO,OAAO,CAACP,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MAC7CmG,KAAK,CAAC,4CAA4C,CAAC;IACrD;EACF,CAAC;EAED,MAAM4F,aAAa,GAAG,MAAAA,CAAO1L,EAAE,EAAE2L,aAAa,KAAK;IACjD,IAAI;MACF,MAAM;QAAEhM;MAAM,CAAC,GAAG,MAAMrB,QAAQ,CAC7Be,IAAI,CAAC,QAAQ,CAAC,CACdsG,MAAM,CAAC;QAAEwF,YAAY,EAAE,CAACQ;MAAc,CAAC,CAAC,CACxCpM,EAAE,CAAC,IAAI,EAAES,EAAE,CAAC;MAEf,IAAIL,KAAK,EAAE,MAAMA,KAAK;;MAEtB;MACAoL,SAAS,CAACjI,MAAM,CAAC5B,GAAG,CAACsK,KAAK,IACxBA,KAAK,CAACxL,EAAE,KAAKA,EAAE,GAAG;QAAE,GAAGwL,KAAK;QAAEL,YAAY,EAAE,CAACQ;MAAc,CAAC,GAAGH,KACjE,CAAC,CAAC;IACJ,CAAC,CAAC,OAAO7L,KAAK,EAAE;MACdO,OAAO,CAACP,KAAK,CAAC,sCAAsC,EAAEA,KAAK,CAAC;MAC5DmG,KAAK,CAAC,qDAAqD,CAAC;IAC9D;EACF,CAAC;EAED,MAAM8F,gBAAgB,GAAIC,OAAO,IAAK;IACpCP,OAAO,CAACO,OAAO,CAAC;EAClB,CAAC;EAED,MAAMC,UAAU,GAAIC,OAAO,IAAK;IAC9B,MAAMC,KAAK,GAAGD,OAAO,CAACvJ,KAAK,CAAC,GAAG,CAAC;IAChC,OAAO,GAAGwJ,KAAK,CAAC,CAAC,CAAC,IAAIA,KAAK,CAAC,CAAC,CAAC,IAAIA,KAAK,CAAC,CAAC,CAAC,EAAE;EAC9C,CAAC;EAED,IAAIlN,OAAO,EAAE;IACX,oBAAOjB,OAAA;MAAA4C,QAAA,EAAK;IAAuB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EAC3C;EACA,oBACEhD,OAAA;IAAA4C,QAAA,gBACE5C,OAAA;MAAA4C,QAAA,GAAI,8CAAS,EAACZ,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAEsB,IAAI;IAAA;MAAAT,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eAEpChD,OAAA;MAAK2C,SAAS,EAAC,gBAAgB;MAAAC,QAAA,gBAC7B5C,OAAA;QAAK2C,SAAS,EAAC,eAAe;QAAAC,QAAA,gBAC5B5C,OAAA;UACE2C,SAAS,EAAE,oBAAoB6K,IAAI,KAAK,UAAU,GAAG,QAAQ,GAAG,EAAE,EAAG;UACrEjK,OAAO,EAAEA,CAAA,KAAMwK,gBAAgB,CAAC,UAAU,CAAE;UAAAnL,QAAA,EAC7C;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACThD,OAAA;UACE2C,SAAS,EAAE,oBAAoB6K,IAAI,KAAK,MAAM,GAAG,QAAQ,GAAG,EAAE,EAAG;UACjEjK,OAAO,EAAEA,CAAA,KAAMwK,gBAAgB,CAAC,MAAM,CAAE;UAAAnL,QAAA,EACzC;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACThD,OAAA;UACE2C,SAAS,EAAE,oBAAoB6K,IAAI,KAAK,KAAK,GAAG,QAAQ,GAAG,EAAE,EAAG;UAChEjK,OAAO,EAAEA,CAAA,KAAMwK,gBAAgB,CAAC,KAAK,CAAE;UAAAnL,QAAA,EACxC;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,eAENhD,OAAA;QACE2C,SAAS,EAAC,eAAe;QACzBY,OAAO,EAAEA,CAAA,KAAM;UACbkE,SAAS,CAAC,CAAC;UACXpB,WAAW,CAAC,CAACD,QAAQ,CAAC;QACxB,CAAE;QAAAxD,QAAA,EAEDwD,QAAQ,GAAG,OAAO,GAAG;MAAgB;QAAAvD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAChC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,EAGLoD,QAAQ,iBACPpG,OAAA;MAAK2C,SAAS,EAAC,sBAAsB;MAAAC,QAAA,gBACnC5C,OAAA;QAAA4C,QAAA,EAAKkE,SAAS,GAAG,wBAAwB,GAAG;MAAc;QAAAjE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eAChEhD,OAAA;QAAMuI,QAAQ,EAAEb,YAAa;QAAC/E,SAAS,EAAC,YAAY;QAAAC,QAAA,gBAClD5C,OAAA;UAAK2C,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzB5C,OAAA;YAAA4C,QAAA,EAAO;UAAQ;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACvBhD,OAAA;YACEwI,IAAI,EAAC,MAAM;YACXlF,IAAI,EAAC,OAAO;YACZL,KAAK,EAAEqD,QAAQ,CAAC6G,KAAM;YACtBjK,QAAQ,EAAEsE,iBAAkB;YAC5BiB,QAAQ;UAAA;YAAA5F,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eAENhD,OAAA;UAAK2C,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzB5C,OAAA;YAAA4C,QAAA,EAAO;UAAQ;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACvBhD,OAAA;YACEsD,IAAI,EAAC,aAAa;YAClBL,KAAK,EAAEqD,QAAQ,CAACR,WAAY;YAC5B5C,QAAQ,EAAEsE,iBAAkB;YAC5B4G,IAAI,EAAC;UAAG;YAAAvL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eAENhD,OAAA;UAAK2C,SAAS,EAAC,UAAU;UAAAC,QAAA,gBACvB5C,OAAA;YAAK2C,SAAS,EAAC,YAAY;YAAAC,QAAA,gBACzB5C,OAAA;cAAA4C,QAAA,EAAO;YAAI;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACnBhD,OAAA;cACEwI,IAAI,EAAC,MAAM;cACXlF,IAAI,EAAC,MAAM;cACXL,KAAK,EAAEqD,QAAQ,CAACE,IAAK;cACrBtD,QAAQ,EAAEsE,iBAAkB;cAC5BiB,QAAQ;YAAA;cAAA5F,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACT,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eAENhD,OAAA;YAAK2C,SAAS,EAAC,YAAY;YAAAC,QAAA,gBACzB5C,OAAA;cAAA4C,QAAA,EAAO;YAAW;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC1BhD,OAAA;cACEwI,IAAI,EAAC,MAAM;cACXlF,IAAI,EAAC,MAAM;cACXL,KAAK,EAAEqD,QAAQ,CAACG,IAAK;cACrBvD,QAAQ,EAAEsE,iBAAkB;cAC5BiB,QAAQ;YAAA;cAAA5F,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACT,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eAENhD,OAAA;YAAK2C,SAAS,EAAC,YAAY;YAAAC,QAAA,gBACzB5C,OAAA;cAAA4C,QAAA,EAAO;YAAS;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACxBhD,OAAA;cACEwI,IAAI,EAAC,MAAM;cACXlF,IAAI,EAAC,UAAU;cACfL,KAAK,EAAEqD,QAAQ,CAAC8G,QAAS;cACzBlK,QAAQ,EAAEsE;YAAkB;cAAA3E,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC7B,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAENhD,OAAA;UAAK2C,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzB5C,OAAA;YAAA4C,QAAA,EAAO;UAAkB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACjChD,OAAA;YACEwI,IAAI,EAAC,KAAK;YACVlF,IAAI,EAAC,WAAW;YAChBL,KAAK,EAAEqD,QAAQ,CAACkE,SAAU;YAC1BtH,QAAQ,EAAEsE,iBAAkB;YAC5BiC,WAAW,EAAC;UAA8B;YAAA5G,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC3C,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eAENhD,OAAA;UAAK2C,SAAS,EAAC,UAAU;UAAAC,QAAA,gBACvB5C,OAAA;YAAK2C,SAAS,EAAC,YAAY;YAAAC,QAAA,gBACzB5C,OAAA;cAAA4C,QAAA,EAAO;YAAU;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACzBhD,OAAA;cACEwI,IAAI,EAAC,QAAQ;cACblF,IAAI,EAAC,iBAAiB;cACtBL,KAAK,EAAEqD,QAAQ,CAAC+G,eAAgB;cAChCnK,QAAQ,EAAEsE,iBAAkB;cAC5BqB,GAAG,EAAC;YAAG;cAAAhG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACR,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eAENhD,OAAA;YAAK2C,SAAS,EAAC,YAAY;YAAAC,QAAA,gBACzB5C,OAAA;cAAA4C,QAAA,EAAO;YAA6B;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC5ChD,OAAA;cACEwI,IAAI,EAAC,QAAQ;cACblF,IAAI,EAAC,OAAO;cACZL,KAAK,EAAEqD,QAAQ,CAAC+D,KAAM;cACtBnH,QAAQ,EAAEsE,iBAAkB;cAC5BqB,GAAG,EAAC,GAAG;cACP4D,IAAI,EAAC,MAAM;cACXhD,WAAW,EAAC;YAAkC;cAAA5G,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC/C,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAENhD,OAAA;UAAK2C,SAAS,EAAC,qBAAqB;UAAAC,QAAA,gBAClC5C,OAAA;YAAK2C,SAAS,EAAC,2BAA2B;YAAAC,QAAA,eACxC5C,OAAA;cAAA4C,QAAA,gBACE5C,OAAA;gBACEwI,IAAI,EAAC,UAAU;gBACflF,IAAI,EAAC,cAAc;gBACnBgG,OAAO,EAAEhD,QAAQ,CAACgH,YAAa;gBAC/BpK,QAAQ,EAAEsE;cAAkB;gBAAA3E,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC7B,CAAC,qKAEJ;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CAAC,eAENhD,OAAA;YAAK2C,SAAS,EAAC,2BAA2B;YAAAC,QAAA,eACxC5C,OAAA;cAAA4C,QAAA,gBACE5C,OAAA;gBACEwI,IAAI,EAAC,UAAU;gBACflF,IAAI,EAAC,YAAY;gBACjBgG,OAAO,EAAEhD,QAAQ,CAACiH,UAAW;gBAC7BrK,QAAQ,EAAEsE;cAAkB;gBAAA3E,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC7B,CAAC,0JAEJ;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAENhD,OAAA;UAAK2C,SAAS,EAAC,cAAc;UAAAC,QAAA,gBAC3B5C,OAAA;YAAQwI,IAAI,EAAC,QAAQ;YAAC7F,SAAS,EAAC,kBAAkB;YAACY,OAAO,EAAEA,CAAA,KAAM8C,WAAW,CAAC,KAAK,CAAE;YAAAzD,QAAA,EAAC;UAEtF;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACThD,OAAA;YAAQwI,IAAI,EAAC,QAAQ;YAAC7F,SAAS,EAAC,kBAAkB;YAAAC,QAAA,EAC/CkE,SAAS,GAAG,kBAAkB,GAAG;UAAgB;YAAAjE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC5C,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACJ,CACN,eAELhD,OAAA;MAAK2C,SAAS,EAAC,uBAAuB;MAAAC,QAAA,EACnCqC,MAAM,CAAC7C,MAAM,KAAK,CAAC,gBAClBpC,OAAA;QAAK2C,SAAS,EAAC,eAAe;QAAAC,QAAA,eAC5B5C,OAAA;UAAA4C,QAAA,GAAG,2BAAK,EAAC4K,IAAI,KAAK,UAAU,GAAG,YAAY,GAAGA,IAAI,KAAK,MAAM,GAAG,QAAQ,GAAG,EAAE,EAAC,8CAAS;QAAA;UAAA3K,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACxF,CAAC,gBAENhD,OAAA;QAAK2C,SAAS,EAAC,aAAa;QAAAC,QAAA,EACzBqC,MAAM,CAAC5B,GAAG,CAACsK,KAAK,iBACf3N,OAAA;UAAoB2C,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACxC5C,OAAA;YAAK2C,SAAS,EAAC,aAAa;YAAAC,QAAA,EACzB+K,KAAK,CAACnD,SAAS,gBACdxK,OAAA;cAAK4M,GAAG,EAAEe,KAAK,CAACnD,SAAU;cAACqC,GAAG,EAAEc,KAAK,CAACR;YAAM;cAAAtK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,gBAE/ChD,OAAA;cAAK2C,SAAS,EAAC,mBAAmB;cAAAC,QAAA,eAChC5C,OAAA;gBAAG2C,SAAS,EAAC;cAAqB;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACpC;UACN;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC,eACNhD,OAAA;YAAK2C,SAAS,EAAC,eAAe;YAAAC,QAAA,gBAC5B5C,OAAA;cAAK2C,SAAS,EAAC,cAAc;cAAAC,QAAA,gBAC3B5C,OAAA;gBAAA4C,QAAA,EAAK+K,KAAK,CAACR;cAAK;gBAAAtK,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eACtBhD,OAAA;gBAAK2C,SAAS,EAAC,cAAc;gBAAAC,QAAA,GAC1B+K,KAAK,CAACL,YAAY,gBACjBtN,OAAA;kBAAM2C,SAAS,EAAC,qBAAqB;kBAAAC,QAAA,EAAC;gBAAW;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,gBAExDhD,OAAA;kBAAM2C,SAAS,EAAC,uBAAuB;kBAAAC,QAAA,EAAC;gBAAO;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CACtD,EACA2K,KAAK,CAACJ,UAAU,iBACfvN,OAAA;kBAAM2C,SAAS,EAAC,sBAAsB;kBAAAC,QAAA,EAAC;gBAAM;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CACpD;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACE,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eAENhD,OAAA;cAAK2C,SAAS,EAAC,iBAAiB;cAAAC,QAAA,gBAC9B5C,OAAA;gBAAA4C,QAAA,gBACE5C,OAAA;kBAAG2C,SAAS,EAAC;gBAAiB;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,KAAC,EAACiL,UAAU,CAACN,KAAK,CAACnH,IAAI,CAAC;cAAA;gBAAA3D,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC1D,CAAC,eACJhD,OAAA;gBAAA4C,QAAA,gBACE5C,OAAA;kBAAG2C,SAAS,EAAC;gBAAc;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,KAAC,EAAC2K,KAAK,CAAClH,IAAI,EAC3CkH,KAAK,CAACP,QAAQ,IAAI,MAAMO,KAAK,CAACP,QAAQ,EAAE;cAAA;gBAAAvK,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACxC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACD,CAAC,EAEL2K,KAAK,CAAC7H,WAAW,iBAChB9F,OAAA;cAAK2C,SAAS,EAAC,mBAAmB;cAAAC,QAAA,eAChC5C,OAAA;gBAAA4C,QAAA,EAAI+K,KAAK,CAAC7H,WAAW,CAAC1D,MAAM,GAAG,GAAG,GAC9BuL,KAAK,CAAC7H,WAAW,CAACuI,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG,KAAK,GACvCV,KAAK,CAAC7H;cAAW;gBAAAjD,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAClB;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACD,CACN,eAEDhD,OAAA;cAAK2C,SAAS,EAAC,eAAe;cAAAC,QAAA,GAC3B+K,KAAK,CAACN,eAAe,GAAG,CAAC,iBACxBrN,OAAA;gBAAA4C,QAAA,gBACE5C,OAAA;kBAAG2C,SAAS,EAAC;gBAAc;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,KAAC,EAAC2K,KAAK,CAACN,eAAe,EAAC,iCAC1D;cAAA;gBAAAxK,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CACJ,EACA2K,KAAK,CAACtD,KAAK,KAAK,IAAI,IAAIsD,KAAK,CAACtD,KAAK,GAAG,CAAC,gBACtCrK,OAAA;gBAAA4C,QAAA,gBACE5C,OAAA;kBAAG2C,SAAS,EAAC;gBAAmB;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,KAAC,EAAC2K,KAAK,CAACtD,KAAK,CAAC0C,OAAO,CAAC,CAAC,CAAC,EAAC,gBAChE;cAAA;gBAAAlK,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC,gBAEJhD,OAAA;gBAAA4C,QAAA,gBACE5C,OAAA;kBAAG2C,SAAS,EAAC;gBAAmB;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,2DACvC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CACJ;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE,CAAC,eAENhD,OAAA;cAAK2C,SAAS,EAAC,eAAe;cAAAC,QAAA,gBAC5B5C,OAAA;gBACE2C,SAAS,EAAC,iCAAiC;gBAC3CY,OAAO,EAAEA,CAAA,KAAMsK,aAAa,CAACF,KAAK,CAACxL,EAAE,EAAEwL,KAAK,CAACL,YAAY,CAAE;gBAC3DH,KAAK,EAAEQ,KAAK,CAACL,YAAY,GAAG,kBAAkB,GAAG,YAAa;gBAAA1K,QAAA,eAE9D5C,OAAA;kBAAG2C,SAAS,EAAE,UAAUgL,KAAK,CAACL,YAAY,GAAG,WAAW,GAAG,KAAK;gBAAG;kBAAAzK,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAClE,CAAC,eACThD,OAAA;gBACE2C,SAAS,EAAC,uBAAuB;gBACjCY,OAAO,EAAEA,CAAA,KAAM2E,UAAU,CAACyF,KAAK,CAAE;gBAAA/K,QAAA,eAEjC5C,OAAA;kBAAG2C,SAAS,EAAC;gBAAa;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACzB,CAAC,eACThD,OAAA;gBACE2C,SAAS,EAAC,yBAAyB;gBACnCY,OAAO,EAAEA,CAAA,KAAM6E,YAAY,CAACuF,KAAK,CAACxL,EAAE,CAAE;gBAAAS,QAAA,eAEtC5C,OAAA;kBAAG2C,SAAS,EAAC;gBAAc;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC1B,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC;QAAA,GAlFE2K,KAAK,CAACxL,EAAE;UAAAU,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAmFb,CACN;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC;IACN;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AACA;AAAAiK,GAAA,CAveStJ,kBAAkB;AAAA2K,GAAA,GAAlB3K,kBAAkB;AAwe3B,eAAexD,cAAc;;AAE7B;AACA,SAASyD,yBAAyBA,CAAC;EAAE5B,UAAU;EAAEvB;AAAS,CAAC,EAAE;EAAA8N,GAAA;EACzD,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGhP,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACwB,OAAO,EAAEC,UAAU,CAAC,GAAGzB,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAAC2G,QAAQ,EAAEC,WAAW,CAAC,GAAG5G,QAAQ,CAAC,KAAK,CAAC;EAC/C,MAAM,CAAC6G,QAAQ,EAAEC,WAAW,CAAC,GAAG9G,QAAQ,CAAC;IACvC0N,KAAK,EAAE,EAAE;IACTrH,WAAW,EAAE,EAAE;IACf4I,aAAa,EAAE,YAAY;IAAE;IAC7BC,cAAc,EAAE,EAAE;IAClBC,UAAU,EAAE,EAAE;IACdC,QAAQ,EAAE,EAAE;IACZC,YAAY,EAAE,EAAE;IAAE;IAClBC,UAAU,EAAE,EAAE;IACd3B,QAAQ,EAAE,EAAE;IACZ4B,SAAS,EAAE,EAAE;IACbC,QAAQ,EAAE,EAAE;IACZzE,SAAS,EAAE,EAAE;IACb0E,MAAM,EAAE,IAAI;IACZC,UAAU,EAAE,KAAK;IAAE;IACnBC,aAAa,EAAE;EACjB,CAAC,CAAC;EACF,MAAM,CAACtI,SAAS,EAAEC,YAAY,CAAC,GAAGtH,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAAC4P,cAAc,EAAEC,iBAAiB,CAAC,GAAG7P,QAAQ,CAAC,EAAE,CAAC;EACxD,MAAM,CAAC0K,SAAS,EAAEC,YAAY,CAAC,GAAG3K,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACyG,MAAM,EAAEC,SAAS,CAAC,GAAG1G,QAAQ,CAAC,QAAQ,CAAC;EAE9CC,SAAS,CAAC,MAAM;IACd,IAAI,CAACsC,UAAU,EAAE;IAEjB,MAAMV,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC5B,IAAI;QACFJ,UAAU,CAAC,IAAI,CAAC;;QAEhB;QACA,MAAMsD,KAAK,GAAG,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;;QAEpD;QACA,IAAIsC,KAAK,GAAGxG,QAAQ,CACjBe,IAAI,CAAC,gBAAgB,CAAC,CACtBC,MAAM,CAAC,GAAG,CAAC,CACXC,EAAE,CAAC,eAAe,EAAEM,UAAU,CAACG,EAAE,CAAC;QAErC,IAAI+D,MAAM,KAAK,QAAQ,EAAE;UACvBe,KAAK,GAAGA,KAAK,CACVvF,EAAE,CAAC,QAAQ,EAAE,IAAI,CAAC,CAClB6N,GAAG,CAAC,YAAY,EAAE/K,KAAK,CAAC,CACxBgL,EAAE,CAAC,eAAehL,KAAK,mBAAmB,CAAC;QAChD,CAAC,MAAM,IAAI0B,MAAM,KAAK,UAAU,EAAE;UAChCe,KAAK,GAAGA,KAAK,CAACwI,EAAE,CAAC,YAAY,EAAEjL,KAAK,CAAC;QACvC,CAAC,MAAM,IAAI0B,MAAM,KAAK,SAAS,EAAE;UAC/Be,KAAK,GAAGA,KAAK,CACVC,EAAE,CAAC,UAAU,EAAE1C,KAAK,CAAC,CACrBkL,GAAG,CAAC,UAAU,EAAE,IAAI,EAAE,IAAI,CAAC;QAChC,CAAC,MAAM,IAAIxJ,MAAM,KAAK,UAAU,EAAE;UAChCe,KAAK,GAAGA,KAAK,CAACvF,EAAE,CAAC,QAAQ,EAAE,KAAK,CAAC;QACnC;QAEA,MAAM;UAAEE,IAAI,EAAE+N,UAAU;UAAE7N,KAAK,EAAE8N;QAAY,CAAC,GAAG,MAAM3I,KAAK,CACzDE,KAAK,CAAC,YAAY,EAAE;UAAEC,SAAS,EAAE;QAAM,CAAC,CAAC;QAE5C,IAAIwI,WAAW,EAAE,MAAMA,WAAW;QAElCnB,SAAS,CAACkB,UAAU,IAAI,EAAE,CAAC;;QAE3B;QACA,MAAM;UAAE/N,IAAI,EAAEwJ,cAAc;UAAEtJ,KAAK,EAAEuJ;QAAgB,CAAC,GAAG,MAAM5K,QAAQ,CACpEe,IAAI,CAAC,iBAAiB,CAAC,CACvBC,MAAM,CAAC,GAAG,CAAC,CACXC,EAAE,CAAC,eAAe,EAAEM,UAAU,CAACG,EAAE,CAAC,CAClCgF,KAAK,CAAC,OAAO,EAAE;UAAEC,SAAS,EAAE;QAAK,CAAC,CAAC;QAEtC,IAAIiE,eAAe,EAAE,MAAMA,eAAe;QAE1CiE,iBAAiB,CAAClE,cAAc,IAAI,EAAE,CAAC;;QAEvC;QACA,MAAM;UAAExJ,IAAI,EAAEiO,SAAS;UAAE/N,KAAK,EAAEgO;QAAW,CAAC,GAAG,MAAMrP,QAAQ,CAC1De,IAAI,CAAC,YAAY,CAAC,CAClBC,MAAM,CAAC;AACpB;AACA;AACA;AACA;AACA;AACA,aAAa,CAAC,CACDC,EAAE,CAAC,eAAe,EAAEM,UAAU,CAACG,EAAE,CAAC,CAClCgF,KAAK,CAAC,MAAM,EAAE;UAAEC,SAAS,EAAE;QAAK,CAAC,CAAC;QAErC,IAAI0I,UAAU,EAAE,MAAMA,UAAU;QAEhC1F,YAAY,CAACyF,SAAS,IAAI,EAAE,CAAC;MAC/B,CAAC,CAAC,OAAO/N,KAAK,EAAE;QACdO,OAAO,CAACP,KAAK,CAAC,qCAAqC,EAAEA,KAAK,CAAC;MAC7D,CAAC,SAAS;QACRZ,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IAEDI,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,CAACU,UAAU,EAAEkE,MAAM,EAAEzF,QAAQ,CAAC,CAAC;EAElC,MAAM+G,iBAAiB,GAAIrE,CAAC,IAAK;IAC/B,MAAM;MAAEG,IAAI;MAAEL,KAAK;MAAEuF,IAAI;MAAEc;IAAQ,CAAC,GAAGnG,CAAC,CAACC,MAAM;IAC/CmD,WAAW,CAAC;MACV,GAAGD,QAAQ;MACX,CAAChD,IAAI,GAAGkF,IAAI,KAAK,UAAU,GAAGc,OAAO,GAC5BhG,IAAI,KAAK,gBAAgB,IAAIA,IAAI,KAAK,WAAW,IAAIA,IAAI,KAAK,UAAU,GACtEL,KAAK,KAAK,EAAE,GAAG,EAAE,GAAGuI,UAAU,CAACvI,KAAK,CAAC,GACtCA;IACZ,CAAC,CAAC;EACJ,CAAC;EAED,MAAM8M,sBAAsB,GAAIC,GAAG,IAAK;IACtC,MAAMC,WAAW,GAAG,CAAC,GAAG3J,QAAQ,CAACwI,YAAY,CAAC;IAC9C,MAAMoB,KAAK,GAAGD,WAAW,CAACE,OAAO,CAACH,GAAG,CAAC;IAEtC,IAAIE,KAAK,GAAG,CAAC,CAAC,EAAE;MACdD,WAAW,CAACG,MAAM,CAACF,KAAK,EAAE,CAAC,CAAC;IAC9B,CAAC,MAAM;MACLD,WAAW,CAACI,IAAI,CAACL,GAAG,CAAC;IACvB;IAEAzJ,WAAW,CAAC;MACV,GAAGD,QAAQ;MACXwI,YAAY,EAAEmB;IAChB,CAAC,CAAC;EACJ,CAAC;EACD,MAAMxI,SAAS,GAAGA,CAAA,KAAM;IACpBlB,WAAW,CAAC;MACV4G,KAAK,EAAE,EAAE;MACTrH,WAAW,EAAE,EAAE;MACf4I,aAAa,EAAE,YAAY;MAC3BC,cAAc,EAAE,EAAE;MAClBC,UAAU,EAAE,EAAE;MACdC,QAAQ,EAAE,EAAE;MACZC,YAAY,EAAE,EAAE;MAChBC,UAAU,EAAE,EAAE;MACd3B,QAAQ,EAAE,EAAE;MACZ4B,SAAS,EAAE,EAAE;MACbC,QAAQ,EAAE,EAAE;MACZzE,SAAS,EAAE,EAAE;MACb0E,MAAM,EAAE,IAAI;MACZC,UAAU,EAAE,KAAK;MACjBC,aAAa,EAAE;IACjB,CAAC,CAAC;IACFrI,YAAY,CAAC,IAAI,CAAC;EACpB,CAAC;EAED,MAAMW,YAAY,GAAG,MAAOvE,CAAC,IAAK;IAChCA,CAAC,CAACwE,cAAc,CAAC,CAAC;IAElB,IAAI;MACF;MACA,IAAIrB,QAAQ,CAACoI,aAAa,KAAK,WAAW,KACrCpI,QAAQ,CAACqI,cAAc,KAAK,EAAE,IAAInD,UAAU,CAAClF,QAAQ,CAACqI,cAAc,CAAC,IAAI,CAAC,CAAC,EAAE;QAChF1G,KAAK,CAAC,+CAA+C,CAAC;QACtD;MACF;MAEA,IAAI3B,QAAQ,CAACoI,aAAa,KAAK,YAAY,IAAIlD,UAAU,CAAClF,QAAQ,CAACqI,cAAc,CAAC,GAAG,GAAG,EAAE;QACxF1G,KAAK,CAAC,wDAAwD,CAAC;QAC/D;MACF;MAEA,IAAI3B,QAAQ,CAACsI,UAAU,IAAItI,QAAQ,CAACuI,QAAQ,IAAIvI,QAAQ,CAACsI,UAAU,GAAGtI,QAAQ,CAACuI,QAAQ,EAAE;QACvF5G,KAAK,CAAC,kDAAkD,CAAC;QACzD;MACF;MAEA,IAAI3B,QAAQ,CAAC6I,UAAU,KAAK,KAAK,IAAI,CAAC7I,QAAQ,CAAC8I,aAAa,EAAE;QAC5DnH,KAAK,CAAC,2DAA2D,CAAC;QAClE;MACF;;MAEA;MACA,MAAML,QAAQ,GAAG;QACf,GAAGtB,QAAQ;QACX3E,aAAa,EAAEK,UAAU,CAACG;MAC5B,CAAC;;MAED;MACA,KAAK,MAAMmO,GAAG,IAAI1I,QAAQ,EAAE;QAC1B,IAAIA,QAAQ,CAAC0I,GAAG,CAAC,KAAK,EAAE,EAAE;UACxB1I,QAAQ,CAAC0I,GAAG,CAAC,GAAG,IAAI;QACtB;MACF;MAEA,IAAIzI,MAAM;MAEV,IAAIf,SAAS,EAAE;QACb,MAAM;UAAElF,IAAI;UAAEE;QAAM,CAAC,GAAG,MAAMrB,QAAQ,CACnCe,IAAI,CAAC,gBAAgB,CAAC,CACtBsG,MAAM,CAACF,QAAQ,CAAC,CAChBlG,EAAE,CAAC,IAAI,EAAEoF,SAAS,CAAC,CACnBrF,MAAM,CAAC,CAAC;QAEX,IAAIK,KAAK,EAAE,MAAMA,KAAK;QACtB+F,MAAM,GAAGjG,IAAI,CAAC,CAAC,CAAC;;QAEhB;QACA6M,SAAS,CAACD,MAAM,CAACnL,GAAG,CAACkN,KAAK,IACxBA,KAAK,CAACpO,EAAE,KAAK2E,SAAS,GAAG;UAAE,GAAGyJ,KAAK;UAAE,GAAG1I;QAAO,CAAC,GAAG0I,KACrD,CAAC,CAAC;MACJ,CAAC,MAAM;QACL,MAAM;UAAE3O,IAAI;UAAEE;QAAM,CAAC,GAAG,MAAMrB,QAAQ,CACnCe,IAAI,CAAC,gBAAgB,CAAC,CACtBwG,MAAM,CAAC,CAACJ,QAAQ,CAAC,CAAC,CAClBnG,MAAM,CAAC,CAAC;QAEX,IAAIK,KAAK,EAAE,MAAMA,KAAK;QACtB+F,MAAM,GAAGjG,IAAI,CAAC,CAAC,CAAC;;QAEhB;QACA,MAAM4C,KAAK,GAAG,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACpD,MAAM6L,QAAQ,GAAG3I,MAAM,CAACqH,MAAM,KACZ,CAACrH,MAAM,CAAC+G,UAAU,IAAI/G,MAAM,CAAC+G,UAAU,IAAIpK,KAAK,CAAC,KACjD,CAACqD,MAAM,CAACgH,QAAQ,IAAIhH,MAAM,CAACgH,QAAQ,IAAIrK,KAAK,CAAC;QAC/D,MAAMoJ,UAAU,GAAG/F,MAAM,CAAC+G,UAAU,GAAGpK,KAAK;QAC5C,MAAMiM,SAAS,GAAG5I,MAAM,CAACgH,QAAQ,IAAIhH,MAAM,CAACgH,QAAQ,GAAGrK,KAAK;QAE5D,IAAK0B,MAAM,KAAK,QAAQ,IAAIsK,QAAQ,IAC/BtK,MAAM,KAAK,UAAU,IAAI0H,UAAW,IACpC1H,MAAM,KAAK,SAAS,IAAIuK,SAAU,IAClCvK,MAAM,KAAK,UAAU,IAAI,CAAC2B,MAAM,CAACqH,MAAO,IACzChJ,MAAM,KAAK,KAAK,EAAE;UACpBuI,SAAS,CAAC,CAAC5G,MAAM,EAAE,GAAG2G,MAAM,CAAC,CAAC;QAChC;MACF;MAEA/G,SAAS,CAAC,CAAC;MACXpB,WAAW,CAAC,KAAK,CAAC;IACpB,CAAC,CAAC,OAAOvE,KAAK,EAAE;MACdO,OAAO,CAACP,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;MACnDmG,KAAK,CAAC,0DAA0D,CAAC;IACnE;EACF,CAAC;EAED,MAAMC,UAAU,GAAIqI,KAAK,IAAK;IAC5BhK,WAAW,CAAC;MACV4G,KAAK,EAAEoD,KAAK,CAACpD,KAAK;MAClBrH,WAAW,EAAEyK,KAAK,CAACzK,WAAW,IAAI,EAAE;MACpC4I,aAAa,EAAE6B,KAAK,CAAC7B,aAAa;MAClCC,cAAc,EAAE4B,KAAK,CAAC5B,cAAc,KAAK,IAAI,GAAG4B,KAAK,CAAC5B,cAAc,CAAC3C,QAAQ,CAAC,CAAC,GAAG,EAAE;MACpF4C,UAAU,EAAE2B,KAAK,CAAC3B,UAAU,IAAI,EAAE;MAClCC,QAAQ,EAAE0B,KAAK,CAAC1B,QAAQ,IAAI,EAAE;MAC9BC,YAAY,EAAEyB,KAAK,CAACzB,YAAY,IAAI,EAAE;MACtCC,UAAU,EAAEwB,KAAK,CAACxB,UAAU,IAAI,EAAE;MAClC3B,QAAQ,EAAEmD,KAAK,CAACnD,QAAQ,IAAI,EAAE;MAC9B4B,SAAS,EAAEuB,KAAK,CAACvB,SAAS,KAAK,IAAI,GAAGuB,KAAK,CAACvB,SAAS,CAAChD,QAAQ,CAAC,CAAC,GAAG,EAAE;MACrEiD,QAAQ,EAAEsB,KAAK,CAACtB,QAAQ,KAAK,IAAI,GAAGsB,KAAK,CAACtB,QAAQ,CAACjD,QAAQ,CAAC,CAAC,GAAG,EAAE;MAClExB,SAAS,EAAE+F,KAAK,CAAC/F,SAAS,IAAI,EAAE;MAChC0E,MAAM,EAAEqB,KAAK,CAACrB,MAAM;MACpBC,UAAU,EAAEoB,KAAK,CAACpB,UAAU,IAAI,KAAK;MACrCC,aAAa,EAAEmB,KAAK,CAACnB,aAAa,IAAI;IACxC,CAAC,CAAC;IACFrI,YAAY,CAACwJ,KAAK,CAACpO,EAAE,CAAC;IACtBkE,WAAW,CAAC,IAAI,CAAC;EACnB,CAAC;EACD,MAAM+B,YAAY,GAAG,MAAOjG,EAAE,IAAK;IACjC,IAAI,CAACqD,MAAM,CAAC6C,OAAO,CAAC,mEAAmE,CAAC,EAAE;MACxF;IACF;IAEA,IAAI;MACF,MAAM;QAAEvG;MAAM,CAAC,GAAG,MAAMrB,QAAQ,CAC7Be,IAAI,CAAC,gBAAgB,CAAC,CACtB8G,MAAM,CAAC,CAAC,CACR5G,EAAE,CAAC,IAAI,EAAES,EAAE,CAAC;MAEf,IAAIL,KAAK,EAAE,MAAMA,KAAK;;MAEtB;MACA2M,SAAS,CAACD,MAAM,CAACtI,MAAM,CAACqK,KAAK,IAAIA,KAAK,CAACpO,EAAE,KAAKA,EAAE,CAAC,CAAC;IACpD,CAAC,CAAC,OAAOL,KAAK,EAAE;MACdO,OAAO,CAACP,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;MACrDmG,KAAK,CAAC,0DAA0D,CAAC;IACnE;EACF,CAAC;EAED,MAAMyI,YAAY,GAAG,MAAAA,CAAOvO,EAAE,EAAE2L,aAAa,KAAK;IAChD,IAAI;MACF,MAAM;QAAEhM;MAAM,CAAC,GAAG,MAAMrB,QAAQ,CAC7Be,IAAI,CAAC,gBAAgB,CAAC,CACtBsG,MAAM,CAAC;QAAEoH,MAAM,EAAE,CAACpB;MAAc,CAAC,CAAC,CAClCpM,EAAE,CAAC,IAAI,EAAES,EAAE,CAAC;MAEf,IAAIL,KAAK,EAAE,MAAMA,KAAK;;MAEtB;MACA2M,SAAS,CAACD,MAAM,CAACnL,GAAG,CAACkN,KAAK,IACxBA,KAAK,CAACpO,EAAE,KAAKA,EAAE,GAAG;QAAE,GAAGoO,KAAK;QAAErB,MAAM,EAAE,CAACpB;MAAc,CAAC,GAAGyC,KAC3D,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOzO,KAAK,EAAE;MACdO,OAAO,CAACP,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;MACpDmG,KAAK,CAAC,wCAAwC,CAAC;IACjD;EACF,CAAC;EAED,MAAMX,kBAAkB,GAAIC,SAAS,IAAK;IACxCpB,SAAS,CAACoB,SAAS,CAAC;EACtB,CAAC;EAED,MAAMoJ,cAAc,GAAIJ,KAAK,IAAK;IAChC,IAAIA,KAAK,CAACpB,UAAU,KAAK,KAAK,EAAE;MAC9B,OAAO,iBAAiB;IAC1B,CAAC,MAAM,IAAIoB,KAAK,CAACpB,UAAU,KAAK,UAAU,EAAE;MAC1C,MAAMjD,QAAQ,GAAGmD,cAAc,CAACpN,IAAI,CAAC2J,CAAC,IAAIA,CAAC,CAACzJ,EAAE,KAAKoO,KAAK,CAACnB,aAAa,CAAC;MACvE,OAAOlD,QAAQ,GAAG,cAAcA,QAAQ,CAAC5I,IAAI,EAAE,GAAG,sBAAsB;IAC1E,CAAC,MAAM,IAAIiN,KAAK,CAACpB,UAAU,KAAK,MAAM,EAAE;MACtC,MAAMtD,IAAI,GAAG1B,SAAS,CAAClI,IAAI,CAAC2O,CAAC,IAAIA,CAAC,CAACzO,EAAE,KAAKoO,KAAK,CAACnB,aAAa,CAAC;MAC9D,OAAOvD,IAAI,GAAG,YAAYA,IAAI,CAACvI,IAAI,EAAE,GAAG,oBAAoB;IAC9D;IACA,OAAO,EAAE;EACX,CAAC;EAED,MAAM2K,UAAU,GAAIC,OAAO,IAAK;IAC9B,IAAI,CAACA,OAAO,EAAE,OAAO,EAAE;IACvB,MAAMC,KAAK,GAAGD,OAAO,CAACvJ,KAAK,CAAC,GAAG,CAAC;IAChC,OAAO,GAAGwJ,KAAK,CAAC,CAAC,CAAC,IAAIA,KAAK,CAAC,CAAC,CAAC,IAAIA,KAAK,CAAC,CAAC,CAAC,EAAE;EAC9C,CAAC;EAED,MAAM0C,eAAe,GAAIN,KAAK,IAAK;IACjC,IAAIA,KAAK,CAAC7B,aAAa,KAAK,YAAY,EAAE;MACxC,OAAO,GAAG6B,KAAK,CAAC5B,cAAc,YAAY;IAC5C,CAAC,MAAM,IAAI4B,KAAK,CAAC7B,aAAa,KAAK,OAAO,EAAE;MAC1C,OAAO,GAAG6B,KAAK,CAAC5B,cAAc,CAAC5B,OAAO,CAAC,CAAC,CAAC,eAAe;IAC1D,CAAC,MAAM,IAAIwD,KAAK,CAAC7B,aAAa,KAAK,WAAW,EAAE;MAC9C,OAAO,mBAAmB;IAC5B;IACA,OAAO,EAAE;EACX,CAAC;EAED,MAAMoC,aAAa,GAAIP,KAAK,IAAK;IAC/B,MAAM/L,KAAK,GAAG,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IACpD,OAAO4L,KAAK,CAACrB,MAAM,KACX,CAACqB,KAAK,CAAC3B,UAAU,IAAI2B,KAAK,CAAC3B,UAAU,IAAIpK,KAAK,CAAC,KAC/C,CAAC+L,KAAK,CAAC1B,QAAQ,IAAI0B,KAAK,CAAC1B,QAAQ,IAAIrK,KAAK,CAAC;EACrD,CAAC;EAED,MAAMuM,mBAAmB,GAAIC,IAAI,IAAK;IACpC,IAAI,CAACA,IAAI,IAAIA,IAAI,CAAC5O,MAAM,KAAK,CAAC,EAAE,OAAO,YAAY;IAEnD,MAAM6O,MAAM,GAAG;MACb,QAAQ,EAAE,IAAI;MACd,SAAS,EAAE,IAAI;MACf,WAAW,EAAE,IAAI;MACjB,UAAU,EAAE,IAAI;MAChB,QAAQ,EAAE,IAAI;MACd,UAAU,EAAE,IAAI;MAChB,QAAQ,EAAE;IACZ,CAAC;IAED,OAAOD,IAAI,CAAC3N,GAAG,CAAC2M,GAAG,IAAIiB,MAAM,CAACjB,GAAG,CAAC,CAAC,CAACkB,IAAI,CAAC,IAAI,CAAC;EAChD,CAAC;EAED,IAAIjQ,OAAO,EAAE;IACX,oBAAOjB,OAAA;MAAA4C,QAAA,EAAK;IAAqC;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EACzD;EACA,oBACEhD,OAAA;IAAA4C,QAAA,gBACE5C,OAAA;MAAA4C,QAAA,GAAI,6HAAuB,EAACZ,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAEsB,IAAI;IAAA;MAAAT,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eAElDhD,OAAA;MAAK2C,SAAS,EAAC,gBAAgB;MAAAC,QAAA,gBAC7B5C,OAAA;QAAK2C,SAAS,EAAC,eAAe;QAAAC,QAAA,gBAC5B5C,OAAA;UACE2C,SAAS,EAAE,oBAAoBuD,MAAM,KAAK,QAAQ,GAAG,QAAQ,GAAG,EAAE,EAAG;UACrE3C,OAAO,EAAEA,CAAA,KAAM+D,kBAAkB,CAAC,QAAQ,CAAE;UAAA1E,QAAA,EAC7C;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACThD,OAAA;UACE2C,SAAS,EAAE,oBAAoBuD,MAAM,KAAK,UAAU,GAAG,QAAQ,GAAG,EAAE,EAAG;UACvE3C,OAAO,EAAEA,CAAA,KAAM+D,kBAAkB,CAAC,UAAU,CAAE;UAAA1E,QAAA,EAC/C;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACThD,OAAA;UACE2C,SAAS,EAAE,oBAAoBuD,MAAM,KAAK,SAAS,GAAG,QAAQ,GAAG,EAAE,EAAG;UACtE3C,OAAO,EAAEA,CAAA,KAAM+D,kBAAkB,CAAC,SAAS,CAAE;UAAA1E,QAAA,EAC9C;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACThD,OAAA;UACE2C,SAAS,EAAE,oBAAoBuD,MAAM,KAAK,UAAU,GAAG,QAAQ,GAAG,EAAE,EAAG;UACvE3C,OAAO,EAAEA,CAAA,KAAM+D,kBAAkB,CAAC,UAAU,CAAE;UAAA1E,QAAA,EAC/C;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACThD,OAAA;UACE2C,SAAS,EAAE,oBAAoBuD,MAAM,KAAK,KAAK,GAAG,QAAQ,GAAG,EAAE,EAAG;UAClE3C,OAAO,EAAEA,CAAA,KAAM+D,kBAAkB,CAAC,KAAK,CAAE;UAAA1E,QAAA,EAC1C;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,eAENhD,OAAA;QACE2C,SAAS,EAAC,eAAe;QACzBY,OAAO,EAAEA,CAAA,KAAM;UACbkE,SAAS,CAAC,CAAC;UACXpB,WAAW,CAAC,CAACD,QAAQ,CAAC;QACxB,CAAE;QAAAxD,QAAA,EAEDwD,QAAQ,GAAG,OAAO,GAAG;MAA8B;QAAAvD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC9C,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,EAGLoD,QAAQ,iBACPpG,OAAA;MAAK2C,SAAS,EAAC,sBAAsB;MAAAC,QAAA,gBACnC5C,OAAA;QAAA4C,QAAA,EAAKkE,SAAS,GAAG,sCAAsC,GAAG;MAA4B;QAAAjE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eAC5FhD,OAAA;QAAMuI,QAAQ,EAAEb,YAAa;QAAC/E,SAAS,EAAC,YAAY;QAAAC,QAAA,gBAClD5C,OAAA;UAAK2C,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzB5C,OAAA;YAAA4C,QAAA,EAAO;UAAQ;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACvBhD,OAAA;YACEwI,IAAI,EAAC,MAAM;YACXlF,IAAI,EAAC,OAAO;YACZL,KAAK,EAAEqD,QAAQ,CAAC6G,KAAM;YACtBjK,QAAQ,EAAEsE,iBAAkB;YAC5BiB,QAAQ;YACRgB,WAAW,EAAC;UAA0C;YAAA5G,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACvD,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eAENhD,OAAA;UAAK2C,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzB5C,OAAA;YAAA4C,QAAA,EAAO;UAAQ;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACvBhD,OAAA;YACEsD,IAAI,EAAC,aAAa;YAClBL,KAAK,EAAEqD,QAAQ,CAACR,WAAY;YAC5B5C,QAAQ,EAAEsE,iBAAkB;YAC5B4G,IAAI,EAAC,GAAG;YACR3E,WAAW,EAAC;UAA8C;YAAA5G,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC3D,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eAENhD,OAAA;UAAK2C,SAAS,EAAC,UAAU;UAAAC,QAAA,gBACvB5C,OAAA;YAAK2C,SAAS,EAAC,YAAY;YAAAC,QAAA,gBACzB5C,OAAA;cAAA4C,QAAA,EAAO;YAAY;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC3BhD,OAAA;cACEsD,IAAI,EAAC,eAAe;cACpBL,KAAK,EAAEqD,QAAQ,CAACoI,aAAc;cAC9BxL,QAAQ,EAAEsE,iBAAkB;cAC5BiB,QAAQ;cAAA7F,QAAA,gBAER5C,OAAA;gBAAQiD,KAAK,EAAC,YAAY;gBAAAL,QAAA,EAAC;cAAW;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eAC/ChD,OAAA;gBAAQiD,KAAK,EAAC,OAAO;gBAAAL,QAAA,EAAC;cAAoB;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eACnDhD,OAAA;gBAAQiD,KAAK,EAAC,WAAW;gBAAAL,QAAA,EAAC;cAAiB;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC9C,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC,EAELsD,QAAQ,CAACoI,aAAa,KAAK,WAAW,iBACrC1O,OAAA;YAAK2C,SAAS,EAAC,YAAY;YAAAC,QAAA,gBACzB5C,OAAA;cAAA4C,QAAA,EAAO;YAAsB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACrChD,OAAA;cACEwI,IAAI,EAAC,QAAQ;cACblF,IAAI,EAAC,gBAAgB;cACrBL,KAAK,EAAEqD,QAAQ,CAACqI,cAAe;cAC/BzL,QAAQ,EAAEsE,iBAAkB;cAC5BqB,GAAG,EAAEvC,QAAQ,CAACoI,aAAa,KAAK,YAAY,GAAG,CAAC,GAAG,IAAK;cACxDlF,GAAG,EAAElD,QAAQ,CAACoI,aAAa,KAAK,YAAY,GAAG,GAAG,GAAGyC,SAAU;cAC/D1E,IAAI,EAAEnG,QAAQ,CAACoI,aAAa,KAAK,YAAY,GAAG,CAAC,GAAG,IAAK;cACzDjG,QAAQ;YAAA;cAAA5F,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACT,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CACN;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC,eAENhD,OAAA;UAAK2C,SAAS,EAAC,UAAU;UAAAC,QAAA,gBACvB5C,OAAA;YAAK2C,SAAS,EAAC,YAAY;YAAAC,QAAA,gBACzB5C,OAAA;cAAA4C,QAAA,EAAO;YAAY;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC3BhD,OAAA;cACEwI,IAAI,EAAC,MAAM;cACXlF,IAAI,EAAC,YAAY;cACjBL,KAAK,EAAEqD,QAAQ,CAACsI,UAAW;cAC3B1L,QAAQ,EAAEsE;YAAkB;cAAA3E,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC7B,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eAENhD,OAAA;YAAK2C,SAAS,EAAC,YAAY;YAAAC,QAAA,gBACzB5C,OAAA;cAAA4C,QAAA,EAAO;YAAW;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC1BhD,OAAA;cACEwI,IAAI,EAAC,MAAM;cACXlF,IAAI,EAAC,UAAU;cACfL,KAAK,EAAEqD,QAAQ,CAACuI,QAAS;cACzB3L,QAAQ,EAAEsE;YAAkB;cAAA3E,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC7B,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAENhD,OAAA;UAAK2C,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzB5C,OAAA;YAAA4C,QAAA,EAAO;UAA2B;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAC1ChD,OAAA;YAAK2C,SAAS,EAAC,wBAAwB;YAAAC,QAAA,EACpC,CAAC,QAAQ,EAAE,SAAS,EAAE,WAAW,EAAE,UAAU,EAAE,QAAQ,EAAE,UAAU,EAAE,QAAQ,CAAC,CAACS,GAAG,CAAC2M,GAAG,iBACrFhQ,OAAA;cAAiB2C,SAAS,EAAC,cAAc;cAAAC,QAAA,gBACvC5C,OAAA;gBACEwI,IAAI,EAAC,UAAU;gBACfc,OAAO,EAAEhD,QAAQ,CAACwI,YAAY,CAACsC,QAAQ,CAACpB,GAAG,CAAE;gBAC7C9M,QAAQ,EAAEA,CAAA,KAAM6M,sBAAsB,CAACC,GAAG;cAAE;gBAAAnN,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC7C,CAAC,EACDgN,GAAG,KAAK,QAAQ,GAAG,IAAI,GACvBA,GAAG,KAAK,SAAS,GAAG,IAAI,GACxBA,GAAG,KAAK,WAAW,GAAG,IAAI,GAC1BA,GAAG,KAAK,UAAU,GAAG,IAAI,GACzBA,GAAG,KAAK,QAAQ,GAAG,IAAI,GACvBA,GAAG,KAAK,UAAU,GAAG,IAAI,GAAG,IAAI;YAAA,GAXvBA,GAAG;cAAAnN,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAYR,CACR;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eACNhD,OAAA;YAAA4C,QAAA,EAAO;UAA4C;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACxD,CAAC,eACNhD,OAAA;UAAK2C,SAAS,EAAC,UAAU;UAAAC,QAAA,gBAC3B5C,OAAA;YAAK2C,SAAS,EAAC,YAAY;YAAAC,QAAA,gBACzB5C,OAAA;cAAA4C,QAAA,EAAO;YAAW;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC1BhD,OAAA;cACEwI,IAAI,EAAC,MAAM;cACXlF,IAAI,EAAC,YAAY;cACjBL,KAAK,EAAEqD,QAAQ,CAACyI,UAAW;cAC3B7L,QAAQ,EAAEsE;YAAkB;cAAA3E,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC7B,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eAENhD,OAAA;YAAK2C,SAAS,EAAC,YAAY;YAAAC,QAAA,gBACzB5C,OAAA;cAAA4C,QAAA,EAAO;YAAS;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACxBhD,OAAA;cACEwI,IAAI,EAAC,MAAM;cACXlF,IAAI,EAAC,UAAU;cACfL,KAAK,EAAEqD,QAAQ,CAAC8G,QAAS;cACzBlK,QAAQ,EAAEsE;YAAkB;cAAA3E,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC7B,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAENhD,OAAA;UAAK2C,SAAS,EAAC,UAAU;UAAAC,QAAA,gBACvB5C,OAAA;YAAK2C,SAAS,EAAC,YAAY;YAAAC,QAAA,gBACzB5C,OAAA;cAAA4C,QAAA,EAAO;YAAuB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACtChD,OAAA;cACEwI,IAAI,EAAC,QAAQ;cACblF,IAAI,EAAC,WAAW;cAChBL,KAAK,EAAEqD,QAAQ,CAAC0I,SAAU;cAC1B9L,QAAQ,EAAEsE,iBAAkB;cAC5BqB,GAAG,EAAC,GAAG;cACP4D,IAAI,EAAC,MAAM;cACXhD,WAAW,EAAC;YAA2B;cAAA5G,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACxC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eAENhD,OAAA;YAAK2C,SAAS,EAAC,YAAY;YAAAC,QAAA,gBACzB5C,OAAA;cAAA4C,QAAA,EAAO;YAA2B;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC1ChD,OAAA;cACEwI,IAAI,EAAC,QAAQ;cACblF,IAAI,EAAC,UAAU;cACfL,KAAK,EAAEqD,QAAQ,CAAC2I,QAAS;cACzB/L,QAAQ,EAAEsE,iBAAkB;cAC5BqB,GAAG,EAAC,GAAG;cACPY,WAAW,EAAC;YAAiC;cAAA5G,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC9C,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAENhD,OAAA;UAAK2C,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzB5C,OAAA;YAAA4C,QAAA,EAAO;UAAkB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACjChD,OAAA;YACEwI,IAAI,EAAC,KAAK;YACVlF,IAAI,EAAC,WAAW;YAChBL,KAAK,EAAEqD,QAAQ,CAACkE,SAAU;YAC1BtH,QAAQ,EAAEsE,iBAAkB;YAC5BiC,WAAW,EAAC;UAA8B;YAAA5G,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC3C,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eAENhD,OAAA;UAAK2C,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzB5C,OAAA;YAAA4C,QAAA,EAAO;UAAkB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACjChD,OAAA;YACEsD,IAAI,EAAC,YAAY;YACjBL,KAAK,EAAEqD,QAAQ,CAAC6I,UAAW;YAC3BjM,QAAQ,EAAEsE,iBAAkB;YAC5BiB,QAAQ;YAAA7F,QAAA,gBAER5C,OAAA;cAAQiD,KAAK,EAAC,KAAK;cAAAL,QAAA,EAAC;YAAe;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eAC5ChD,OAAA;cAAQiD,KAAK,EAAC,UAAU;cAAAL,QAAA,EAAC;YAAmB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACrDhD,OAAA;cAAQiD,KAAK,EAAC,MAAM;cAAAL,QAAA,EAAC;YAAiB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,EAELsD,QAAQ,CAAC6I,UAAU,KAAK,UAAU,iBACjCnP,OAAA;UAAK2C,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzB5C,OAAA;YAAA4C,QAAA,EAAO;UAAkB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACjChD,OAAA;YACEsD,IAAI,EAAC,eAAe;YACpBL,KAAK,EAAEqD,QAAQ,CAAC8I,aAAc;YAC9BlM,QAAQ,EAAEsE,iBAAkB;YAC5BiB,QAAQ;YAAA7F,QAAA,gBAER5C,OAAA;cAAQiD,KAAK,EAAC,EAAE;cAAAL,QAAA,EAAC;YAAkB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,EAC3CqM,cAAc,CAAChM,GAAG,CAAC6I,QAAQ,iBAC1BlM,OAAA;cAA0BiD,KAAK,EAAEiJ,QAAQ,CAAC/J,EAAG;cAAAS,QAAA,EAC1CsJ,QAAQ,CAAC5I;YAAI,GADH4I,QAAQ,CAAC/J,EAAE;cAAAU,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAEhB,CACT,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CACN,EAEAsD,QAAQ,CAAC6I,UAAU,KAAK,MAAM,iBAC7BnP,OAAA;UAAK2C,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzB5C,OAAA;YAAA4C,QAAA,EAAO;UAAgB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAC/BhD,OAAA;YACEsD,IAAI,EAAC,eAAe;YACpBL,KAAK,EAAEqD,QAAQ,CAAC8I,aAAc;YAC9BlM,QAAQ,EAAEsE,iBAAkB;YAC5BiB,QAAQ;YAAA7F,QAAA,gBAER5C,OAAA;cAAQiD,KAAK,EAAC,EAAE;cAAAL,QAAA,EAAC;YAAgB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,EACzCmH,SAAS,CAAC9G,GAAG,CAACwI,IAAI;cAAA,IAAAwF,sBAAA,EAAAC,YAAA;cAAA,oBACjBtR,OAAA;gBAAsBiD,KAAK,EAAE4I,IAAI,CAAC1J,EAAG;gBAAAS,QAAA,GAClCiJ,IAAI,CAACvI,IAAI,EAAC,IAAE,EAAC,EAAA+N,sBAAA,GAAAxF,IAAI,CAACiB,eAAe,cAAAuE,sBAAA,uBAApBA,sBAAA,CAAsB/N,IAAI,KAAI,eAAe,EAAC,MAAI,GAAAgO,YAAA,GAACzF,IAAI,CAACxB,KAAK,cAAAiH,YAAA,uBAAVA,YAAA,CAAYvE,OAAO,CAAC,CAAC,CAAC,EAAC,gBAC1F;cAAA,GAFalB,IAAI,CAAC1J,EAAE;gBAAAU,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAEZ,CAAC;YAAA,CACV,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CACN,eAEDhD,OAAA;UAAK2C,SAAS,EAAC,2BAA2B;UAAAC,QAAA,eACxC5C,OAAA;YAAA4C,QAAA,gBACE5C,OAAA;cACEwI,IAAI,EAAC,UAAU;cACflF,IAAI,EAAC,QAAQ;cACbgG,OAAO,EAAEhD,QAAQ,CAAC4I,MAAO;cACzBhM,QAAQ,EAAEsE;YAAkB;cAAA3E,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC7B,CAAC,8CAEJ;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC,eAENhD,OAAA;UAAK2C,SAAS,EAAC,cAAc;UAAAC,QAAA,gBAC3B5C,OAAA;YAAQwI,IAAI,EAAC,QAAQ;YAAC7F,SAAS,EAAC,kBAAkB;YAACY,OAAO,EAAEA,CAAA,KAAM8C,WAAW,CAAC,KAAK,CAAE;YAAAzD,QAAA,EAAC;UAEtF;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACThD,OAAA;YAAQwI,IAAI,EAAC,QAAQ;YAAC7F,SAAS,EAAC,kBAAkB;YAAAC,QAAA,EAC/CkE,SAAS,GAAG,kBAAkB,GAAG;UAA8B;YAAAjE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC1D,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACJ,CACN,eAEDhD,OAAA;MAAK2C,SAAS,EAAC,uBAAuB;MAAAC,QAAA,EACnC4L,MAAM,CAACpM,MAAM,KAAK,CAAC,gBAClBpC,OAAA;QAAK2C,SAAS,EAAC,eAAe;QAAAC,QAAA,eAC5B5C,OAAA;UAAA4C,QAAA,EAAG;QAAoC;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACxC,CAAC,gBAENhD,OAAA;QAAK2C,SAAS,EAAC,qBAAqB;QAAAC,QAAA,EACjC4L,MAAM,CAACnL,GAAG,CAACkN,KAAK,iBACfvQ,OAAA;UAAoB2C,SAAS,EAAE,sBAAsBmO,aAAa,CAACP,KAAK,CAAC,GAAG,QAAQ,GAAG,UAAU,EAAG;UAAA3N,QAAA,gBAClG5C,OAAA;YAAK2C,SAAS,EAAC,sBAAsB;YAAAC,QAAA,gBACnC5C,OAAA;cAAA4C,QAAA,EAAK2N,KAAK,CAACpD;YAAK;cAAAtK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACtBhD,OAAA;cAAK2C,SAAS,EAAC,sBAAsB;cAAAC,QAAA,EAClCkO,aAAa,CAACP,KAAK,CAAC,gBACnBvQ,OAAA;gBAAM2C,SAAS,EAAC,qBAAqB;gBAAAC,QAAA,EAAC;cAAO;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,GAEpDuN,KAAK,CAACrB,MAAM,GACVqB,KAAK,CAAC3B,UAAU,IAAI,IAAInK,IAAI,CAAC8L,KAAK,CAAC3B,UAAU,CAAC,GAAG,IAAInK,IAAI,CAAC,CAAC,gBACzDzE,OAAA;gBAAM2C,SAAS,EAAC,uBAAuB;gBAAAC,QAAA,EAAC;cAAU;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,gBAEzDhD,OAAA;gBAAM2C,SAAS,EAAC,sBAAsB;gBAAAC,QAAA,EAAC;cAAO;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CACrD,gBAEDhD,OAAA;gBAAM2C,SAAS,EAAC,uBAAuB;gBAAAC,QAAA,EAAC;cAAS;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM;YAE1D;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAENhD,OAAA;YAAK2C,SAAS,EAAC,uBAAuB;YAAAC,QAAA,GACnC2N,KAAK,CAAC/F,SAAS,iBACdxK,OAAA;cAAK2C,SAAS,EAAC,qBAAqB;cAAAC,QAAA,eAClC5C,OAAA;gBAAK4M,GAAG,EAAE2D,KAAK,CAAC/F,SAAU;gBAACqC,GAAG,EAAE0D,KAAK,CAACpD;cAAM;gBAAAtK,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC5C,CACN,eAEDhD,OAAA;cAAK2C,SAAS,EAAC,uBAAuB;cAAAC,QAAA,gBACpC5C,OAAA;gBAAG2C,SAAS,EAAC,wBAAwB;gBAAAC,QAAA,gBACnC5C,OAAA;kBAAG2C,SAAS,EAAC;gBAAY;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,KAAC,EAAC6N,eAAe,CAACN,KAAK,CAAC;cAAA;gBAAA1N,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACrD,CAAC,eAEJhD,OAAA;gBAAG2C,SAAS,EAAC,0BAA0B;gBAAAC,QAAA,gBACrC5C,OAAA;kBAAG2C,SAAS,EAAC;gBAAwB;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,KAAC,EAAC2N,cAAc,CAACJ,KAAK,CAAC;cAAA;gBAAA1N,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAChE,CAAC,eAEJhD,OAAA;gBAAK2C,SAAS,EAAC,sBAAsB;gBAAAC,QAAA,GAClC,CAAC2N,KAAK,CAAC3B,UAAU,IAAI2B,KAAK,CAAC1B,QAAQ,kBAClC7O,OAAA;kBAAA4C,QAAA,gBACE5C,OAAA;oBAAG2C,SAAS,EAAC;kBAAqB;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,EACtCuN,KAAK,CAAC3B,UAAU,GAAGX,UAAU,CAACsC,KAAK,CAAC3B,UAAU,CAAC,GAAG,kBAAkB,EAAC,IACtE,EAAC2B,KAAK,CAAC1B,QAAQ,GAAGZ,UAAU,CAACsC,KAAK,CAAC1B,QAAQ,CAAC,GAAG,iBAAiB;gBAAA;kBAAAhM,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC/D,CACJ,EAEAuN,KAAK,CAACzB,YAAY,IAAIyB,KAAK,CAACzB,YAAY,CAAC1M,MAAM,GAAG,CAAC,iBAClDpC,OAAA;kBAAA4C,QAAA,gBACE5C,OAAA;oBAAG2C,SAAS,EAAC;kBAAsB;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,KAAC,EAAC+N,mBAAmB,CAACR,KAAK,CAACzB,YAAY,CAAC;gBAAA;kBAAAjM,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAChF,CACJ,EAEA,CAACuN,KAAK,CAACxB,UAAU,IAAIwB,KAAK,CAACnD,QAAQ,kBAClCpN,OAAA;kBAAA4C,QAAA,gBACE5C,OAAA;oBAAG2C,SAAS,EAAC;kBAAc;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,EAC/BuN,KAAK,CAACxB,UAAU,IAAI,OAAO,EAAC,KAAG,EAACwB,KAAK,CAACnD,QAAQ,IAAI,OAAO;gBAAA;kBAAAvK,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACzD,CACJ;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACE,CAAC,EAELuN,KAAK,CAACzK,WAAW,iBAChB9F,OAAA;gBAAG2C,SAAS,EAAC,2BAA2B;gBAAAC,QAAA,EAAE2N,KAAK,CAACzK;cAAW;gBAAAjD,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAChE,eAEDhD,OAAA;gBAAK2C,SAAS,EAAC,0BAA0B;gBAAAC,QAAA,GACtC2N,KAAK,CAACvB,SAAS,GAAG,CAAC,iBAClBhP,OAAA;kBAAA4C,QAAA,gBACE5C,OAAA;oBAAG2C,SAAS,EAAC;kBAAsB;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,wGAAoB,EAACuN,KAAK,CAACvB,SAAS,CAACjC,OAAO,CAAC,CAAC,CAAC,EAAC,gBAC1F;gBAAA;kBAAAlK,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAG,CACJ,EAEAuN,KAAK,CAACtB,QAAQ,GAAG,CAAC,iBACjBjP,OAAA;kBAAA4C,QAAA,gBACE5C,OAAA;oBAAG2C,SAAS,EAAC;kBAAmB;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,+JAA8B,EAACuN,KAAK,CAACtB,QAAQ;gBAAA;kBAAApM,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACjF,CACJ;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACE,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAENhD,OAAA;YAAK2C,SAAS,EAAC,uBAAuB;YAAAC,QAAA,gBACpC5C,OAAA;cACE2C,SAAS,EAAC,gCAAgC;cAC1CY,OAAO,EAAEA,CAAA,KAAMmN,YAAY,CAACH,KAAK,CAACpO,EAAE,EAAEoO,KAAK,CAACrB,MAAM,CAAE;cACpD/B,KAAK,EAAEoD,KAAK,CAACrB,MAAM,GAAG,aAAa,GAAG,WAAY;cAAAtM,QAAA,eAElD5C,OAAA;gBAAG2C,SAAS,EAAE,UAAU4N,KAAK,CAACrB,MAAM,GAAG,YAAY,GAAG,WAAW;cAAG;gBAAArM,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACnE,CAAC,eACThD,OAAA;cACE2C,SAAS,EAAC,uBAAuB;cACjCY,OAAO,EAAEA,CAAA,KAAM2E,UAAU,CAACqI,KAAK,CAAE;cAAA3N,QAAA,eAEjC5C,OAAA;gBAAG2C,SAAS,EAAC;cAAa;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACzB,CAAC,eACThD,OAAA;cACE2C,SAAS,EAAC,yBAAyB;cACnCY,OAAO,EAAEA,CAAA,KAAM6E,YAAY,CAACmI,KAAK,CAACpO,EAAE,CAAE;cAAAS,QAAA,eAEtC5C,OAAA;gBAAG2C,SAAS,EAAC;cAAc;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC1B,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA,GAnGEuN,KAAK,CAACpO,EAAE;UAAAU,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAoGb,CACN;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC;IACN;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AACA;AAAAuL,GAAA,CA1vBS3K,yBAAyB;AAAA2N,GAAA,GAAzB3N,yBAAyB;AA2vBlC,SAASE,mBAAmBA,CAAC;EAAE9B,UAAU;EAAEvB;AAAS,CAAC,EAAE;EAAA+Q,GAAA;EACnD,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGjS,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACwB,OAAO,EAAEC,UAAU,CAAC,GAAGzB,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAAC2G,QAAQ,EAAEC,WAAW,CAAC,GAAG5G,QAAQ,CAAC,KAAK,CAAC;EAC/C,MAAM,CAAC6G,QAAQ,EAAEC,WAAW,CAAC,GAAG9G,QAAQ,CAAC;IACvC0N,KAAK,EAAE,EAAE;IACTrH,WAAW,EAAE,EAAE;IACf0E,SAAS,EAAE,EAAE;IACbhC,IAAI,EAAE,SAAS;IAAE;IACjBrB,KAAK,EAAE,CAAC;IACRwK,WAAW,EAAE;EACf,CAAC,CAAC;EACF,MAAM,CAAC7K,SAAS,EAAEC,YAAY,CAAC,GAAGtH,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAACyG,MAAM,EAAEC,SAAS,CAAC,GAAG1G,QAAQ,CAAC,KAAK,CAAC;EAC3C,MAAM,CAACmS,WAAW,EAAEC,cAAc,CAAC,GAAGpS,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACqS,cAAc,EAAEC,iBAAiB,CAAC,GAAGtS,QAAQ,CAAC,CAAC,CAAC;EACvD,MAAMuS,YAAY,GAAGrS,MAAM,CAAC,IAAI,CAAC;EAEjCD,SAAS,CAAC,MAAM;IACd,IAAI,CAACsC,UAAU,EAAE;IAEjB,MAAMiQ,YAAY,GAAG,MAAAA,CAAA,KAAY;MAC/B,IAAI;QACF/Q,UAAU,CAAC,IAAI,CAAC;QAEhB,IAAI+F,KAAK,GAAGxG,QAAQ,CACjBe,IAAI,CAAC,SAAS,CAAC,CACfC,MAAM,CAAC,GAAG,CAAC,CACXC,EAAE,CAAC,eAAe,EAAEM,UAAU,CAACG,EAAE,CAAC;QAErC,IAAI+D,MAAM,KAAK,KAAK,EAAE;UACpBe,KAAK,GAAGA,KAAK,CAACvF,EAAE,CAAC,MAAM,EAAEwE,MAAM,CAAC;QAClC;QAEA,MAAM;UAAEtE,IAAI;UAAEE;QAAM,CAAC,GAAG,MAAMmF,KAAK,CAChCE,KAAK,CAAC,aAAa,EAAE;UAAEC,SAAS,EAAE;QAAM,CAAC,CAAC,CAC1CD,KAAK,CAAC,OAAO,EAAE;UAAEC,SAAS,EAAE;QAAK,CAAC,CAAC;QAEtC,IAAItF,KAAK,EAAE,MAAMA,KAAK;QAEtB4P,eAAe,CAAC9P,IAAI,IAAI,EAAE,CAAC;MAC7B,CAAC,CAAC,OAAOE,KAAK,EAAE;QACdO,OAAO,CAACP,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;MACjD,CAAC,SAAS;QACRZ,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IAED+Q,YAAY,CAAC,CAAC;EAChB,CAAC,EAAE,CAACjQ,UAAU,EAAEkE,MAAM,EAAEzF,QAAQ,CAAC,CAAC;EAElC,MAAM+G,iBAAiB,GAAIrE,CAAC,IAAK;IAC/B,MAAM;MAAEG,IAAI;MAAEL,KAAK;MAAEuF,IAAI;MAAEc;IAAQ,CAAC,GAAGnG,CAAC,CAACC,MAAM;IAC/CmD,WAAW,CAAC;MACV,GAAGD,QAAQ;MACX,CAAChD,IAAI,GAAGkF,IAAI,KAAK,UAAU,GAAGc,OAAO,GAC7BhG,IAAI,KAAK,OAAO,GAAGiG,QAAQ,CAACtG,KAAK,EAAE,EAAE,CAAC,GAAGA;IACnD,CAAC,CAAC;EACJ,CAAC;EAED,MAAMwE,SAAS,GAAGA,CAAA,KAAM;IACtBlB,WAAW,CAAC;MACV4G,KAAK,EAAE,EAAE;MACTrH,WAAW,EAAE,EAAE;MACf0E,SAAS,EAAE,EAAE;MACbhC,IAAI,EAAE,SAAS;MACfrB,KAAK,EAAEsK,YAAY,CAACrP,MAAM,GAAG,CAAC,GAAGuJ,IAAI,CAACnC,GAAG,CAAC,GAAGiI,YAAY,CAACpO,GAAG,CAACwI,IAAI,IAAIA,IAAI,CAAC1E,KAAK,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC;MAC/FwK,WAAW,EAAE;IACf,CAAC,CAAC;IACF5K,YAAY,CAAC,IAAI,CAAC;IAClB,IAAIiL,YAAY,CAACE,OAAO,EAAE;MACxBF,YAAY,CAACE,OAAO,CAACjP,KAAK,GAAG,EAAE;IACjC;EACF,CAAC;EACD,MAAMkP,gBAAgB,GAAG,MAAOhP,CAAC,IAAK;IAClC,MAAMiP,IAAI,GAAGjP,CAAC,CAACC,MAAM,CAACiP,KAAK,CAAC,CAAC,CAAC;IAC9B,IAAI,CAACD,IAAI,EAAE;;IAEX;IACA,IAAI,CAAC,CAAC,YAAY,EAAE,WAAW,EAAE,YAAY,EAAE,WAAW,CAAC,CAAChB,QAAQ,CAACgB,IAAI,CAAC5J,IAAI,CAAC,EAAE;MAC/EP,KAAK,CAAC,iDAAiD,CAAC;MACxD,IAAI+J,YAAY,CAACE,OAAO,EAAE;QACxBF,YAAY,CAACE,OAAO,CAACjP,KAAK,GAAG,EAAE;MACjC;MACA;IACF;;IAEA;IACA,IAAImP,IAAI,CAAC7M,IAAI,GAAG,CAAC,GAAG,IAAI,GAAG,IAAI,EAAE;MAC/B0C,KAAK,CAAC,4CAA4C,CAAC;MACnD,IAAI+J,YAAY,CAACE,OAAO,EAAE;QACxBF,YAAY,CAACE,OAAO,CAACjP,KAAK,GAAG,EAAE;MACjC;MACA;IACF;IAEA,IAAI;MACF4O,cAAc,CAAC,IAAI,CAAC;MACpBE,iBAAiB,CAAC,CAAC,CAAC;;MAEpB;MACA,MAAMO,OAAO,GAAGF,IAAI,CAAC9O,IAAI,CAACqB,KAAK,CAAC,GAAG,CAAC,CAAC4N,GAAG,CAAC,CAAC;MAC1C,MAAM1P,QAAQ,GAAG,GAAGb,UAAU,CAACG,EAAE,IAAIsC,IAAI,CAAC+N,GAAG,CAAC,CAAC,IAAIF,OAAO,EAAE;;MAE5D;MACA,MAAM;QAAE1Q,IAAI;QAAEE;MAAM,CAAC,GAAG,MAAMrB,QAAQ,CAACgS,OAAO,CAC3CjR,IAAI,CAAC,gBAAgB,CAAC,CACtBkR,MAAM,CAAC7P,QAAQ,EAAEuP,IAAI,EAAE;QACtBO,YAAY,EAAE,MAAM;QACpBC,MAAM,EAAE,KAAK;QACbC,gBAAgB,EAAGC,QAAQ,IAAK;UAC9Bf,iBAAiB,CAACpG,IAAI,CAACoH,KAAK,CAAED,QAAQ,CAACE,MAAM,GAAGF,QAAQ,CAACG,KAAK,GAAI,GAAG,CAAC,CAAC;QACzE;MACF,CAAC,CAAC;MAEJ,IAAInR,KAAK,EAAE,MAAMA,KAAK;;MAEtB;MACA,MAAM;QAAEF,IAAI,EAAEsR;MAAQ,CAAC,GAAGzS,QAAQ,CAACgS,OAAO,CACvCjR,IAAI,CAAC,gBAAgB,CAAC,CACtB2R,YAAY,CAACvR,IAAI,CAACwR,IAAI,CAAC;;MAE1B;MACA7M,WAAW,CAAC;QACV,GAAGD,QAAQ;QACXkE,SAAS,EAAE0I,OAAO,CAACG;MACrB,CAAC,CAAC;MAEFxB,cAAc,CAAC,KAAK,CAAC;IACvB,CAAC,CAAC,OAAO/P,KAAK,EAAE;MACdO,OAAO,CAACP,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;MAC9CmG,KAAK,CAAC,8CAA8C,CAAC;MACrD4J,cAAc,CAAC,KAAK,CAAC;IACvB;EACF,CAAC;EAED,MAAMnK,YAAY,GAAG,MAAOvE,CAAC,IAAK;IAChCA,CAAC,CAACwE,cAAc,CAAC,CAAC;IAElB,IAAI,CAACrB,QAAQ,CAACkE,SAAS,EAAE;MACvBvC,KAAK,CAAC,8CAA8C,CAAC;MACrD;IACF;IAEA,IAAI;MACF,MAAML,QAAQ,GAAG;QACf,GAAGtB,QAAQ;QACX3E,aAAa,EAAEK,UAAU,CAACG;MAC5B,CAAC;MAED,IAAI0F,MAAM;MAEV,IAAIf,SAAS,EAAE;QACb,MAAM;UAAElF,IAAI;UAAEE;QAAM,CAAC,GAAG,MAAMrB,QAAQ,CACnCe,IAAI,CAAC,SAAS,CAAC,CACfsG,MAAM,CAACF,QAAQ,CAAC,CAChBlG,EAAE,CAAC,IAAI,EAAEoF,SAAS,CAAC,CACnBrF,MAAM,CAAC,CAAC;QAEX,IAAIK,KAAK,EAAE,MAAMA,KAAK;QACtB+F,MAAM,GAAGjG,IAAI,CAAC,CAAC,CAAC;;QAEhB;QACA8P,eAAe,CAACD,YAAY,CAACpO,GAAG,CAACwI,IAAI,IACnCA,IAAI,CAAC1J,EAAE,KAAK2E,SAAS,GAAG;UAAE,GAAG+E,IAAI;UAAE,GAAGhE;QAAO,CAAC,GAAGgE,IACnD,CAAC,CAAC;MACJ,CAAC,MAAM;QACL,MAAM;UAAEjK,IAAI;UAAEE;QAAM,CAAC,GAAG,MAAMrB,QAAQ,CACnCe,IAAI,CAAC,SAAS,CAAC,CACfwG,MAAM,CAAC,CAACJ,QAAQ,CAAC,CAAC,CAClBnG,MAAM,CAAC,CAAC;QAEX,IAAIK,KAAK,EAAE,MAAMA,KAAK;QACtB+F,MAAM,GAAGjG,IAAI,CAAC,CAAC,CAAC;;QAEhB;QACA,IAAIsE,MAAM,KAAK,KAAK,IAAIA,MAAM,KAAK2B,MAAM,CAACW,IAAI,EAAE;UAC9CkJ,eAAe,CAAC,CAAC,GAAGD,YAAY,EAAE5J,MAAM,CAAC,CAAC;QAC5C;MACF;MAEAJ,SAAS,CAAC,CAAC;MACXpB,WAAW,CAAC,KAAK,CAAC;IACpB,CAAC,CAAC,OAAOvE,KAAK,EAAE;MACdO,OAAO,CAACP,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;MAClDmG,KAAK,CAAC,gDAAgD,CAAC;IACzD;EACF,CAAC;EACD,MAAMC,UAAU,GAAI2D,IAAI,IAAK;IAC3BtF,WAAW,CAAC;MACV4G,KAAK,EAAEtB,IAAI,CAACsB,KAAK,IAAI,EAAE;MACvBrH,WAAW,EAAE+F,IAAI,CAAC/F,WAAW,IAAI,EAAE;MACnC0E,SAAS,EAAEqB,IAAI,CAACrB,SAAS;MACzBhC,IAAI,EAAEqD,IAAI,CAACrD,IAAI,IAAI,SAAS;MAC5BrB,KAAK,EAAE0E,IAAI,CAAC1E,KAAK,IAAI,CAAC;MACtBwK,WAAW,EAAE9F,IAAI,CAAC8F,WAAW,IAAI;IACnC,CAAC,CAAC;IACF5K,YAAY,CAAC8E,IAAI,CAAC1J,EAAE,CAAC;IACrBkE,WAAW,CAAC,IAAI,CAAC;EACnB,CAAC;EAED,MAAM+B,YAAY,GAAG,MAAAA,CAAOjG,EAAE,EAAEmR,QAAQ,KAAK;IAC3C,IAAI,CAAC9N,MAAM,CAAC6C,OAAO,CAAC,yDAAyD,CAAC,EAAE;MAC9E;IACF;IAEA,IAAI;MACF;MACA,MAAM;QAAEvG;MAAM,CAAC,GAAG,MAAMrB,QAAQ,CAC7Be,IAAI,CAAC,SAAS,CAAC,CACf8G,MAAM,CAAC,CAAC,CACR5G,EAAE,CAAC,IAAI,EAAES,EAAE,CAAC;MAEf,IAAIL,KAAK,EAAE,MAAMA,KAAK;;MAEtB;MACA,IAAIwR,QAAQ,CAAClC,QAAQ,CAAC,UAAU,CAAC,IAAIkC,QAAQ,CAAClC,QAAQ,CAAC,2CAA2C,CAAC,EAAE;QACnG,IAAI;UACF,MAAMgC,IAAI,GAAGE,QAAQ,CAAC3O,KAAK,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC;UAClD,IAAIyO,IAAI,EAAE;YACR,MAAM3S,QAAQ,CAACgS,OAAO,CACnBjR,IAAI,CAAC,gBAAgB,CAAC,CACtB+R,MAAM,CAAC,CAACH,IAAI,CAAC,CAAC;UACnB;QACF,CAAC,CAAC,OAAOI,YAAY,EAAE;UACrBnR,OAAO,CAACP,KAAK,CAAC,mCAAmC,EAAE0R,YAAY,CAAC;UAChE;QACF;MACF;;MAEA;MACA9B,eAAe,CAACD,YAAY,CAACvL,MAAM,CAAC2F,IAAI,IAAIA,IAAI,CAAC1J,EAAE,KAAKA,EAAE,CAAC,CAAC;IAC9D,CAAC,CAAC,OAAOL,KAAK,EAAE;MACdO,OAAO,CAACP,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;MACpDmG,KAAK,CAAC,gDAAgD,CAAC;IACzD;EACF,CAAC;EAED,MAAMwL,cAAc,GAAG,MAAAA,CAAOtR,EAAE,EAAE2L,aAAa,KAAK;IAClD,IAAI;MACF,MAAM;QAAEhM;MAAM,CAAC,GAAG,MAAMrB,QAAQ,CAC7Be,IAAI,CAAC,SAAS,CAAC,CACfsG,MAAM,CAAC;QAAE6J,WAAW,EAAE,CAAC7D;MAAc,CAAC,CAAC,CACvCpM,EAAE,CAAC,IAAI,EAAES,EAAE,CAAC;MAEf,IAAIL,KAAK,EAAE,MAAMA,KAAK;;MAEtB;MACA4P,eAAe,CAACD,YAAY,CAACpO,GAAG,CAACwI,IAAI,IACnCA,IAAI,CAAC1J,EAAE,KAAKA,EAAE,GAAG;QAAE,GAAG0J,IAAI;QAAE8F,WAAW,EAAE,CAAC7D;MAAc,CAAC,GAAGjC,IAC9D,CAAC,CAAC;IACJ,CAAC,CAAC,OAAO/J,KAAK,EAAE;MACdO,OAAO,CAACP,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;MACvDmG,KAAK,CAAC,wCAAwC,CAAC;IACjD;EACF,CAAC;EAED,MAAMX,kBAAkB,GAAIC,SAAS,IAAK;IACxCpB,SAAS,CAACoB,SAAS,CAAC;EACtB,CAAC;EAED,MAAMmM,YAAY,GAAIlL,IAAI,IAAK;IAC7B,QAAQA,IAAI;MACV,KAAK,MAAM;QAAE,OAAO,OAAO;MAC3B,KAAK,UAAU;QAAE,OAAO,UAAU;MAClC,KAAK,UAAU;QAAE,OAAO,WAAW;MACnC,KAAK,QAAQ;QAAE,OAAO,SAAS;MAC/B;QAAS,OAAO,MAAM;IACxB;EACF,CAAC;EAED,IAAIvH,OAAO,EAAE;IACX,oBAAOjB,OAAA;MAAA4C,QAAA,EAAK;IAAuB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EAC3C;EACA,oBACEhD,OAAA;IAAA4C,QAAA,gBACE5C,OAAA;MAAA4C,QAAA,GAAI,wHAAuB,EAACZ,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAEsB,IAAI;IAAA;MAAAT,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eAElDhD,OAAA;MAAK2C,SAAS,EAAC,gBAAgB;MAAAC,QAAA,gBAC7B5C,OAAA;QAAK2C,SAAS,EAAC,eAAe;QAAAC,QAAA,gBAC5B5C,OAAA;UACE2C,SAAS,EAAE,oBAAoBuD,MAAM,KAAK,KAAK,GAAG,QAAQ,GAAG,EAAE,EAAG;UAClE3C,OAAO,EAAEA,CAAA,KAAM+D,kBAAkB,CAAC,KAAK,CAAE;UAAA1E,QAAA,EAC1C;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACThD,OAAA;UACE2C,SAAS,EAAE,oBAAoBuD,MAAM,KAAK,SAAS,GAAG,QAAQ,GAAG,EAAE,EAAG;UACtE3C,OAAO,EAAEA,CAAA,KAAM+D,kBAAkB,CAAC,SAAS,CAAE;UAAA1E,QAAA,EAC9C;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACThD,OAAA;UACE2C,SAAS,EAAE,oBAAoBuD,MAAM,KAAK,MAAM,GAAG,QAAQ,GAAG,EAAE,EAAG;UACnE3C,OAAO,EAAEA,CAAA,KAAM+D,kBAAkB,CAAC,MAAM,CAAE;UAAA1E,QAAA,EAC3C;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACThD,OAAA;UACE2C,SAAS,EAAE,oBAAoBuD,MAAM,KAAK,UAAU,GAAG,QAAQ,GAAG,EAAE,EAAG;UACvE3C,OAAO,EAAEA,CAAA,KAAM+D,kBAAkB,CAAC,UAAU,CAAE;UAAA1E,QAAA,EAC/C;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACThD,OAAA;UACE2C,SAAS,EAAE,oBAAoBuD,MAAM,KAAK,UAAU,GAAG,QAAQ,GAAG,EAAE,EAAG;UACvE3C,OAAO,EAAEA,CAAA,KAAM+D,kBAAkB,CAAC,UAAU,CAAE;UAAA1E,QAAA,EAC/C;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACThD,OAAA;UACE2C,SAAS,EAAE,oBAAoBuD,MAAM,KAAK,QAAQ,GAAG,QAAQ,GAAG,EAAE,EAAG;UACrE3C,OAAO,EAAEA,CAAA,KAAM+D,kBAAkB,CAAC,QAAQ,CAAE;UAAA1E,QAAA,EAC7C;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,eAENhD,OAAA;QACE2C,SAAS,EAAC,eAAe;QACzBY,OAAO,EAAEA,CAAA,KAAM;UACbkE,SAAS,CAAC,CAAC;UACXpB,WAAW,CAAC,CAACD,QAAQ,CAAC;QACxB,CAAE;QAAAxD,QAAA,EAEDwD,QAAQ,GAAG,OAAO,GAAG;MAAoB;QAAAvD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACpC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,EAGLoD,QAAQ,iBACPpG,OAAA;MAAK2C,SAAS,EAAC,sBAAsB;MAAAC,QAAA,gBACnC5C,OAAA;QAAA4C,QAAA,EAAKkE,SAAS,GAAG,4BAA4B,GAAG;MAAkB;QAAAjE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACxEhD,OAAA;QAAMuI,QAAQ,EAAEb,YAAa;QAAC/E,SAAS,EAAC,YAAY;QAAAC,QAAA,gBAClD5C,OAAA;UAAK2C,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzB5C,OAAA;YAAA4C,QAAA,EAAO;UAAQ;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACvBhD,OAAA;YACEwI,IAAI,EAAC,MAAM;YACXlF,IAAI,EAAC,OAAO;YACZL,KAAK,EAAEqD,QAAQ,CAAC6G,KAAM;YACtBjK,QAAQ,EAAEsE,iBAAkB;YAC5BiC,WAAW,EAAC;UAA4C;YAAA5G,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzD,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eAENhD,OAAA;UAAK2C,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzB5C,OAAA;YAAA4C,QAAA,EAAO;UAAQ;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACvBhD,OAAA;YACEsD,IAAI,EAAC,aAAa;YAClBL,KAAK,EAAEqD,QAAQ,CAACR,WAAY;YAC5B5C,QAAQ,EAAEsE,iBAAkB;YAC5B4G,IAAI,EAAC,GAAG;YACR3E,WAAW,EAAC;UAAkC;YAAA5G,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC/C,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eAENhD,OAAA;UAAK2C,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzB5C,OAAA;YAAA4C,QAAA,EAAO;UAAS;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACxBhD,OAAA;YACEsD,IAAI,EAAC,MAAM;YACXL,KAAK,EAAEqD,QAAQ,CAACkC,IAAK;YACrBtF,QAAQ,EAAEsE,iBAAkB;YAC5BiB,QAAQ;YAAA7F,QAAA,gBAER5C,OAAA;cAAQiD,KAAK,EAAC,SAAS;cAAAL,QAAA,EAAC;YAAI;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACrChD,OAAA;cAAQiD,KAAK,EAAC,MAAM;cAAAL,QAAA,EAAC;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACnChD,OAAA;cAAQiD,KAAK,EAAC,UAAU;cAAAL,QAAA,EAAC;YAAQ;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eAC1ChD,OAAA;cAAQiD,KAAK,EAAC,UAAU;cAAAL,QAAA,EAAC;YAAS;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eAC3ChD,OAAA;cAAQiD,KAAK,EAAC,QAAQ;cAAAL,QAAA,EAAC;YAAO;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACjC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,eAENhD,OAAA;UAAK2C,SAAS,EAAC,UAAU;UAAAC,QAAA,gBACvB5C,OAAA;YAAK2C,SAAS,EAAC,YAAY;YAAAC,QAAA,gBACzB5C,OAAA;cAAA4C,QAAA,EAAO;YAAgB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC/BhD,OAAA;cACEwI,IAAI,EAAC,QAAQ;cACblF,IAAI,EAAC,OAAO;cACZL,KAAK,EAAEqD,QAAQ,CAACa,KAAM;cACtBjE,QAAQ,EAAEsE,iBAAkB;cAC5BqB,GAAG,EAAC;YAAG;cAAAhG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACR,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eAENhD,OAAA;YAAK2C,SAAS,EAAC,2BAA2B;YAAAC,QAAA,eACxC5C,OAAA;cAAA4C,QAAA,gBACE5C,OAAA;gBACEwI,IAAI,EAAC,UAAU;gBACflF,IAAI,EAAC,aAAa;gBAClBgG,OAAO,EAAEhD,QAAQ,CAACqL,WAAY;gBAC9BzO,QAAQ,EAAEsE;cAAkB;gBAAA3E,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC7B,CAAC,8PAEJ;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAENhD,OAAA;UAAK2C,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzB5C,OAAA;YAAA4C,QAAA,EAAO;UAAW;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,EACzBsD,QAAQ,CAACkE,SAAS,gBACjBxK,OAAA;YAAK2C,SAAS,EAAC,eAAe;YAAAC,QAAA,gBAC5B5C,OAAA;cAAK4M,GAAG,EAAEtG,QAAQ,CAACkE,SAAU;cAACqC,GAAG,EAAC;YAAuB;cAAAhK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eAC5DhD,OAAA;cACEwI,IAAI,EAAC,QAAQ;cACbjF,OAAO,EAAEA,CAAA,KAAMgD,WAAW,CAAC;gBAAC,GAAGD,QAAQ;gBAAEkE,SAAS,EAAE;cAAE,CAAC,CAAE;cACzD7H,SAAS,EAAC,kBAAkB;cAAAC,QAAA,gBAE5B5C,OAAA;gBAAG2C,SAAS,EAAC;cAAc;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,qDAClC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC,gBAENhD,OAAA;YAAK2C,SAAS,EAAC,kBAAkB;YAAAC,QAAA,gBAC/B5C,OAAA;cACEwI,IAAI,EAAC,MAAM;cACXmL,MAAM,EAAC,SAAS;cAChBzQ,QAAQ,EAAEiP,gBAAiB;cAC3B3F,QAAQ,EAAEoF,WAAY;cACtBgC,GAAG,EAAE5B;YAAa;cAAAnP,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACnB,CAAC,EACD4O,WAAW,iBACV5R,OAAA;cAAK2C,SAAS,EAAC,iBAAiB;cAAAC,QAAA,gBAC9B5C,OAAA;gBACE2C,SAAS,EAAC,cAAc;gBACxB+G,KAAK,EAAE;kBAAEG,KAAK,EAAE,GAAGiI,cAAc;gBAAI;cAAE;gBAAAjP,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACnC,CAAC,eACPhD,OAAA;gBAAA4C,QAAA,GAAOkP,cAAc,EAAC,GAAC;cAAA;gBAAAjP,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC3B,CACN,eACDhD,OAAA;cAAK2C,SAAS,EAAC,kBAAkB;cAAAC,QAAA,EAAC;YAAG;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eAC3ChD,OAAA;cACEwI,IAAI,EAAC,KAAK;cACVlF,IAAI,EAAC,WAAW;cAChBL,KAAK,EAAEqD,QAAQ,CAACkE,SAAU;cAC1BtH,QAAQ,EAAEsE,iBAAkB;cAC5BiC,WAAW,EAAC,sIAA6B;cACzC+C,QAAQ,EAAEoF;YAAY;cAAA/O,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACvB,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CACN;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC,eAENhD,OAAA;UAAK2C,SAAS,EAAC,cAAc;UAAAC,QAAA,gBAC3B5C,OAAA;YAAQwI,IAAI,EAAC,QAAQ;YAAC7F,SAAS,EAAC,kBAAkB;YAACY,OAAO,EAAEA,CAAA,KAAM8C,WAAW,CAAC,KAAK,CAAE;YAAAzD,QAAA,EAAC;UAEtF;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACThD,OAAA;YACEwI,IAAI,EAAC,QAAQ;YACb7F,SAAS,EAAC,kBAAkB;YAC5B6J,QAAQ,EAAEoF,WAAY;YAAAhP,QAAA,EAErBkE,SAAS,GAAG,kBAAkB,GAAG;UAAoB;YAAAjE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChD,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACJ,CACN,eAELhD,OAAA;MAAK2C,SAAS,EAAC,yBAAyB;MAAAC,QAAA,EACrC6O,YAAY,CAACrP,MAAM,KAAK,CAAC,gBACxBpC,OAAA;QAAK2C,SAAS,EAAC,eAAe;QAAAC,QAAA,eAC5B5C,OAAA;UAAA4C,QAAA,EAAG;QAA2C;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC/C,CAAC,gBAENhD,OAAA;QAAK2C,SAAS,EAAC,oBAAoB;QAAAC,QAAA,EAChC6O,YAAY,CAACpO,GAAG,CAACwI,IAAI,iBACpB7L,OAAA;UAAmB2C,SAAS,EAAE,gBAAgBkJ,IAAI,CAAC8F,WAAW,GAAG,UAAU,GAAG,EAAE,EAAG;UAAA/O,QAAA,gBACjF5C,OAAA;YAAK2C,SAAS,EAAC,eAAe;YAAAC,QAAA,gBAC5B5C,OAAA;cAAK4M,GAAG,EAAEf,IAAI,CAACrB,SAAU;cAACqC,GAAG,EAAEhB,IAAI,CAACsB,KAAK,IAAI;YAAyB;cAAAtK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,EACxE6I,IAAI,CAAC8F,WAAW,iBACf3R,OAAA;cAAK2C,SAAS,EAAC,gBAAgB;cAAAC,QAAA,gBAC7B5C,OAAA;gBAAG2C,SAAS,EAAC;cAAa;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,aACjC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CACN,eACDhD,OAAA;cAAK2C,SAAS,EAAC,iBAAiB;cAAAC,QAAA,gBAC9B5C,OAAA;gBACE2C,SAAS,EAAC,yBAAyB;gBACnCY,OAAO,EAAEA,CAAA,KAAMiC,MAAM,CAACqO,IAAI,CAAChI,IAAI,CAACrB,SAAS,EAAE,QAAQ,CAAE;gBAAA5H,QAAA,eAErD5C,OAAA;kBAAG2C,SAAS,EAAC;gBAAoB;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAChC,CAAC,eACThD,OAAA;gBACE2C,SAAS,EAAC,yBAAyB;gBACnCY,OAAO,EAAEA,CAAA,KAAMkQ,cAAc,CAAC5H,IAAI,CAAC1J,EAAE,EAAE0J,IAAI,CAAC8F,WAAW,CAAE;gBAAA/O,QAAA,eAEzD5C,OAAA;kBAAG2C,SAAS,EAAE,UAAUkJ,IAAI,CAAC8F,WAAW,GAAG,MAAM,GAAG,MAAM;gBAAG;kBAAA9O,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC5D,CAAC,eACThD,OAAA;gBACE2C,SAAS,EAAC,yBAAyB;gBACnCY,OAAO,EAAEA,CAAA,KAAM2E,UAAU,CAAC2D,IAAI,CAAE;gBAAAjJ,QAAA,eAEhC5C,OAAA;kBAAG2C,SAAS,EAAC;gBAAa;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACzB,CAAC,eACThD,OAAA;gBACE2C,SAAS,EAAC,2BAA2B;gBACrCY,OAAO,EAAEA,CAAA,KAAM6E,YAAY,CAACyD,IAAI,CAAC1J,EAAE,EAAE0J,IAAI,CAACrB,SAAS,CAAE;gBAAA5H,QAAA,eAErD5C,OAAA;kBAAG2C,SAAS,EAAC;gBAAc;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC1B,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eACNhD,OAAA;YAAK2C,SAAS,EAAC,cAAc;YAAAC,QAAA,GAC1BiJ,IAAI,CAACsB,KAAK,iBAAInN,OAAA;cAAA4C,QAAA,EAAKiJ,IAAI,CAACsB;YAAK;cAAAtK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,EACnC6I,IAAI,CAAC/F,WAAW,iBAAI9F,OAAA;cAAA4C,QAAA,EAAIiJ,IAAI,CAAC/F;YAAW;cAAAjD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC9ChD,OAAA;cAAK2C,SAAS,EAAC,cAAc;cAAAC,QAAA,gBAC3B5C,OAAA;gBAAM2C,SAAS,EAAC,cAAc;gBAAAC,QAAA,EAAE8Q,YAAY,CAAC7H,IAAI,CAACrD,IAAI;cAAC;gBAAA3F,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eAC/DhD,OAAA;gBAAM2C,SAAS,EAAC,eAAe;gBAAAC,QAAA,GAAC,sBAAK,EAACiJ,IAAI,CAAC1E,KAAK;cAAA;gBAAAtE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACrD,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC;QAAA,GA1CE6I,IAAI,CAAC1J,EAAE;UAAAU,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OA2CZ,CACN;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC;IACN;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACwO,GAAA,CAngBQ1N,mBAAmB;AAAAgQ,GAAA,GAAnBhQ,mBAAmB;AAAA,IAAAC,EAAA,EAAAgC,GAAA,EAAAgD,GAAA,EAAAgB,GAAA,EAAAiD,GAAA,EAAAsB,GAAA,EAAAiD,GAAA,EAAAuC,GAAA;AAAAC,YAAA,CAAAhQ,EAAA;AAAAgQ,YAAA,CAAAhO,GAAA;AAAAgO,YAAA,CAAAhL,GAAA;AAAAgL,YAAA,CAAAhK,GAAA;AAAAgK,YAAA,CAAA/G,GAAA;AAAA+G,YAAA,CAAAzF,GAAA;AAAAyF,YAAA,CAAAxC,GAAA;AAAAwC,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}